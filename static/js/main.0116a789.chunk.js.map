{"version":3,"sources":["CheckoutForm.js","ExpressCheckout.js","CartItemList.js","Cart.js","RecentlyViewed.js","Header.js","CartSignIn.js","About.js","Contact.js","AllProducts.js","FullSets.js","Tops.js","Skirts.js","Belts.js","Shop.js","SignInWithEmail.js","Wishlist.js","Account.js","ReturnPolicy.js","Home.js","SignInSuccessful.js","SignInSuccessEmail.js","PrivacyPolicy.js","TermsOfService.js","OrderSuccess.js","ShippingItemList.js","ShippingOrderReview.js","ProductPage.js","MyOrders.js","Blog.js","Favorites.js","App.js","serviceWorker.js","index.js","Checkout.js","Context.js"],"names":["qs","require","http","CheckoutForm","useContext","Context","userInfo","updateDatabaseOrders","setItemList","setAnonList","modifyCartCount","modifyTotalPrice","totalCost","itemList","itemsPurchased","costTallyFinished","setItemsPurchased","costTaxShipping","receiptEmail","tempShipAddress","anonUser","uid","setTempShipAddress","tempBillAddress","setTempBillAddress","setReceiptEmail","setFinalItemList","storeCredit","handleStoreCreditPrompt","storeCreditUsed","priceAfterStoreCredit","setStoreCredit","setStoreCreditUsed","setPriceAfterStoreCredit","confirmExchangeOrder","exchangePurchase","exchangePurchaseComplete","lastExchangeOrderCreditUsed","setOnCheckout","userEmail","orderComplete","setOrderComplete","setOrderFinished","useExpressMode","payMethod","setSameAsBilling","sameAsBilling","setUsePrevBilling","usePrevBilling","setBillingAddress","setUseExpressMode","stripePromise","isLargeScreen","setDisplayPayPal","payPalHeightArr","setPayPalHeightArr","setEnterPaymentAllowed","enterPaymentAllowed","responsiveEmail","stripe","setResponsiveEmail","useStripe","elements","useElements","useState","spinnerDisplayed","setSpinnerDisplayed","orderString","setOrderString","amountPaid","setAmountPaid","usePrevCard","setUsePrevCard","rememberCard","setRememberCard","prevCardSpacing","setPrevCardSpacing","handleUsePrevCard","useEffect","includes","undefined","setHasPrevCard","userIDSubstring","substring","randNum","Math","floor","random","semiUniqueString","CARD_ELEMENT_OPTIONS","style","base","width","height","padding","margin","boxSizing","border","color","fontFamily","fontSmoothing","fontSize","maxWidth","invalid","iconColor","disableButton","document","getElementById","display","enableButton","deliverDate","setDeliverDate","processError","setProcessError","userName","setUserName","toFixed","toString","payPalCost","setPayPalCost","payPalSuccess","setPayPalSuccess","payPalFailure","setCheckoutLoaded","incrementStripe","setIncrementStripe","dateToString","Date","now","split","newDateString","join","setPaymentInt","firebase","auth","onAuthStateChanged","user","a","displayName","console","log","functions","httpsCallable","then","result","data","catch","error","cardSvg","setCardSvg","handleSubmit","event","preventDefault","cardElement","getElement","CardElement","createPaymentMethod","type","card","billing_details","name","paymentMethod","lastFour","last4","country","brand","id","client_secret","confirmCardPayment","payment_method","paymentIntent","itemNameArray","map","item","amount","payAmount","checkoutNote","value","orderObject","nameArrayJoined","orderObj","forEach","i","itemPrice","Number","shipAddress","setShipAddress","prevAddressShipping","paymentRequest","setPaymentRequest","pr","currency","total","label","requestPayerName","requestPayerEmail","canMakePayment","showPayError","setShowPayError","on","ev","clientSecret","handleActions","confirmError","complete","payPalCostString","setPayPalCostString","string","req","request","res","chunks","chunk","push","body","Buffer","concat","write","stringify","grant_type","end","window","paypal","Buttons","env","layout","size","shape","fundingicons","tagline","createOrder","actions","JSON","intent","purchase_units","reference_id","currency_code","application_context","return_url","cancel_url","order","create","onApprove","capture","details","alert","payer","given_name","render","exchangeSpinnerDisplayed","setExchangeSpinnerDisplayed","hasPrevCard","class","checked","onClick","for","flexDirection","className","src","onLoad","to","rows","cols","maxlength","placeholder","indexOf","data-tooltip","tabindex","title","onSubmit","options","onChange","disabled","ExpressCheckout","loadStripe","prevAddressBilling","setPayMethod","finalItemList","applePayDevice","billingAddress","usePrevShip","setUsePrevShip","usePrevBill","setUsePrevBill","sameAsBillingBool","setPayPalFailure","ppCost","handleConfirmPayment","paymentRequestButton","theme","selected","clientId","onSuccess","ppData","catchError","CartItemList","storage","ref","removeFromCart","itemArray","addToCart","activateRemoveFromCartModal","handleRemoveMultipleFromCart","newFinalList","filter","arrayOfGivenItem","pop","finalList","length","newItemList","itemsOfKind","itemsOfKindLength","newItem","productNameLink","productNickName","productFullColor","productColorNameHex","colorName","colorHex","productSize","productQuant","modalItem","modalOptions","numbersBeforeSelected","numbersAfterSelected","sale","productName","quantChosen","itemsOfNameColorSize","itemQuant","itemTemplate","subtractedQuant","newQuant","finalListItems","finalListOthers","finalItemRecounted","newListNoNegatives","moddedNumber","setAttribute","addedQuant","cartItem","colorArr","handleQuantChoice","number","Cart","itemCount","itemNumberString","setRouterString","routerString","setTermsDisplay","expressCheckoutOn","accountTitleString","handleExpressModal","setExpressCheckoutOn","setSearchString","setOnProductPage","currentUser","aria-label","role","scroll","RecentlyViewed","previouslyViewed","setPreviouslyViewed","onProductPage","reversed","setReversed","reverse","setResponsiveHeight","numString","Header","onscroll","winScroll","scrollTop","documentElement","scrollHeight","clientHeight","scrolled","scrollSet","setUrlString","href","CartSignIn","providerId","setProviderId","setUid","setDisplayName","setUserEmail","photoURL","setPhotoURL","providerData","profile","email","firebaseui","AuthUI","start","autoUpgradeAnonymousUsers","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","PhoneAuthProvider","callbacks","signInFailure","code","Promise","resolve","cred","credential","signInWithCredential","signOut","location","reload","About","Contact","messageSent","setMessageSent","messagePresent","setMessagePresent","onKeyUp","messageText","handleSendMessage","AllProducts","wishlistItems","addToWishlist","setWishlistItems","cartInfo","setCartInfo","removeFromWishlist","allProducts","modifyWishlistCount","activateAddToWishlistModal","productPageComponent","setProductPageComponent","setProductOnPageCount","productOnPageCount","activateRemoveFromWishlistModal","loaderOn","setLoaderOn","loadedCount","setLoadedCount","emptyHeartSource","filledHeartSource","handleWishlist","count","putBackItem","refString","productInWishlistArray","productPageLinkString","numInCart","bestseller","posArray","onMouseOver","itemName","heartIcon","handleShowHeart","onMouseOut","handleHideHeart","toUpperCase","backgroundColor","animate","visibility","x","y","rx","ry","getBoundingClientRect","top","scrollY","left","FullSets","fullSetCategory","setCategorySearch","displayNumber","allNumber","itemString","sets","setSets","setNames","Tops","topCategory","tops","setTops","topNames","rightArray","Skirts","skirtCategory","pageNumber","setTotalSkirtsCount","pageOne","pageTwo","pageThree","pageFour","pageFive","refresh","skirts","setSkirts","skirtNames","Belts","beltCategory","belts","setBelts","beltNames","Shop","useRouteMatch","itemCategory","productsLoaded","setProductsArray","productNames","exact","path","SignInWithEmail","emailInputDisplayed","setEmailInputDisplayed","setInputEmail","linkSent","setLinkSent","sendSignInLinkToEmail","url","handleCodeInApp","iOS","bundleId","android","packageName","installApp","minimumVersion","localStorage","setItem","sendEmail","Wishlist","fromWishlistToCart","Account","setUserInfo","setAnonUser","userSignedInCount","setUserSignedInCount","handleSignOut","wishlistItemCount","setSignInUiLoaded","signInUiLoaded","accountName","termsDisplay","wishlistTempCache","allowNotify","notifyUpdated","setNotifyUpdated","updatesChoice","setStaySignedIn","setUpdatesChoice","staySignedIn","wishlistString","darkMode","setDarkMode","wishListDisplayed","setWishlistDisplayed","setWishlistString","userSignedIn","setUserSignedIn","haveEmail","setHaveEmail","signOutDisplay","setSignOutDisplay","toggleUpdatesBool","bool","setUpdatesBool","updatesBool","deleteModal","setDeleteModal","updateSignedIn","delete","staySignedBool","toggleStaySignedIn","sign","up","setDefaults","ReturnPolicy","Home","setIsLargeScreen","toggleMenu","sidebarOpen","setToggleMenu","toggleString","setToggleString","handleToggleMenu","homeLoaded","incrementHome","setHomeLoaded","isMobile","setIsMobile","counter","setCounter","topsPhoto","setTopsPhoto","beautifulDriaPhoto","setBeautifulDriaPhoto","handleOnDragStart","e","landingPhoto","setLandingPhoto","mobileCheck","check","navigator","userAgent","vendor","opera","test","substr","currentIndex","setCurrentIndex","handleCurrentIndex","direction","onTouchStart","buttonsDisabled","slideToIndex","mouseTrackingEnabled","onDragStart","SignInSuccessful","setError","isSignInWithEmailLink","getItem","prompt","signInWithEmailLink","removeItem","SignInSuccessEmail","confirmEmail","setConfirmEmail","emailError","setEmailError","signUpComplete","setSignUpComplete","handleConfirmEmail","handleFinishSignUp","password","createUserWithEmailAndPassword","message","PrivacyPolicy","TermsOfService","OrderSuccess","ShippingItemList","ShippingComponent","modifyAddressSaved","addressSaved","setTaxAmount","taxAmount","setCostTaxShipping","addressHandled","stripeDisplayed","displayStripe","setStripeDisplayed","canResize","setCanResize","shippingNotSet","setShippingNotSet","focusLocked","setFocusLocked","input","setShipType","setFinalCostDisplayed","setShippingSelected","costWithTax","setEstDelivery","deliverStandardDate","setShippingCost","deliverExpeditedDate","deliverRushDate","handleShipType","shippingInternational","showEmailInput","setShowEmailInput","address2Shipping","setAddress2Shipping","address2Billing","setAddress2Billing","address2BillingButton","setAddress2BillingButton","address2ShippingButton","setAddress2ShippingButton","address2","setAddress2","addressCache","setAddressCache","americaBilling","americaShipping","setDeliverStandardDate","setDeliverExpeditedDate","setDeliverRushDate","setOrderDate","errorShipping","setErrorShipping","errorBilling","setErrorBilling","shippingSaved","setShippingSaved","billingSaved","setBillingSaved","usePrevShipping","setUsePrevShipping","displayAddressForm","setDisplayAddressForm","setEnableOrderConfirm","handleUsePrevAddress","currentDate","standardDateString","StandardDateStringJoined","expeditedDateString","ExpeditedDateStringJoined","rushDateString","RushDateStringJoined","eachLoaded","setEachLoaded","displayEmailCheckmark","checkmark","displaySaveShipAddressCheckmark","setDisplaySaveShipAddressCheckmark","displaySaveBillAddressCheckmark","setDisplaySaveBillAddressCheckmark","setPhoneNumber","handleSaveAddress","addressType","setShipNextDisabled","setBillNextDisabled","firstName","lastName","countryElement","selectedIndex","address1","city","phone","zipCode","stateElement","state","goToError","addressInfo","sameAsOtherAddress","tempInfo","shipSaveModal","setShipSaveModal","handleAddress2","usePrevEmail","setNotUsePrevEmail","shippingSelected","loc","setPossibleNumber","setCountry","region","setRegion","isPossiblePhoneNumber","shipButtonDisabled","setShipButtonDisabled","billButtonDisabled","setBillButtonDisabled","handleButtonsEnabled","first","last","add","zip","num","num2","AddressComponent","props","addressTypeBilling","addressTypeShipping","charAt","slice","natNumbers","handleFocus","required","val","handleProgressShipAddress","setTabIndex","undefinedAddress","setUndefinedAddress","displayAddressCheckmark","setDisplayAddressCheckmark","tabIndex","handleProgressPrevAddress","scrollTo","prevNextDisabled","setPrevNextDisabled","shipNextDisabled","billNextDisabled","setDirectionString","defaultIndex","onSelect","hidden","emailVal","saveEmail","Checkout","ProductPage","activateAddToCartModal","activateOptionsModal","itemLoadedCount","setItemLoadedCount","searchString","setModalOpen","incrementer","setIncrementer","setProductStock","quantSelected","setQuantSelected","chosenColor","setChosenColor","chosenColorHex","setChosenColorHex","oneColor","setOneColor","setColorArr","onSale","setOnSale","oneSize","setOneSize","chosenSize","setChosenSize","itemSizes","itemColors","cosaAlMenudoCompradoCon","itemBoughtWith","setItemBoughtWith","productStock","choiceStockCount","setChoiceStockCount","stockString","setStockString","itemIsSelected","setItemIsSelected","choiceStockDescriptor","setChoiceStockDescriptor","selection","formattedSize","toLowerCase","buttonDisabled","setButtonDisabled","storageArr","storageArrAlt","storageArrAlt2","newArr","fullItem","find","j","k","newColorArr","handleAddToCart","options2","numberInCart","longDescript","moreImagesProto","moreImages","setMoreImages","currentImage","setCurrentImage","setBigPic","bigPic","setProductPageLinkString","setItemCategory","hasCategory","setHasCategory","buyNowAllowed","setBuyNowAllowed","indexNum","itemLink","itemLink2","finalLink","arr","addToPrevious","valueArr","handleColorChoiceRemix","colorSplit","selectedSize","handleSizeChoice","linkString","MyOrders","showEarlier","setShowEarlier","prevOrders","ordersLoaded","newOrder","filtLength","itemColor","itemSize","lastFiveOrders","finalOrder","Set","orderQuant","emptyArr","dateShort","briefDate","orderType","orderCreditUsed","orderStatus","orderTracking","product","productCount","boolArr","productSource","Blog","Favorites","App","modalExecute","modalOpen","modalText","optionsModalText","closeOptionsModal","setAccountTitleString","handleAllCredit","modStoreCredit","onCheckout","categorySearch","setAllNumber","setDisplayNumber","setItemString","storeCreditExceedsCost","setStoreCreditExceedsCost","changeAmount","setChangeAmount","setSidebarOpen","homeIncrement","setModalOpenBool","mouseOverModal","closeExpressModal","setTimeout","isAnonymous","credentialHelper","CredentialHelper","ACCOUNT_CHOOSER_COM","TwitterAuthProvider","urlString","setListShow","PrivacyAndTermsAgreement","mouseOverShop","navString","leaveCheckoutModal","setLeaveCheckoutModal","turnOffModal","autocomplete","inp","currentFocus","addActive","classList","remove","removeActive","closeAllLists","elmnt","getElementsByClassName","parentNode","removeChild","addEventListener","b","this","createElement","appendChild","innerHTML","getElementsByTagName","keyCode","click","target","productsArray","searchArray","setSearchArray","searchClass","setSearchClass","handleSearchShop","prop","filt1","filtArr","filtSplit1","filtSplit2Arr","filtSplit2","all","allArray","Array","prototype","call","prod","prodID","searchQuant","hamburgerDisplayString","listItemDisplay","handleSidebar","max","data-sticky-container","data-stick-to","data-responsive-toggle","hideFor","data-toggle","onKeyPress","data-dropdown-menu","data-accordion-menu","classsName","Boolean","hostname","match","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister","displayPayPal","closeStoreCreditModal","innerWidth","min","React","createContext","cartCount","contextTotalPrice","ContextProvider","children","setProductsLoaded","genericKey","setAddressSaved","setPrevAddressBilling","setPrevAddressShipping","itemsMerged","setItemsMerged","normalWishlistCount","setNormalWishlistCount","contextWishlistCount","setContextWishlistCount","setAllowNotify","setAddressHandled","setAccountName","twitterUser","setTwitterUser","newShippingArr","newBillingArr","_fieldsProto","address_shipping","arrayValue","values","obj","stringValue","booleanValue","address_billing","allowNotifications","notifyBool","setTotalCost","setItemCount","signInAnonymously","anon","emailVerified","contextPrice","setContextPrice","contextCount","setContextCount","setCostTallyFinished","anonCart","setAnonCart","wishlistArray","cartCost","totalCount","itemCost","normalCost","setNormalCost","normalCount","setNormalCount","setWishlistItemCount","wishlistCount","setItemNumberString","cartLoaded","setCartLoaded","wishlistLoaded","setWishlistLoaded","activateMergeCartModal","setAllProducts","imageURL","Price","descriptBrief","descriptLong","imageTrueUrl","colors","sizes","categories","boughtWith","Stock","Bestseller","Sale","setBeltCategory","setTopCategory","setSkirtCategory","setFullSetCategory","beltsArray","fullSetsArr","topsArray","skirtsArray","itemStringMap","items","addedCost","reduce","addedCount","wishlistLengthArray","newWishlistArray","newerItem","finalArray","setWishlistTempCache","secondAddedCount","itemNumber","priceNumber","wishlistCache","newList","colorString","prevItemCartCount","quant","quantDifference","tempArray","cartCache","normalPrice","newCart","finalCart","setOrdersLoaded","setPrevOrders","ordersArray","emailArray","theEmail","customer_email","date","orderAmount","fullOrderData","store_credit","integerValue","setModdedStoreCredit","staySigned","notify","dark","modalTempItem","setModalTempItem","modalTempOptions","setModalTempOptions","modalFunction","setModalFunction","setModalText","itemsArray","itemNames","setOptionsModalText","optionsModalDisplayed","setOptionsModalDisplayed","moddedStoreCredit","setExchangePurchase","setExchangePurchaseComplete","setLastExchangeOrderCreditUsed","onbeforeunload","orderFinished","isClient","getSize","innerHeight","windowSize","setWindowSize","handleResize","removeEventListener","aspectRatio","screen","lockOrientation","mozLockOrientation","msLockOrientation","orientation","lock","Provider","handleLocation","locus","text","moddedCost","chosenCreditProto","chosenCredit","exchangeNote"],"mappings":"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sQAGA,6BACA,uDACA,6BACA,sMAGA,4BACQ,yHACA,+DACA,mJACA,0EACA,sJACA,0HACA,kFACA,8GACA,kEACA,4FACA,4EACA,8HACA,6DACA,4FACA,2EACA,iFACA,sDACA,+EACA,8DAER,6BACA,8DACA,6BACA,wJAEA,6BACA,0DACA,6BACA,gcAMA,6BACA,4DACA,6BACA,yPAGA,6BACA,uDACA,6BACA,mMAGA,6BACA,sDACA,6BACA,wTAIA,6BACA,yCACA,6BACA,8TAIA,6BACA,gDACA,6BACA,8IAEA,6BACA,kDACA,6BACA,4PAGA,6BACA,iDACA,6BACA,qcAMA,6BACA,gXAKA,6BACA,qDACA,6BACA,sDACA,6BACA,ytBASA,6BACA,yDACA,6BACA,ggBAMA,6BACA,gDACA,6BACA,+5BAWA,6BACA,0QAGA,6BACA,oDACA,6BACA,i4BAWA,6BACA,4DACA,6BACA,imBAQA,6BACA,mDACA,6BACA,oQAGA,6BACA,kEACA,6BACA,y/BAYA,6BACA,kEACA,6BACA,kDACA,6BACA,iIAEA,6BACA,2FACA,6BACA,yFACA,6BACA,gWAIA,6BACA,wDACA,6BACA,4IAEA,6BACA,6KAEA,6BACA,0FACA,6BACA,gMAEA,6BACA,yDACA,6BACA,yoBASA,6BACA,glBASA,6BACA,0CACA,6BACA,iHAEA,6BACA,+CACA,+CACA,8CACA,oCACA,oDACA,yEAIxB,yBAAK6M,UAAU,UAAUoG,aAAW,gBAAgBC,KAAK,cACjD,wBAAI1G,MAAM,eACF,4BAAI,kBAAC,IAAD,CAAMQ,GAAG,KAAT,SACJ,4BAAI,kBAAC,IAAD,CAAMA,GAAG,mBAAT,mBACJ,4BACQ,0BAAMR,MAAM,eAAZ,gCCzOjCgY,MAhKf,WAA2B,IAAD,EAQGxnB,qBAAWC,KAJhCsV,GAJkB,EAGlBC,aAHkB,EAIlBD,iBACAE,EALkB,EAKlBA,gBACAK,EANkB,EAMlBA,gBACA9S,EAPkB,EAOlBA,cACA+S,EARkB,EAQlBA,iBAeJ,OAbArR,qBAAU,WACN6Q,EAAgB,kBAChBQ,GAAiB,GACjBD,EAAgB,MACjB,IA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","file":"static/js/main.0116a789.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\"\r\nimport { useStripe, useElements, CardElement, Elements, PaymentRequestButtonElement } from \"@stripe/react-stripe-js\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport './CardSectionStyles.css'\r\nimport Cart from \"./Cart\"\r\nimport Stripe from \"stripe\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport { Checkmark } from \"react-checkmark\"\r\nimport { PayPalButton } from \"react-paypal-button\";\r\nimport Checkout from \"./Checkout\"\r\nimport ExpressCheckout from \"./ExpressCheckout\"\r\nvar qs = require(\"querystring\");\r\nvar http = require(\"https\");\r\n\r\n\r\n\r\n// const stripe = require('stripe')(functions.config().stripe.token);\r\n// import jQuery from \"jquery\"\r\n// import popper from \"popper.js\"\r\n// const bootstrap = require('bootstrap')\r\n\r\n\r\n\r\n\r\nfunction CheckoutForm() {\r\n\r\n\r\n\r\n\r\n    // const elements = Elements\r\n    const {\r\n        userInfo,\r\n        updateDatabaseOrders,\r\n        setItemList,\r\n        setAnonList,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        totalCost,\r\n        itemList,\r\n        costTallyFinished,\r\n        itemsPurchased,\r\n        setItemsPurchased,\r\n        costTaxShipping,\r\n        receiptEmail,\r\n        anonUser,\r\n        tempShipAddress,\r\n        setTempShipAddress,\r\n        tempBillAddress,\r\n        setTempBillAddress,\r\n        setReceiptEmail,\r\n        uid,\r\n        setFinalItemList,\r\n        storeCredit,\r\n        handleStoreCreditPrompt,\r\n        storeCreditUsed,\r\n        priceAfterStoreCredit,\r\n        setStoreCredit,\r\n        setStoreCreditUsed,\r\n        setPriceAfterStoreCredit,\r\n        confirmExchangeOrder,\r\n        exchangePurchase,\r\n        exchangePurchaseComplete,\r\n        lastExchangeOrderCreditUsed,\r\n        setOnCheckout,\r\n        userEmail,\r\n        orderComplete,\r\n        setOrderComplete,\r\n        setOrderFinished,\r\n        useExpressMode,\r\n        setSameAsBilling,\r\n        sameAsBilling,\r\n        setUsePrevBilling,\r\n        usePrevBilling,\r\n        setBillingAddress,\r\n        payMethod,\r\n        setUseExpressMode,\r\n        stripePromise,\r\n        isLargeScreen,\r\n        payPalHeightArr,\r\n        setPayPalHeightArr,\r\n        setDisplayPayPal,\r\n        enterPaymentAllowed,\r\n        setEnterPaymentAllowed,\r\n        responsiveEmail,\r\n        setResponsiveEmail\r\n    } = useContext(Context)\r\n\r\n    const stripe = useStripe()\r\n    const elements = useElements()\r\n\r\n    const [spinnerDisplayed, setSpinnerDisplayed] = useState(false)\r\n\r\n    const [orderString, setOrderString] = useState(\"\")\r\n\r\n\r\n    const [amountPaid, setAmountPaid] = useState(0)\r\n\r\n    const [usePrevCard, setUsePrevCard] = useState(true)\r\n    const [usePrevShip, setUsePrevShip] = useState(true)\r\n    const [usePrevBill, setUsePrevBill] = useState(true)\r\n    const [sameAsBillingBool, setSameAsBillingBool] = useState(true)\r\n\r\n    const [rememberCard, setRememberCard] = useState(true)\r\n\r\n    function handleRememberCard() {\r\n        setRememberCard(!rememberCard)\r\n    }\r\n\r\n\r\n    const [prevCardSpacing, setPrevCardSpacing] = useState(\"9vw\")\r\n\r\n    function handlePrevCardSpacing() {\r\n        if (prevCardSpacing == \"9vw\") {\r\n            setPrevCardSpacing(\"-7vw\")\r\n        } else {\r\n            setPrevCardSpacing(\"9vw\")\r\n        }\r\n    }\r\n\r\n\r\n    function handleUsePrevCard() {\r\n        setUsePrevCard(!usePrevCard)\r\n        handlePrevCardSpacing()\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setPriceAfterStoreCredit(totalCost)\r\n        setOrderFinished(false)\r\n\r\n        if (payMethod) {\r\n            setUseExpressMode(true)\r\n        } else {\r\n            setUseExpressMode(false)\r\n        }\r\n\r\n        if (payMethod.includes(undefined)) {\r\n            setHasPrevCard(false)\r\n        }\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        let userIDSubstring = uid.substring(0, 4)\r\n\r\n        let randNum = (Math.floor(Math.random() * 100000))\r\n\r\n        let semiUniqueString = `${userIDSubstring}${randNum}`\r\n        setOrderString(semiUniqueString)\r\n\r\n\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    // Card Element stylings...\r\n    const CARD_ELEMENT_OPTIONS = {\r\n        style: {\r\n            base: {\r\n                width: `${isLargeScreen ? \"100%\" : \"100vw\"}`,\r\n                height: \"10em\",\r\n                padding: `20em`,\r\n                margin: `${isLargeScreen ? \"20em\" : \"\"}`,\r\n                boxSizing: \"border-box\",\r\n                border: \"2px solid pink\",\r\n                color: \"#32325d\",\r\n                fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\r\n                fontSmoothing: \"antialiased\",\r\n                fontSize: `${isLargeScreen ? \"16px\" : \"12px\"}`,\r\n                \"::placeholder\": {\r\n                    color: \"#aab7c4\",\r\n                },\r\n                maxWidth: \"100vw\"\r\n            },\r\n            invalid: {\r\n                color: \"#fa755a\",\r\n                iconColor: \"#fa755a\",\r\n            },\r\n        },\r\n    };\r\n\r\n\r\n    function handleConfirmPayment() {\r\n\r\n        // We don't want to let default form submission happen here,\r\n        // which would refresh the page.\r\n        disableButton()\r\n        setProcessError(false)\r\n        setIncrementStripe(incrementStripe + 1)\r\n        if (!stripe || !elements) {\r\n            // Stripe.js has not yet loaded.\r\n            // Make sure to disable form submission until Stripe.js has loaded.\r\n            return;\r\n        } else {\r\n            setSpinnerDisplayed(true)\r\n            firebase.functions().httpsCallable('getClientSecret')()\r\n                .then(async (result) => {\r\n                    console.log(result + \" \" + result.data)\r\n                    console.log(payMethod)\r\n                    const client_secret = result.data\r\n                    // confirm card payment:\r\n                    const { paymentIntent, error } = await stripe.confirmCardPayment(\r\n                        client_secret,\r\n                        {\r\n                            payment_method: payMethod[3]\r\n                        },\r\n                    )\r\n                    if (paymentIntent) {\r\n                        return paymentIntent\r\n                    } else {\r\n                        return error\r\n                    }\r\n                })\r\n                .then(async (result) => {\r\n                    console.log(result)\r\n                    // if the result has a type, it was not confirmed:\r\n                    if (!result.type) {\r\n                        const itemNameArray = itemList.map(item => {\r\n                            return item[0]\r\n                        })\r\n                        setAmountPaid(result.amount)\r\n                        let payAmount = result.amount\r\n                        let checkoutNote = document.getElementById('checkoutNote').value\r\n                        // rearrange database:\r\n                        return await firebase.functions().httpsCallable('updateDatabase')\r\n                            ({ result, itemList, orderString, storeCreditUsed, checkoutNote })\r\n                            .then(async () => {\r\n                                // cartItems, cost, lastFour, deliverDate\r\n                                let lastFour = payMethod[0]\r\n\r\n                                const orderObject = [\r\n                                    (payAmount / 100).toFixed(2).toString(),\r\n                                    lastFour.toString(),\r\n                                    deliverDate\r\n                                ]\r\n\r\n\r\n                                setOrderComplete(true)\r\n                                setProcessError(false)\r\n\r\n                                let nameArrayJoined = itemNameArray.join(\", \")\r\n                                setItemsPurchased(nameArrayJoined)\r\n                                let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                                return await firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n\r\n                            })\r\n                            .then(result => {\r\n                                itemList.forEach(i => {\r\n\r\n\r\n                                    // let singleItem = fullItem[0]\r\n                                    // let itemPrice = singleItem[2]\r\n\r\n                                    let item = i[0]\r\n                                    let itemPrice = i[2]\r\n\r\n                                    console.log(\"item: \" + item)\r\n                                    console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                    updateDatabaseOrders(i)\r\n                                    modifyTotalPrice(\r\n                                        (Number(itemPrice) * -1)\r\n                                    )\r\n                                    modifyCartCount(-1);\r\n                                })\r\n\r\n                                let newList = []\r\n                                setItemList([])\r\n                                setAnonList([])\r\n                                setFinalItemList([])\r\n                                setSpinnerDisplayed(false)\r\n                                setOnCheckout(false)\r\n\r\n                                if (storeCreditUsed > 0) {\r\n                                    firebase.functions().httpsCallable('updateCredit')\r\n                                        ({ storeCreditUsed })\r\n                                        .then(result => {\r\n                                            setStoreCredit(storeCredit - (storeCreditUsed / 100))\r\n                                            setStoreCreditUsed(0)\r\n                                            setPriceAfterStoreCredit(0)\r\n                                            return console.log(\"credit updated \" + result)\r\n                                        })\r\n                                        .catch(error => {\r\n                                            return console.log(\"error updating credit \" + error)\r\n                                        })\r\n                                }\r\n\r\n                                return console.log(result)\r\n\r\n\r\n                            })\r\n                            .catch(error => {\r\n                                return console.log(\"Error sending receipt email: \" + error)\r\n                            })\r\n                    } else if (result.type) {\r\n                        setProcessError(true)\r\n                        setSpinnerDisplayed(false)\r\n                        enableButton()\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    setProcessError(true)\r\n                    setSpinnerDisplayed(false)\r\n                    enableButton()\r\n                    return console.log(\"error getting client secret: \" + error)\r\n                })\r\n            return\r\n\r\n        }\r\n    }\r\n\r\n    function disableButton() {\r\n        // document.getElementById(\"confirmPaymentButton\").setAttribute(\"disabled\", \"true\")\r\n        // document.getElementById(\"confirmPaymentButton\").disabled = \"true\"\r\n        if (document.getElementById(\"confirmPaymentButton\")) {\r\n            document.getElementById(\"confirmPaymentButton\").style.display = \"none\"\r\n\r\n        }\r\n        if (document.getElementById(\"confirmPaymentButton2\")) {\r\n            document.getElementById(\"confirmPaymentButton2\").style.display = \"none\"\r\n\r\n        }\r\n    }\r\n\r\n    function enableButton() {\r\n        // document.getElementById(\"confirmPaymentButton\").setAttribute(\"disabled\", \"false\")\r\n        // document.getElementById(\"confirmPaymentButton\").disabled = \"false\"\r\n        if (document.getElementById(\"confirmPaymentButton\")) {\r\n            document.getElementById(\"confirmPaymentButton\").style.display = \"initial\"\r\n\r\n        }\r\n        if (document.getElementById(\"confirmPaymentButton2\")) {\r\n            document.getElementById(\"confirmPaymentButton2\").style.display = \"initial\"\r\n\r\n        }\r\n    }\r\n\r\n    // state constants\r\n\r\n\r\n    // const [amountPaid, setAmountPaid] = useState(0)\r\n    // const [userEmail, setUserEmail] = useState(\"\")\r\n    const [deliverDate, setDeliverDate] = useState('')\r\n    const [error, setError] = useState(null)\r\n    const [processError, setProcessError] = useState(false)\r\n    const [orderInfo, setOrderInfo] = useState(\"\")\r\n    const [userName, setUserName] = useState(\"\")\r\n\r\n    const cost = (amountPaid / 100).toFixed(2).toString()\r\n\r\n\r\n    ////////////////\r\n    const [payPalCost, setPayPalCost] = useState(0)\r\n    const [payPalSuccess, setPayPalSuccess] = useState(false)\r\n    const [payPalFailure, setPayPalFailure] = useState(false)\r\n    /////////////\r\n\r\n    const handleChange = (event) => {\r\n        if (event.error) {\r\n            setError(event.error.message)\r\n        } else {\r\n            setError(null)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const [checkoutLoaded, setCheckoutLoaded] = useState(false)\r\n    const [incrementStripe, setIncrementStripe] = useState(0)\r\n\r\n    // useEffect(() => {\r\n\r\n    //     if (checkoutLoaded) {\r\n    //         const cardElement = elements.getElement(CardElement)\r\n    //         cardElement.on('change', ({ error }) => {\r\n    //             const displayError = document.getElementById('payment-errors');\r\n    //             if (error) {\r\n    //                 displayError.textContent = error.message;\r\n    //                 window.alert(error.message)\r\n    //                 console.log(error.message)\r\n    //             }\r\n    //         });\r\n    //     }\r\n\r\n    // }, [incrementStripe])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        // convert timestamp to milliseconds, add two weeks, make abbreviated string of Date.\r\n\r\n        const newDate = new Date(Date.now() + 12096e5)\r\n        const dateToString = newDate.toString().split(\" \")\r\n        const dateArr = [dateToString[0], dateToString[1], dateToString[2], dateToString[3]]\r\n        const newDateString = dateArr.join(' ')\r\n\r\n        setDeliverDate(newDateString)\r\n\r\n    }, [])\r\n\r\n\r\n    const [paymentInt, setPaymentInt] = useState({})\r\n    // Check for current user...\r\n    useEffect(() => {\r\n        // get email of current user\r\n        firebase.auth().onAuthStateChanged(async function (user) {\r\n            if (user) {\r\n                // create intent on receive user info\r\n                setUserName(user.displayName)\r\n                // setUserEmail(user.email)\r\n                console.log(totalCost)\r\n                console.log(costTaxShipping)\r\n                try {\r\n                    // get totalCost from context\r\n                    await firebase.functions().httpsCallable('createPaymentIntent')({ totalCost })\r\n                        .then(result => {\r\n                            setPaymentInt(result.data)\r\n                            return console.log(\"paymentIntent created \" + result.data)\r\n                        })\r\n                        .catch(error => {\r\n                            return console.log(\"no response from callable \" + error)\r\n                        })\r\n                }\r\n                catch {\r\n                    return console.log(\"Unable to run callable.\")\r\n                }\r\n            } else {\r\n                return console.log(\"no user.\")\r\n            }\r\n        })\r\n\r\n    }, [totalCost])\r\n\r\n\r\n\r\n\r\n\r\n    //     <img\r\n    //     name=\"visa\"\r\n    //     width=\"12%\"\r\n    //     style={{ \"margin\": \".5em\" }}\r\n    //     height=\"auto\"\r\n    //     src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/visa.png?alt=media&token=bbe2f764-b4ad-4dca-97ce-2497988fef46\"\r\n    // />\r\n    // <img\r\n    //     name=\"mc\"\r\n    //     width=\"12%\"\r\n    //     style={{ \"margin\": \".5em\" }}\r\n    //     height=\"auto\"\r\n    //     src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/mc.png?alt=media&token=3431d284-fc2e-4c99-ad50-aa837d7da85c\"\r\n    // />\r\n    // <img\r\n    //     name=\"amex\"\r\n    //     width=\"12%\"\r\n    //     style={{ \"margin\": \".5em\" }}\r\n    //     height=\"auto\"\r\n    //     src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/amex.png?alt=media&token=f957ce2c-720d-4cc0-b67e-4bd51082d878\"\r\n    // />\r\n    // <img\r\n    //     name=\"disc\"\r\n    //     width=\"12%\"\r\n    //     style={{ \"margin\": \".5em\" }}\r\n    //     height=\"auto\"\r\n    //     src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/disc.png?alt=media&token=782acf6e-58a9-4730-8d91-e87bbc6f6694\"\r\n    // />\r\n    // <img\r\n    //     name=\"paypal\"\r\n    //     width=\"12%\"\r\n    //     style={{ \"margin\": \".5em\" }}\r\n    //     height=\"auto\"\r\n    //     src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/paypal.png?alt=media&token=ffed4d97-5301-406a-a207-5fb65b1e6299\"\r\n    // />\r\n\r\n    const [cardSvg, setCardSvg] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n\r\n        if (payMethod) {\r\n            if (payMethod.includes(\"disc\")) {\r\n                setCardSvg(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/disc.png?alt=media&token=782acf6e-58a9-4730-8d91-e87bbc6f6694\")\r\n            } else if (payMethod.includes(\"visa\")) {\r\n                setCardSvg(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/visa.png?alt=media&token=bbe2f764-b4ad-4dca-97ce-2497988fef46\")\r\n            } else if (payMethod.includes(\"amex\")) {\r\n                setCardSvg(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/amex.png?alt=media&token=f957ce2c-720d-4cc0-b67e-4bd51082d878\")\r\n            } else if (payMethod.includes(\"mc\")) {\r\n                setCardSvg(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/mc.png?alt=media&token=3431d284-fc2e-4c99-ad50-aa837d7da85c\")\r\n            }\r\n        }\r\n\r\n    }, [payMethod])\r\n\r\n\r\n\r\n\r\n    const handleSubmit = async (event) => {\r\n        // We don't want to let default form submission happen here,\r\n        // which would refresh the page.\r\n        event.preventDefault()\r\n        disableButton()\r\n        setProcessError(false)\r\n        setIncrementStripe(incrementStripe + 1)\r\n        if (!stripe || !elements) {\r\n            // Stripe.js has not yet loaded.\r\n            // Make sure to disable form submission until Stripe.js has loaded.\r\n            return;\r\n        } else {\r\n            setSpinnerDisplayed(true)\r\n            const cardElement = elements.getElement(CardElement)\r\n            await stripe.createPaymentMethod({\r\n                type: 'card',\r\n                card: cardElement,\r\n                billing_details: { name: userName, },\r\n            })\r\n                .then(async (result) => {\r\n                    console.log(result)\r\n                    console.log(result.paymentMethod)\r\n                    // ./ last four, brand, id, country\r\n                    const lastFour = result.paymentMethod.card.last4\r\n                    let payMethod = {\r\n                        last4: result.paymentMethod.card.last4,\r\n                        country: result.paymentMethod.card.country,\r\n                        brand: result.paymentMethod.card.brand,\r\n                        id: result.paymentMethod.id\r\n                    }\r\n                    console.log(payMethod)\r\n                    await firebase.functions().httpsCallable('getClientSecret')({ payMethod, rememberCard })\r\n                        .then(async (result) => {\r\n                            console.log(result + \" \" + result.data)\r\n                            const client_secret = result.data\r\n                            // confirm card payment:\r\n                            const { paymentIntent, error } = await stripe.confirmCardPayment(\r\n                                client_secret,\r\n                                {\r\n                                    payment_method: {\r\n                                        card: cardElement,\r\n                                        billing_details: {\r\n                                            name: userName,\r\n                                        },\r\n                                    },\r\n                                },\r\n                            )\r\n                            if (paymentIntent) {\r\n                                return paymentIntent\r\n                            } else {\r\n                                return error\r\n                            }\r\n                        })\r\n                        .then(async (result) => {\r\n                            console.log(result)\r\n                            // if the result has a type, it was not confirmed:\r\n                            if (!result.type) {\r\n                                const itemNameArray = itemList.map(item => {\r\n                                    return item[0]\r\n                                })\r\n                                console.log(itemNameArray)\r\n                                setAmountPaid(result.amount)\r\n                                console.log(amountPaid)\r\n                                let payAmount = result.amount\r\n                                let checkoutNote = document.getElementById('checkoutNote').value\r\n                                // rearrange database:\r\n                                return await firebase.functions().httpsCallable('updateDatabase')\r\n                                    ({ result, itemList, orderString, storeCreditUsed, checkoutNote })\r\n                                    .then(async result => {\r\n                                        console.log(result)\r\n                                        // cartItems, cost, lastFour, deliverDate\r\n                                        const orderObject = [\r\n                                            (payAmount / 100).toFixed(2).toString(),\r\n                                            lastFour.toString(),\r\n                                            deliverDate\r\n                                        ]\r\n                                        console.log(orderObject)\r\n\r\n                                        setOrderComplete(true)\r\n                                        setProcessError(false)\r\n\r\n                                        let nameArrayJoined = itemNameArray.join(\", \")\r\n                                        setItemsPurchased(nameArrayJoined)\r\n                                        // send receipt email:\r\n                                        // if (userInfo.userEmail) {\r\n                                        let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                                        console.log(\"normal email sent\")\r\n                                        return await firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n                                        // } else {\r\n                                        //     console.log(\"anon email sent\")\r\n                                        //     let shipAddress = tempShipAddress\r\n                                        //     let orderObj = { orderObject, itemList, receiptEmail, shipAddress }\r\n                                        //     return await firebase.functions().httpsCallable('sendReceiptEmailAnon')({ orderObj })\r\n                                        // }\r\n                                    })\r\n                                    .then(result => {\r\n                                        itemList.forEach(i => {\r\n\r\n\r\n                                            // let singleItem = fullItem[0]\r\n                                            // let itemPrice = singleItem[2]\r\n\r\n                                            let item = i[0]\r\n                                            let itemPrice = i[2]\r\n\r\n                                            console.log(\"item: \" + item)\r\n                                            console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                            updateDatabaseOrders(i)\r\n                                            modifyTotalPrice(\r\n                                                (Number(itemPrice) * -1)\r\n                                            )\r\n                                            modifyCartCount(-1);\r\n                                        })\r\n                                        // let newArr = []\r\n                                        setItemList([])\r\n                                        setAnonList([])\r\n                                        setFinalItemList([])\r\n                                        setSpinnerDisplayed(false)\r\n                                        setOnCheckout(false)\r\n                                        setOrderFinished(true)\r\n                                        if (storeCreditUsed > 0) {\r\n                                            firebase.functions().httpsCallable('updateCredit')\r\n                                                ({ storeCreditUsed })\r\n                                                .then(result => {\r\n                                                    setStoreCredit(storeCredit - (storeCreditUsed / 100))\r\n                                                    setStoreCreditUsed(0)\r\n                                                    setPriceAfterStoreCredit(0)\r\n                                                    return console.log(\"credit updated \" + result)\r\n                                                })\r\n                                                .catch(error => {\r\n                                                    return console.log(\"error updating credit \" + error)\r\n                                                })\r\n                                        }\r\n\r\n                                        return console.log(result)\r\n\r\n\r\n                                    })\r\n                                    .catch(error => {\r\n                                        return console.log(\"Error sending receipt email: \" + error)\r\n                                    })\r\n                            } else if (result.type) {\r\n                                console.log(result.type)\r\n                                setProcessError(true)\r\n                                setSpinnerDisplayed(false)\r\n                                enableButton()\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            setProcessError(true)\r\n                            setSpinnerDisplayed(false)\r\n                            enableButton()\r\n                            return console.log(\"error getting client secret: \" + error)\r\n                        })\r\n                    return\r\n                })\r\n                .catch(error => {\r\n                    setProcessError(true)\r\n                    setSpinnerDisplayed(false)\r\n                    enableButton()\r\n                    return console.log(\"Error creating paymentMethod: \" + error)\r\n                })\r\n            // get client secret from payment intent, for confirmation:\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n    /////////////////////////////////////////////\r\n\r\n    const [shipAddress, setShipAddress] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (tempShipAddress) {\r\n            setShipAddress(tempShipAddress)\r\n        } else {\r\n            setShipAddress(userInfo.prevAddressShipping)\r\n        }\r\n    }, [userInfo, tempShipAddress])\r\n\r\n    const [paymentRequest, setPaymentRequest] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (stripe) {\r\n            const pr = stripe.paymentRequest({\r\n                country: 'US',\r\n                currency: 'usd',\r\n                total: {\r\n                    label: 'Demo total',\r\n                    amount: totalCost,\r\n                },\r\n                requestPayerName: true,\r\n                requestPayerEmail: true,\r\n            });\r\n            pr.canMakePayment().then(result => {\r\n                if (result) {\r\n                    setPaymentRequest(pr);\r\n                    console.log(result)\r\n                } else {\r\n                    console.log(\"browser cannot make payment\")\r\n                }\r\n            });\r\n        }\r\n    }, [stripe]);\r\n\r\n    const options = {\r\n        paymentRequest,\r\n        style: {\r\n            paymentRequestButton: {\r\n                type: 'default',\r\n                // One of 'default', 'book', 'buy', or 'donate'\r\n                // Defaults to 'default'\r\n\r\n                theme: 'dark',\r\n                // One of 'dark', 'light', or 'light-outline'\r\n                // Defaults to 'dark'\r\n\r\n                height: '64px',\r\n                // Defaults to '40px'. The width is always '100%'.\r\n                backgroundColor: \"black\"\r\n            },\r\n        }\r\n    }\r\n\r\n    const [showPayError, setShowPayError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (paymentRequest !== null) {\r\n            paymentRequest.on('paymentmethod', async (ev) => {\r\n                // Confirm the PaymentIntent without handling potential next actions (yet).\r\n                firebase.functions().httpsCallable('getClientSecret')()\r\n                    .then(async (result) => {\r\n                        console.log(result + \" \" + result.data)\r\n                        const clientSecret = result.data\r\n                        // confirm card payment:\r\n\r\n                        const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(\r\n                            clientSecret,\r\n                            { payment_method: ev.paymentMethod.id },\r\n                            { handleActions: false }\r\n                        );\r\n\r\n                        if (confirmError) {\r\n                            // Report to the browser that the payment failed, prompting it to\r\n                            // re-show the payment interface, or show an error message and close\r\n                            // the payment interface.\r\n                            ev.complete('fail');\r\n                            setShowPayError(true)\r\n                        } else {\r\n                            // Report to the browser that the confirmation was successful, prompting\r\n                            // it to close the browser payment method collection interface.\r\n                            ev.complete('success');\r\n                            // Let Stripe.js handle the rest of the payment flow.\r\n                            // const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret);\r\n                            console.log(paymentIntent)\r\n                            const itemNameArray = itemList.map(item => {\r\n                                return item[0]\r\n                            })\r\n                            let result = paymentIntent\r\n                            console.log(itemNameArray)\r\n                            setAmountPaid(result.amount)\r\n                            console.log(amountPaid)\r\n                            let payAmount = result.amount\r\n                            let checkoutNote = document.getElementById('checkoutNote').value\r\n                            // rearrange database:\r\n                            return await firebase.functions().httpsCallable('updateDatabase')\r\n                                ({ result, itemList, orderString, shipAddress, storeCreditUsed, checkoutNote })\r\n                                .then(async result => {\r\n                                    console.log(result)\r\n                                    // cartItems, cost, lastFour, deliverDate\r\n                                    const orderObject = [\r\n                                        (payAmount / 100).toFixed(2).toString(),\r\n                                        \"4242\",\r\n                                        //  lastFour.toString(), \r\n                                        deliverDate\r\n                                    ]\r\n                                    console.log(orderObject)\r\n\r\n                                    setOrderComplete(true)\r\n                                    setProcessError(false)\r\n\r\n                                    let nameArrayJoined = itemNameArray.join(\", \")\r\n                                    setItemsPurchased(nameArrayJoined)\r\n                                    // send receipt email:\r\n                                    // if (userInfo.userEmail) {\r\n                                    let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                                    console.log(\"normal email sent\")\r\n                                    return await firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n                                    // } else {\r\n                                    //     console.log(\"anon email sent\")\r\n                                    //     let shipAddress = tempShipAddress\r\n                                    //     let orderObj = { orderObject, itemList, receiptEmail, shipAddress }\r\n                                    //     return await firebase.functions().httpsCallable('sendReceiptEmailAnon')({ orderObj })\r\n                                    // }\r\n                                })\r\n                                .then(result => {\r\n                                    itemList.forEach(i => {\r\n\r\n\r\n                                        // let singleItem = fullItem[0]\r\n                                        // let itemPrice = singleItem[2]\r\n\r\n                                        let item = i[0]\r\n                                        let itemPrice = i[2]\r\n\r\n                                        console.log(\"item: \" + item)\r\n                                        console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                        updateDatabaseOrders(i)\r\n                                        modifyTotalPrice(\r\n                                            (Number(itemPrice) * -1)\r\n                                        )\r\n                                        modifyCartCount(-1);\r\n                                    })\r\n                                    // let newArr = []\r\n                                    setItemList([])\r\n                                    setAnonList([])\r\n                                    setFinalItemList([])\r\n                                    setSpinnerDisplayed(false)\r\n                                    setOnCheckout(false)\r\n                                    setOrderFinished(true)\r\n\r\n                                    if (storeCreditUsed > 0) {\r\n                                        firebase.functions().httpsCallable('updateCredit')\r\n                                            ({ storeCreditUsed })\r\n                                            .then(result => {\r\n                                                setStoreCredit(storeCredit - (storeCreditUsed / 100))\r\n                                                setStoreCreditUsed(0)\r\n                                                setPriceAfterStoreCredit(0)\r\n                                                return console.log(\"credit updated \" + result)\r\n                                            })\r\n                                            .catch(error => {\r\n                                                return console.log(\"error updating credit \" + error)\r\n                                            })\r\n                                    }\r\n\r\n\r\n\r\n                                    return console.log(result)\r\n\r\n\r\n                                })\r\n                                .catch(error => {\r\n                                    return console.log(\"Error sending receipt email: \" + error)\r\n                                })\r\n                            // The payment has succeeded.\r\n\r\n                        }\r\n\r\n                    })\r\n            });\r\n        }\r\n    }, [paymentRequest])\r\n\r\n\r\n    // reintegrating paypal by hand:\r\n\r\n\r\n    const paypalOptions = {\r\n        clientId: \"AQa6_jLL-SRpzQ2ZZdAhqBdnMQy80zfB7pHTO_URcvNcWqV3wjkCOuO9DHFNqRMYU6_vhHGEtC8wqFFJ\",\r\n        intent: 'capture'\r\n    }\r\n\r\n    const buttonStyles = {\r\n        layout: 'vertical',\r\n        shape: 'rect',\r\n    }\r\n    function handlePaypalTransaction(data, actions) {\r\n        // This function sets up the details of the transaction, including the amount and line item details.\r\n        return actions.order.create({\r\n            purchase_units: [{\r\n                amount: {\r\n                    value: `${payPalCost}`\r\n\r\n                }\r\n            }]\r\n        });\r\n    }\r\n\r\n\r\n\r\n    const [payPalCostString, setPayPalCostString] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        setPayPalCost((totalCost) / 100)\r\n        let string = `${(totalCost / 100).toString()}.00`\r\n        setPayPalCostString(string)\r\n    }, [totalCost])\r\n\r\n    useEffect(() => {\r\n        if (!useExpressMode) {\r\n\r\n            /////////\r\n            /////////\r\n            /////////\r\n            // http request to get an access token:\r\n\r\n            let options = {\r\n                \"method\": \"POST\",\r\n                \"hostname\": \"api.paypal.com\",\r\n                \"port\": null,\r\n                \"path\": \"/v1/oauth2/token\",\r\n                \"headers\": {\r\n                    \"accept\": \"application/json\",\r\n                    \"accept-language\": \"en_US\",\r\n                    \"content-type\": \"application/x-www-form-urlencoded\",\r\n                    \"authorization\": \"basic QWYt**********MGc=\"\r\n                }\r\n            };\r\n\r\n            var req = http.request(options, function (res) {\r\n                var chunks = [];\r\n\r\n                res.on(\"data\", function (chunk) {\r\n                    chunks.push(chunk);\r\n                });\r\n\r\n                res.on(\"end\", function () {\r\n                    var body = Buffer.concat(chunks);\r\n                    console.log(body.toString());\r\n                });\r\n            });\r\n\r\n            req.write(qs.stringify({ grant_type: 'client_credentials' }));\r\n            req.end();\r\n\r\n            /////////\r\n            /////////\r\n            /////////\r\n            // creating an order:\r\n\r\n            window.paypal.Buttons({\r\n\r\n                env: 'production', /* sandbox | production */\r\n                style: {\r\n                    layout: 'horizontal',   // horizontal | vertical \r\n                    size: 'responsive',   /* medium | large | responsive*/\r\n                    shape: 'pill',         /* pill | rect*/\r\n                    color: 'gold',         /* gold | blue | silver | black*/\r\n                    fundingicons: false,    /* true | false */\r\n                    tagline: false          /* true | false */\r\n                },\r\n\r\n                createOrder: function (data, actions) {\r\n                    // This function sets up the details of the transaction, including the amount and line item details.\r\n\r\n\r\n\r\n\r\n                    let options = {\r\n                        \"method\": \"POST\",\r\n                        \"hostname\": \"api.paypal.com\",\r\n                        \"port\": null,\r\n                        \"path\": \"/v2/checkout/orders\",\r\n                        \"headers\": {\r\n                            \"accept\": \"application/json\",\r\n                            \"content-type\": \"application/json\",\r\n                            \"accept-language\": \"en_US\",\r\n                            \"authorization\": \"Bearer A21AAFJ9eoorbnbVH3fTJrCTl2o7-P_1T6q8vdYB_QwBB9Ais5ZZmJD4BsNjIiOh8j8OyOcfzLO1BKcgKe0pK-mntpk6jOm-\"\r\n                        }\r\n                    };\r\n\r\n                    var req = http.request(options, function (res) {\r\n                        var chunks = [];\r\n\r\n                        res.on(\"data\", function (chunk) {\r\n                            chunks.push(chunk);\r\n                        });\r\n\r\n                        res.on(\"end\", function () {\r\n                            var body = Buffer.concat(chunks);\r\n                            console.log(body.toString());\r\n                        });\r\n                    });\r\n\r\n                    req.write(JSON.stringify({\r\n                        intent: 'CAPTURE',\r\n                        purchase_units:\r\n                            [{\r\n                                reference_id: 'PUHF',\r\n                                amount: { currency_code: 'USD', value: payPalCostString }\r\n                            }],\r\n                        application_context: { return_url: '', cancel_url: '' }\r\n                    }));\r\n                    req.end();\r\n\r\n\r\n\r\n\r\n                    let actionCreate = actions.order.create({\r\n                        purchase_units: [{\r\n                            amount: {\r\n                                value: `${payPalCost}`\r\n                            }\r\n                        }]\r\n                    });\r\n\r\n                    // var CREATE_URL = '/example/createOrder';\r\n\r\n\r\n                    // /* Make a call to your server to set up the payment */\r\n\r\n                    // let fetchUrl = fetch(CREATE_URL)\r\n                    //     .then(function (res) {\r\n                    //         return res.json();\r\n                    //     }).then(function (data) {\r\n                    //         return data.orderID;\r\n                    //     });\r\n\r\n                    // return ({\r\n                    //     actionCreate,\r\n                    //     fetchUrl\r\n                    // })\r\n\r\n                    return actionCreate\r\n                },\r\n\r\n\r\n\r\n\r\n                onApprove: function (data, actions) {\r\n\r\n\r\n                    let options = {\r\n                        \"method\": \"POST\",\r\n                        \"hostname\": \"api.paypal.com\",\r\n                        \"port\": null,\r\n                        \"path\": \"/v2/checkout/orders/5O190127TN364715T/capture\",\r\n                        \"headers\": {\r\n                            \"content-type\": \"application/json\",\r\n                            \"authorization\": \"Bearer A21AAFJ9eoorbnbVH3fTJrCTl2o7-P_1T6q8vdYB_QwBB9Ais5ZZmJD4BsNjIiOh8j8OyOcfzLO1BKcgKe0pK-mntpk6jOm-\"\r\n                        }\r\n                    };\r\n\r\n                    var req = http.request(options, function (res) {\r\n                        var chunks = [];\r\n\r\n                        res.on(\"data\", function (chunk) {\r\n                            chunks.push(chunk);\r\n                        });\r\n\r\n                        res.on(\"end\", function () {\r\n                            var body = Buffer.concat(chunks);\r\n                            console.log(body.toString());\r\n                        });\r\n                    });\r\n\r\n                    req.end();\r\n\r\n                    // This function captures the funds from the transaction.\r\n                    return actions.order.capture().then(function (details) {\r\n                        // This function shows a transaction success message to your buyer.\r\n                        alert('Transaction completed by ' + details.payer.name.given_name);\r\n\r\n                        console.log(details.payer.name.given_name)\r\n\r\n                        // let ppData = data\r\n\r\n\r\n                        firebase.functions().httpsCallable('payPalPayment')({ details })\r\n                            .then(result => {\r\n                                console.log(result)\r\n                                itemList.forEach(i => {\r\n\r\n\r\n                                    // let singleItem = fullItem[0]\r\n                                    // let itemPrice = singleItem[2]\r\n\r\n                                    let item = i[0]\r\n                                    let itemPrice = i[2]\r\n\r\n                                    console.log(\"item: \" + item)\r\n                                    console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                    updateDatabaseOrders(i)\r\n                                    modifyTotalPrice(\r\n                                        (Number(itemPrice) * -1)\r\n                                    )\r\n                                    modifyCartCount(-1);\r\n                                })\r\n\r\n                                // let newList = []\r\n                                setItemList([])\r\n                                setAnonList([])\r\n                                setFinalItemList([])\r\n                                setSpinnerDisplayed(false)\r\n                                return console.log(result)\r\n\r\n                            })\r\n                            .catch(error => {\r\n                                return console.log(\"Error sending receipt email: \" + error)\r\n                            })\r\n                        let payAmount = `${payPalCost.toString()}.00`\r\n                        let checkoutNote = document.getElementById('checkoutNote').value\r\n\r\n                        console.log(details)\r\n                        setPayPalSuccess(true)\r\n                        const orderObject = [\r\n                            payAmount,\r\n                            \"paypal\",\r\n                            //  lastFour.toString(), \r\n                            deliverDate\r\n                        ]\r\n\r\n\r\n                        let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                        console.log(\"normal email sent\")\r\n                        return firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n\r\n                        // console.log(data)\r\n\r\n                    });\r\n                }\r\n            }).render('#paypal-button-container');\r\n        }\r\n\r\n    }, [payPalCost, useExpressMode])\r\n\r\n\r\n    // function handleShowPaypal() {\r\n\r\n\r\n\r\n    // window.paypal.Buttons().render(\"#paypal-button-container2\");\r\n    // window.paypal.Buttons().render(\"#paypal-button-container\");\r\n    // }\r\n\r\n\r\n\r\n    // useEffect(() => {\r\n    //     window.paypal.Buttons({\r\n    //         createOrder: function (data, actions) {\r\n    //             // This function sets up the details of the transaction, including the amount and line item details.\r\n    //             return actions.order.create({\r\n    //                 purchase_units: [{\r\n    //                     amount: {\r\n    //                         value: `${payPalCost}`\r\n    //                     }\r\n    //                 }]\r\n    //             });\r\n    //         },\r\n    //         onApprove: function (data, actions) {\r\n    //             // This function captures the funds from the transaction.\r\n    //             return actions.order.capture().then(function (details) {\r\n    //                 // This function shows a transaction success message to your buyer.\r\n    //                 alert('Transaction completed by ' + details.payer.name.given_name);\r\n\r\n\r\n    //                 let ppData = data\r\n    //                 setPayPalSuccess(true)\r\n    //                 firebase.functions().httpsCallable('payPalPayment')({ details, ppData })\r\n    //                     .then(result => {\r\n    //                         console.log(result)\r\n    //                         itemList.forEach(i => {\r\n\r\n\r\n    //                             // let singleItem = fullItem[0]\r\n    //                             // let itemPrice = singleItem[2]\r\n\r\n    //                             let item = i[0]\r\n    //                             let itemPrice = i[2]\r\n\r\n    //                             console.log(\"item: \" + item)\r\n    //                             console.log(\"itemPrice: \" + itemPrice)\r\n\r\n    //                             updateDatabaseOrders(i)\r\n    //                             modifyTotalPrice(\r\n    //                                 (Number(itemPrice) * -1)\r\n    //                             )\r\n    //                             modifyCartCount(-1);\r\n    //                         })\r\n\r\n    //                         // let newList = []\r\n    //                         setItemList([])\r\n    //                         setAnonList([])\r\n    //                         setFinalItemList([])\r\n    //                         setSpinnerDisplayed(false)\r\n    //                         return console.log(result)\r\n\r\n    //                     })\r\n    //                     .catch(error => {\r\n    //                         return console.log(\"Error sending receipt email: \" + error)\r\n    //                     })\r\n    //                 console.log(details)\r\n    //                 console.log(data)\r\n\r\n    //             });\r\n    //         }\r\n    //     }).render('#paypal-button-container2');\r\n\r\n    // }, [payPalCost])\r\n\r\n\r\n    const [exchangeSpinnerDisplayed, setExchangeSpinnerDisplayed] = useState(false)\r\n    const [hasPrevCard, setHasPrevCard] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (usePrevCard) {\r\n            setDisplayPayPal(false)\r\n        }\r\n    }, [usePrevCard])\r\n\r\n    useEffect(() => {\r\n        if (useExpressMode) {\r\n            setHasPrevCard(true)\r\n        }\r\n    }, [])\r\n\r\n    if (!exchangePurchase && (!useExpressMode || !usePrevCard)) {\r\n\r\n        if (!orderComplete && !payPalSuccess) {\r\n            return (\r\n                <div className={isLargeScreen ? \"centered4\" : \"centered5\"} style={{\r\n                    \"width\": `${isLargeScreen ? \"50%\" : \"99%\"} `,\r\n                    \"right\": \"2.5em\"\r\n                }}>\r\n                    <div className=\"centered4\" style={{ \"right\": \"3vw\" }}>\r\n                        {hasPrevCard &&\r\n                            <div class=\"switch centered\">\r\n                                <h4 style={{\r\n                                    \"position\": \"relative\",\r\n                                    \"marginRight\": `${usePrevCard ? \"4em\" : \"\"}`\r\n                                }}>Use card on file?</h4>\r\n                                <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                                    <div style={{ \"width\": \"33em\", \"textAlign\": \"left\" }}>\r\n                                        <Flexbox flexDirection=\"row\">\r\n                                            {usePrevCard &&\r\n                                                <div className=\"shadow\" style={{\r\n                                                    \"width\": `${isLargeScreen ? \"30vw\" : \"\"}`,\r\n\r\n                                                }}>\r\n\r\n                                                    {/* {payMethod.includes(\"visa\") &&\r\n                                                        <img\r\n                                                            name=\"visa\"\r\n                                                            width=\"16%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/visa.png?alt=media&token=bbe2f764-b4ad-4dca-97ce-2497988fef46\"\r\n                                                        />\r\n                                                    } */}\r\n                                                    <img\r\n                                                        name=\"prevCardSvg\"\r\n                                                        width=\"24%\"\r\n                                                        style={{ \"margin\": \".5em\" }}\r\n                                                        height=\"auto\"\r\n                                                        src={cardSvg}\r\n                                                    />\r\n\r\n                                                    {payMethod.map(item => {\r\n                                                        if (payMethod.indexOf(item) == 0) {\r\n                                                            return <p style={{ \"margin\": \"0.5em\" }}>****{item.toString()}</p>\r\n                                                        }\r\n                                                        if (payMethod.indexOf(item) == 1) {\r\n                                                            return <p style={{ \"margin\": \"0.5em\" }}>{item.toString()}</p>\r\n                                                        }\r\n                                                        if (payMethod.indexOf(item) == 2) {\r\n                                                            return <p style={{ \"margin\": \"0.5em\" }}>{item.toString()}</p>\r\n                                                        }\r\n                                                    })}\r\n\r\n                                                </div>}\r\n                                        </Flexbox>\r\n                                    </div>\r\n                                    <span style={{\r\n                                        \"bottom\": `${isLargeScreen && \"3em\"}`,\r\n                                        \"right\": `${prevCardSpacing.toString()}`,\r\n                                        \"position\": `${isLargeScreen ? \"relative\" : \"\"}`\r\n                                    }}>\r\n                                        <input\r\n                                            name=\"usePrevCard\"\r\n                                            class=\"switch-input\"\r\n                                            type=\"checkbox\"\r\n                                            id=\"usePrevCard\"\r\n                                            checked={usePrevCard}\r\n                                            onClick={() => {\r\n                                                handleUsePrevCard();\r\n                                                setUseExpressMode(!useExpressMode)\r\n                                            }}></input>\r\n                                        <label class=\"switch-paddle\" for=\"usePrevCard\">\r\n                                            <span\r\n                                                style={{ \"color\": \"white\" }}\r\n                                                class=\"show-for-sr\">Use card on file?</span>\r\n                                        </label>\r\n                                    </span>\r\n                                </Flexbox>\r\n\r\n                            </div>}\r\n                        <h4 style={{\r\n                            \"width\": \"100%\",\r\n                            \"whiteSpace\": \"nowrap\"\r\n                        }}>Order Total: ${(Number(priceAfterStoreCredit) / 100).toFixed(2)}</h4>\r\n                        {(storeCreditUsed > 0) && <h4>Store credit used: {(Number(storeCreditUsed) / 100).toFixed(2)}</h4>}\r\n                        <Flexbox\r\n                            style={{ \"position\": \"relative\" }}\r\n                            flexDirection=\"row\">\r\n                            {(storeCredit > 0) &&\r\n                                <button\r\n                                    style={{\r\n                                        \"marginRight\": \"2em\",\r\n                                        \"marginTop\": \"2em\",\r\n                                        \"maxHeight\": \"4em\",\r\n                                        \"whiteSpace\": \"nowrap\"\r\n                                    }}\r\n                                    className=\"button primary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => { handleStoreCreditPrompt() }}>Use Store Credit</button>\r\n                            }\r\n                            <Flexbox flexDirection=\"row\" style={{\r\n                                \"position\": \"relative\",\r\n                                \"top\": \"1em\",\r\n                                \"margin-bottom\": \"1em\",\r\n                                \"left\": `${isLargeScreen ? \"initial\" : \"5vw\"}`\r\n                            }}>\r\n                                <p style={{\r\n                                    \"marginRight\": \"2em\",\r\n                                    \"fontSize\": \"small\"\r\n                                }}>Remember this card?</p>\r\n                                <span\r\n                                    data-tooltip class=\"top\"\r\n                                    tabindex=\"2\"\r\n                                    title=\"Make checkout easier next time with Express Checkout\">\r\n                                    <input\r\n                                        name=\"rememberCard\"\r\n                                        class=\"switch-input\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"rememberCard\"\r\n                                        checked={rememberCard}\r\n                                        onClick={() => {\r\n                                            handleRememberCard()\r\n                                        }}></input>\r\n                                    <label class=\"switch-paddle\" for=\"rememberCard\">\r\n                                        <span\r\n                                            style={{ \"color\": \"white\" }}\r\n                                            class=\"show-for-sr\">Remember Card?</span>\r\n                                    </label>\r\n                                </span>\r\n                            </Flexbox>\r\n                        </Flexbox>\r\n                        <form onSubmit={handleSubmit} className=\"wideForm centered\" style={{\r\n                            \"marginTop\": \"1em\",\r\n                            \"marginBottom\": \"1em\",\r\n                            \"width\": `${isLargeScreen ? \"200%\" : \"100%\"}`,\r\n                            \"left\": `${isLargeScreen ? \"-4em\" : \"5%\"}`\r\n                        }}>\r\n\r\n                            <label style={{\r\n                                \"width\": \"100%\"\r\n                            }}>\r\n                                Card details\r\n                                <CardElement\r\n                                    options={CARD_ELEMENT_OPTIONS}\r\n                                    // className={`${isLargeScreen ? \"wideForm\" : \"cardResponsive\"} `}\r\n                                    onChange={() => { setCheckoutLoaded(true) }} />\r\n                            </label>\r\n                            <br></br>\r\n                            <button\r\n                                style={{\r\n                                    \"width\": `${isLargeScreen ? \"100%\" : \"150%\"} `,\r\n                                    // \"top\": `${ isLargeScreen ? \"\" : \"50em\" } `,\r\n                                    \"marginTop\": `${isLargeScreen ? \"\" : \"2.2em\"} `,\r\n                                    \"maxWidth\": `${isLargeScreen ? \"none\" : \"17em\"}`,\r\n                                    \"visibility\": `${(!isLargeScreen && spinnerDisplayed) ? \"hidden\" : \"initial\"}`\r\n                                }}\r\n                                className=\"button primary\" disabled={!stripe}\r\n                                id=\"confirmPaymentButton\">Confirm Order</button>\r\n                            {(!usePrevCard || !useExpressMode) && <div\r\n                                // className=\"wideForm shadowed\"\r\n                                id=\"paypal-button-container\"\r\n                                style={{\r\n                                    \"zIndex\": `${isLargeScreen ? \"initial\" : \"98\"}`,\r\n                                    \"visibility\": `${(spinnerDisplayed) ? \"hidden\" : \"initial\"}`\r\n\r\n                                    // \"position\": \"absolute\",\r\n                                    // \"display\": `${displayPayPal ? \"initial\" : \"none\"}`,\r\n                                    // \"top\": `${payPalHeightArr[0] ? \"payPalHeightArr\" : \"\"}`\r\n                                }}></div>}\r\n\r\n\r\n                            {(spinnerDisplayed) &&\r\n                                <div className=\"centered shadowed graded\" style={{\r\n                                    \"position\": \"fixed\",\r\n                                    \"bottom\": \"40vh\",\r\n                                    \"zIndex\": \"99\",\r\n                                    \"width\": `${isLargeScreen ? \"initial\" : \"50%\"}`,\r\n                                    \"height\": 'auto',\r\n                                    \"right\": `${isLargeScreen ? \"initial\" : \"50vw\"}`\r\n                                }}>\r\n                                    <div className=\"loader centered\"></div>\r\n                                    <p>Please do not close or refresh the page.</p>\r\n                                </div>}\r\n                        </form>\r\n\r\n                        {(showPayError) &&\r\n                            <div className=\"centered shadowed graded\" style={{\r\n                                \"position\": \"fixed\",\r\n                                \"bottom\": \"40vh\",\r\n                                \"zIndex\": \"99\",\r\n                                \"width\": `${isLargeScreen ? \"initial\" : \"50%\"}`,\r\n                                \"height\": 'auto',\r\n                                \"right\": `${isLargeScreen ? \"initial\" : \"70vw\"}`\r\n                            }} >\r\n                                <button\r\n                                    style={{\r\n                                        \"fontSize\": \"small\",\r\n                                        \"left\": \"75%\"\r\n                                        // \"right\": `${isLargeScreen ? \"-2vw\" : \"50vw\"}`\r\n                                    }}\r\n                                    onClick={() => { setShowPayError(false) }}\r\n                                    type=\"button\"\r\n                                    className=\"close-button\">X</button>\r\n                                <p>There was an error processing your payment.\r\n                                    You have not been charged.</p>\r\n                            </div>}\r\n                    </div>\r\n                    {\r\n                        (processError) &&\r\n                        <div>\r\n                            <h4\r\n                                style={{ \"color\": \"red\" }}\r\n                            >There was an error processing your payment.\r\n                            You have not been charged.</h4>\r\n                        </div>\r\n                    }\r\n                </div >\r\n            )\r\n        } else {\r\n            return (\r\n                <div class=\"productCard centered lefted\" style={{\r\n                    \"width\": \"99%\",\r\n                    \"right\": `${isLargeScreen ? \"3em\" : \"5vw\"}`,\r\n                    \"textAlign\": `${isLargeScreen ? \"initial\" : \"left\"}`,\r\n                    \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`\r\n                }}>\r\n                    <div class=\"text-align center\">\r\n                        <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                            {/* <Checkmark size=\"large\" color=\"#1779ba\"\r\n                                style={{\r\n                                    \"right\": `${isLargeScreen ? \"initial\" : \"15vw\"}`,\r\n                                    \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                                    \"visibility\": `${isLargeScreen ? \"initial\" : \"hidden\"}`,\r\n                                    \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`,\r\n                                }}\r\n                            /> */}\r\n                            <div onLoad={() => setEnterPaymentAllowed(false)}>\r\n                                <h2>Your Order is Complete!</h2>\r\n                                <p>Items purchased: {itemsPurchased}</p>\r\n                                <p>Amount Paid: ${(amountPaid / 100).toFixed(2)}</p>\r\n                                <p>Receipt email: {receiptEmail\r\n                                    ? receiptEmail.toString()\r\n                                    : userEmail.toString() || responsiveEmail}</p>\r\n                                <p>Estimated Arrival Date: {deliverDate.toString()}</p>\r\n                                <p>Your Order Confirmation ID is {orderString}</p>\r\n                                <br></br>\r\n                                <Link to=\"/shop\">\r\n                                    <button\r\n                                        className=\"button primary\" type=\"button\"\r\n                                        style={{\r\n                                            \"maxWidth\": `${isLargeScreen ? \"initial\" : \"50vw\"}`,\r\n                                            \"height\": `${isLargeScreen ? \"initial\" : \"60px\"}`,\r\n                                            \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                                            \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                                            \"whiteSpace\": \"nowrap\"\r\n                                        }}\r\n                                    >Keep Shopping</button>\r\n                                </Link>\r\n                                <img\r\n                                    width=\"100vw\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                            </div>\r\n                        </Flexbox>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    } else if (exchangePurchase && (!useExpressMode || !usePrevCard)) {\r\n        if (!exchangePurchaseComplete) {\r\n\r\n            return (\r\n                <div className={isLargeScreen ? \"centered4\" : \"centered5\"} style={{\r\n                    \"width\": `${isLargeScreen ? \"50%\" : \"99%\"} `,\r\n                    \"right\": \"2.5em\"\r\n                }}>\r\n                    <textarea\r\n                        id=\"exchangeNote\"\r\n                        rows=\"4\"\r\n                        cols=\"50\"\r\n                        maxlength=\"150\"\r\n                        placeholder=\"Special instructions for your order? 150 character limit\"></textarea>\r\n                    <h4 style={{\r\n                        \"width\": \"100%\",\r\n                        \"whiteSpace\": \"nowrap\"\r\n                        // \"marginBottom\": `${ isLargeScreen ? \"\" : \"15em\" } `\r\n                    }}>Order Total: ${(Number(priceAfterStoreCredit) / 100).toFixed(2)}</h4>\r\n                    {(storeCreditUsed > 0) && <h3>{(Number(storeCreditUsed) / 100).toFixed(2)}</h3>}\r\n                    <button\r\n                        style={{ \"width\": `${isLargeScreen ? \"100%\" : \"160%\"} ` }}\r\n                        className=\"button primary lg\" type=\"button\" onClick={() => {\r\n                            confirmExchangeOrder(\r\n                                orderString, itemList, deliverDate\r\n                            )\r\n                        }}>Confirm Order</button>\r\n                    {/* <div id=\"paypal-button-container\"\r\n                        onLoad={() => {\r\n                            handleShowPaypal()\r\n                        }}></div> */}\r\n                    {exchangeSpinnerDisplayed &&\r\n                        <div className=\"centered shadowed graded\" style={{\r\n                            \"position\": \"fixed\",\r\n                            \"bottom\": \"40vh\",\r\n                            \"zIndex\": \"99\",\r\n                            \"width\": `${isLargeScreen ? \"initial\" : \"50%\"}`,\r\n                            \"height\": 'auto',\r\n                            \"right\": `${isLargeScreen ? \"initial\" : \"50vw\"}`\r\n                        }}>\r\n                            <div className=\"loader\" style={{ \"zIndex\": \"99\" }}></div>\r\n                            <p style={{ \"zIndex\": \"99\" }}>Please do not close or refresh the page.</p>\r\n                        </div>}\r\n                </div>\r\n            )\r\n\r\n        } else {\r\n\r\n\r\n            return (\r\n                <Flexbox\r\n                    style={{\r\n                        \"right\": `${isLargeScreen ? \"initial\" : \"5vw\"}`,\r\n                        \"textAlign\": `${isLargeScreen ? \"initial\" : \"left\"}`,\r\n                        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`\r\n                    }}\r\n                    flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                    {/* <span>\r\n                        <Checkmark size=\"xxlarge\" color=\"#1779ba\"\r\n                            style={{\r\n                                \"right\": `${isLargeScreen ? \"initial\" : \"15vw\"}`,\r\n                                \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                                \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`,\r\n                            }} />\r\n                    </span> */}\r\n                    <div\r\n                        onLoad={() => setEnterPaymentAllowed(false)}\r\n                        className=\"centered lefted\" style={{ \"width\": \"99%\" }}>\r\n                        <h2>Your Exchange Order is Complete!</h2>\r\n                        <p>Items Exchanged: {itemsPurchased}</p>\r\n                        <p>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</p>\r\n                        <p>Receipt email: {receiptEmail\r\n                            ? receiptEmail\r\n                            : userEmail || responsiveEmail}</p>\r\n                        <p>Estimated Arrival Date: {deliverDate.toString()}</p>\r\n                        <p>Your Order Confirmation ID is {orderString}</p>\r\n                        <br></br>\r\n                        <Link to=\"/shop\">\r\n                            <button type=\"button\"\r\n                                style={{\r\n                                    \"maxWidth\": `${isLargeScreen ? \"initial\" : \"50vw\"}`,\r\n                                    \"height\": `${isLargeScreen ? \"initial\" : \"60px\"}`,\r\n                                    \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                                    \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                                    \"whiteSpace\": \"nowrap\"\r\n                                }}>Keep Shopping</button>\r\n                        </Link>\r\n                        <img\r\n                            width=\"100vw\"\r\n                            height=\"auto\"\r\n                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                    </div>\r\n                </Flexbox>\r\n\r\n            )\r\n        }\r\n    } else if (!exchangePurchase && useExpressMode) {\r\n        return (\r\n            <div>\r\n                <h4 style={{\r\n                    \"position\": \"relative\",\r\n                    \"right\": `${usePrevCard ? \"4em\" : \"\"}`\r\n                }}>Use card on file?</h4>\r\n                {/* two versions of the switch, responsive yeh */}\r\n                {!isLargeScreen &&\r\n                    <div class=\"switch centered\"\r\n                        style={{\r\n                            \"bottom\": `${isLargeScreen && \"3em\"}`,\r\n                            \"right\": `${prevCardSpacing.toString()}`,\r\n                            \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                            \"marginBottom\": \"1em\"\r\n                        }}>\r\n                        <input\r\n\r\n                            name=\"usePrevCard\"\r\n                            class=\"switch-input\"\r\n                            type=\"checkbox\"\r\n                            id=\"usePrevCard\"\r\n                            checked={usePrevCard}\r\n                            onClick={() => {\r\n                                handleUsePrevCard();\r\n                                setUseExpressMode(!useExpressMode)\r\n                            }}\r\n                        ></input>\r\n                        <label class=\"switch-paddle\" for=\"usePrevCard\">\r\n                            <span\r\n                                style={{ \"color\": \"white\" }}\r\n                                class=\"show-for-sr\">Use card on file?</span>\r\n                        </label>\r\n                    </div>}\r\n                <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                    <div style={{ \"width\": \"33em\", \"textAlign\": \"left\" }}>\r\n                        <div className=\"shadowed\" style={{\r\n                            \"width\": `${isLargeScreen ? \"30vw\" : \"\"}`,\r\n\r\n                        }}>\r\n                            {usePrevCard &&\r\n\r\n                                <Flexbox flexDirection={`${isLargeScreen ? \"row\" : \"column\"}`}>\r\n                                    <img\r\n                                        name=\"prevCardSvg\"\r\n                                        width={`${isLargeScreen ? \"24%\" : \"10%\"}`}\r\n                                        style={{ \"margin\": \".5em\" }}\r\n                                        height=\"auto\"\r\n                                        src={cardSvg}\r\n                                    />\r\n                                    {payMethod.map(item => {\r\n                                        if (!item.includes(\"pm\")) {\r\n                                            return <p style={{ \"margin\": \".5em\" }}>{item.toString()}</p>\r\n                                        }\r\n                                    })}\r\n\r\n                                </Flexbox>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {isLargeScreen &&\r\n                        <div class=\"switch centered\"\r\n                            style={{\r\n                                \"bottom\": `${isLargeScreen && \"3em\"}`,\r\n                                \"right\": `${prevCardSpacing.toString()}`,\r\n                                \"position\": `${isLargeScreen ? \"relative\" : \"\"}`\r\n                            }}>\r\n                            <input\r\n\r\n                                name=\"usePrevCard\"\r\n                                class=\"switch-input\"\r\n                                type=\"checkbox\"\r\n                                id=\"usePrevCard\"\r\n                                checked={usePrevCard}\r\n                                onClick={() => {\r\n                                    handleUsePrevCard();\r\n                                    setUseExpressMode(!useExpressMode)\r\n                                }}\r\n                            ></input>\r\n                            <label class=\"switch-paddle\" for=\"usePrevCard\">\r\n                                <span\r\n                                    style={{ \"color\": \"white\" }}\r\n                                    class=\"show-for-sr\">Use card on file?</span>\r\n                            </label>\r\n                        </div>}\r\n                </Flexbox>\r\n                <br></br>\r\n                {\r\n                    (storeCredit > 0) &&\r\n                    <button\r\n                        className={isLargeScreen ? \"button primary\" : \"button primary small\"}\r\n                        type=\"button\"\r\n                        style={{\r\n                            \"maxHeight\": \"4em\",\r\n                            \"whiteSpace\": \"nowrap\",\r\n                            \"left\": `${isLargeScreen ? \"initial\" : \"-10vw\"}`\r\n                        }}\r\n                        onClick={() => { handleStoreCreditPrompt() }}>Use Store Credit</button>\r\n                }\r\n                <Elements stripe={stripePromise}>\r\n                    <form >\r\n                        <button\r\n                            style={{ \"left\": `${isLargeScreen ? \"initial\" : \"-10vw\"}` }}\r\n                            className=\"button primary\"\r\n                            type=\"button\"\r\n                            id=\"confirmPaymentButton2\"\r\n                            onClick={() => { handleConfirmPayment() }}\r\n                        >Confirm Pay Now</button>\r\n                        {/* {!usePrevCard && <div id=\"paypal-button-container\"\r\n                            onLoad={() => {\r\n                                handleShowPaypal()\r\n                            }}></div>} */}\r\n                    </form>\r\n                </Elements>\r\n                {/* <div id=\"paypal-button-container\"></div> */}\r\n                {\r\n                    (showPayError) &&\r\n                    <div className=\"centered graded\" style={{\r\n                        \"position\": \"fixed\",\r\n                        \"zIndex\": \"99\",\r\n                        \"bottom\": \"40vh\"\r\n                    }}>\r\n                        <p>An error occurred, while processing your payment. You have not been charged.</p>\r\n                    </div>\r\n                }\r\n                <br></br>\r\n                {\r\n                    (spinnerDisplayed && !orderComplete) &&\r\n                    <div className=\"centered shadowed graded\" style={{\r\n                        \"position\": \"fixed\",\r\n                        \"zIndex\": \"99\",\r\n                        \"bottom\": \"40vh\",\r\n                        \"width\": `${isLargeScreen ? \"initial\" : \"50%\"}`,\r\n                        \"height\": 'auto',\r\n                        \"right\": `${isLargeScreen ? \"initial\" : \"50vw\"}`\r\n                    }}>\r\n                        <div className=\"loader\" style={{ \"zIndex\": \"99\" }}></div>\r\n                        <p style={{ \"zIndex\": \"99\" }}>Please do not close or refresh the page.</p>\r\n                    </div>\r\n                }\r\n                {\r\n                    processError &&\r\n                    <div className=\"centered shadowed graded\" style={{\r\n                        \"position\": \"fixed\",\r\n                        \"zIndex\": \"99\",\r\n                        \"bottom\": \"40vh\"\r\n\r\n                    }}>\r\n                        <p\r\n                            style={{ \"zIndex\": \"99\" }}\r\n                        >An error occurred while processing your payment. You have not been charged.</p>\r\n                    </div>\r\n                }\r\n                {\r\n                    orderComplete &&\r\n                    <div\r\n                        class=\"productCard\"\r\n                        style={{\r\n                            \"right\": `${isLargeScreen ? \"3em\" : \"5vw\"}`,\r\n                            \"textAlign\": `${isLargeScreen ? \"initial\" : \"left\"}`,\r\n                            \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`\r\n                        }}>\r\n                        <div class=\"text-align center lefted\">\r\n                            <div onLoad={() => { setEnterPaymentAllowed(false) }}>\r\n                                <p>Your Order is Complete!</p>\r\n                                <p>Items purchased: {itemsPurchased}</p>\r\n                                <p>Amount Paid: ${(amountPaid / 100).toFixed(2)}</p>\r\n                                <p>Receipt email: {receiptEmail\r\n                                    ? receiptEmail.toString()\r\n                                    : userInfo.userEmail || responsiveEmail}</p>\r\n                                <p>Estimated Arrival Date: {deliverDate.toString()}</p>\r\n                                <p>Your Order Confirmation ID is {orderString}</p>\r\n                            </div>\r\n                            <Link to=\"/shop\">\r\n                                <button\r\n                                    type=\"button\" className=\"button primary\"\r\n                                    style={{\r\n                                        \"maxWidth\": `${isLargeScreen ? \"initial\" : \"50vw\"}`,\r\n                                        \"height\": `${isLargeScreen ? \"initial\" : \"60px\"}`,\r\n                                        \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                                        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                                        \"whiteSpace\": \"nowrap\"\r\n                                    }}\r\n                                >Keep Shopping</button>\r\n                            </Link>\r\n                            <img\r\n                                width=\"100vw\"\r\n                                height=\"auto\"\r\n                                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <br></br>\r\n                {/* {(paymentRequest) &&\r\n                    <div className=\"payButtonClass\">\r\n                        <PaymentRequestButtonElement options={options} />\r\n                    </div>} */}\r\n                {\r\n                    payPalSuccess &&\r\n                    <div\r\n                        onLoad={() => setEnterPaymentAllowed(false)}>\r\n                        <h1>Your Exchange Order is Complete!</h1>\r\n                        <h2>Items Exchanged: {itemsPurchased}</h2>\r\n                        <h2>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</h2>\r\n                        <h2>Receipt email: {receiptEmail\r\n                            ? receiptEmail.toString()\r\n                            : userEmail.toString()}</h2>\r\n                        <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                        <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                        <img\r\n                            width=\"100vw\"\r\n                            height=\"auto\"\r\n                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                    </div>\r\n                }\r\n                {\r\n                    payPalFailure &&\r\n                    <div>\r\n                        <h2>Your paypal order was a failure ya dingus.</h2>\r\n                    </div>\r\n                }\r\n            </div >\r\n        )\r\n    } else {\r\n        if (!exchangePurchaseComplete) {\r\n\r\n            return (\r\n                <div className={`${isLargeScreen ? \"centered4\" : \"centered5\"} shadowed`} style={{\r\n                    \"right\": \"5em\",\r\n                    \"width\": `${isLargeScreen ? \"50%\" : \"100%\"} shadowed`\r\n\r\n                }}>\r\n                    <textarea\r\n                        id=\"exchangeNote\"\r\n                        rows=\"4\"\r\n                        cols=\"50\"\r\n                        maxlength=\"150\"\r\n                        placeholder=\"Special instructions for your order? 150 character limit\"></textarea>\r\n                    <h2\r\n                        style={{\r\n                            \"width\": \"100%\",\r\n                            \"whiteSpace\": \"nowrap\"\r\n                            // \"marginBottom\": `${ isLargeScreen ? \"\" : \"15em\" } `\r\n                        }}>Order Total: ${(Number(priceAfterStoreCredit) / 100).toFixed(2)}</h2>\r\n                    {(storeCreditUsed > 0) && <h3>{(Number(storeCreditUsed) / 100).toFixed(2)}</h3>}\r\n                    <button\r\n                        style={{ \"width\": `${isLargeScreen ? \"100%\" : \"150%\"} ` }}\r\n                        type=\"button\"\r\n                        className=\"centered\"\r\n                        onClick={() => {\r\n                            confirmExchangeOrder(\r\n                                orderString, itemList, deliverDate\r\n                            );\r\n                            setExchangeSpinnerDisplayed(true)\r\n                        }}>Confirm Order</button>\r\n                    {exchangeSpinnerDisplayed &&\r\n                        <div className=\"centered shadowed graded\" style={{\r\n                            \"position\": \"fixed\",\r\n                            \"bottom\": \"40vh\",\r\n                            \"zIndex\": \"99\",\r\n                            \"width\": `${isLargeScreen ? \"initial\" : \"50%\"}`,\r\n                            \"height\": 'auto',\r\n                            \"right\": `${isLargeScreen ? \"initial\" : \"50vw\"}`\r\n\r\n                        }}>\r\n                            <div className=\"loader\" style={{ \"zIndex\": \"99\" }}></div>\r\n                            <p style={{ \"zIndex\": \"99\" }}>Please do not close or refresh the page.</p>\r\n                        </div>}\r\n                </div>\r\n            )\r\n\r\n        } else {\r\n            return (\r\n\r\n                <div\r\n                    onLoad={() => setEnterPaymentAllowed(false)}\r\n                    className=\"centered lefted\">\r\n                    <h1>Your Exchange Order is Complete!</h1>\r\n                    <h2>Items Exchanged: {itemsPurchased}</h2>\r\n                    <h2>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</h2>\r\n                    <h2>Receipt email: {receiptEmail\r\n                        ? receiptEmail.toString()\r\n                        : userEmail.toString()}</h2>\r\n                    <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                    <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                    <img\r\n                        width=\"100vw\"\r\n                        height=\"auto\"\r\n                        src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default CheckoutForm\r\n","import React, { useState, useContext, useEffect } from \"react\"\r\nimport firebase from \"firebase\"\r\nimport { Elements, useStripe, useElements, PaymentRequestButtonElement } from \"@stripe/react-stripe-js\"\r\nimport { loadStripe } from \"@stripe/stripe-js\"\r\nimport { Context } from \"./Context\"\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\n\r\nimport CheckoutForm from \"./CheckoutForm\"\r\nimport Checkout from \"./Checkout\"\r\n\r\n\r\n\r\n\r\n\r\nfunction ExpressCheckout() {\r\n\r\n\r\n    const stripePromise = loadStripe(\"pk_test_vSUOdXUItkZoDH7AA0LQppyq00W7RQlEuV\")\r\n\r\n    const stripe = useStripe()\r\n    const elements = useElements()\r\n\r\n    function Card() {\r\n        return (\r\n            <div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const {\r\n        userInfo,\r\n        prevAddressShipping,\r\n        prevAddressBilling,\r\n        payMethod,\r\n        setPayMethod,\r\n        costTaxShipping,\r\n        itemsPurchased,\r\n        setItemsPurchased,\r\n        receiptEmail,\r\n        updateDatabaseOrders,\r\n        setItemList,\r\n        setAnonList,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        itemList,\r\n        tempShipAddress,\r\n        setTempShipAddress,\r\n        uid,\r\n        totalCost,\r\n        setFinalItemList,\r\n        finalItemList,\r\n        applePayDevice,\r\n        priceAfterStoreCredit,\r\n        setStoreCredit,\r\n        setStoreCreditUsed,\r\n        setPriceAfterStoreCredit,\r\n        storeCreditUsed,\r\n        handleStoreCreditPrompt,\r\n        storeCredit,\r\n        exchangePurchase,\r\n        confirmExchangeOrder,\r\n        exchangePurchaseComplete,\r\n        lastExchangeOrderCreditUsed,\r\n        setOnCheckout,\r\n        setSameAsBilling,\r\n        sameAsBilling,\r\n        setUsePrevBilling,\r\n        usePrevBilling,\r\n        setBillingAddress,\r\n        billingAddress\r\n    } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setOnCheckout(true)\r\n    }, [])\r\n\r\n\r\n    const [orderString, setOrderString] = useState(\"\")\r\n    // userinfo 1 is the uid\r\n    let userIDSubstring = uid.substring(0, 4)\r\n    let randNum = (Math.floor(Math.random() * 100000))\r\n    let semiUniqueString = `${userIDSubstring}${randNum}`\r\n    // make sure to pass this to the email as well.\r\n    useEffect(() => {\r\n        console.log(userIDSubstring)\r\n        console.log(semiUniqueString)\r\n\r\n        setOrderString(semiUniqueString)\r\n    }, [])\r\n\r\n\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const cost = (amountPaid / 100).toFixed(2)\r\n\r\n\r\n\r\n\r\n    const [orderComplete, setOrderComplete] = useState(false)\r\n    const [amountPaid, setAmountPaid] = useState(0)\r\n    const [orderID, setOrderID] = useState(\"\")\r\n\r\n    const [usePrevCard, setUsePrevCard] = useState(true)\r\n    const [usePrevShip, setUsePrevShip] = useState(true)\r\n    const [usePrevBill, setUsePrevBill] = useState(true)\r\n    const [sameAsBillingBool, setSameAsBillingBool] = useState(true)\r\n\r\n\r\n\r\n    const [spinnerDisplayed, setSpinnerDisplayed] = useState(false)\r\n    const [checkoutLoaded, setCheckoutLoaded] = useState(false)\r\n    const [incrementStripe, setIncrementStripe] = useState(0)\r\n    const [deliverDate, setDeliverDate] = useState('')\r\n    const [processError, setProcessError] = useState(false)\r\n\r\n    const [payPalCost, setPayPalCost] = useState(0)\r\n    const [payPalSuccess, setPayPalSuccess] = useState(false)\r\n    const [payPalFailure, setPayPalFailure] = useState(false)\r\n\r\n\r\n    const [exchangeObject, setExchangeObject] = useState([])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        // convert timestamp to milliseconds, add two weeks, make abbreviated string of Date.\r\n\r\n        const newDate = new Date(Date.now() + 12096e5)\r\n        const dateToString = newDate.toString().split(\" \")\r\n        const dateArr = [dateToString[0], dateToString[1], dateToString[2], dateToString[3]]\r\n        const newDateString = dateArr.join(' ')\r\n\r\n        setDeliverDate(newDateString)\r\n\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n    //     let orderObject = [\r\n    //         (payAmount / 100).toFixed(2).toString(),\r\n    //         \"4242\",\r\n    //         //  lastFour.toString(), \r\n    //         deliverDate\r\n    //     ]\r\n\r\n    //     setExchangeObject(orderObject)\r\n    //     // needs to be modified to carry information correctly to exchange function\r\n\r\n    // }, [])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        let ppCost = ((Number(totalCost) / 100).toFixed(2))\r\n        setPayPalCost(ppCost)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log(payMethod)\r\n        firebase.functions().httpsCallable('createPaymentIntent')({ totalCost })\r\n            .then(result => {\r\n                return console.log(\"paymentIntent created \" + result.data)\r\n            })\r\n            .catch(error => {\r\n                return console.log(\"no response from callable \" + error)\r\n            })\r\n    }, [])\r\n\r\n    const [shipAddress, setShipAddress] = useState([])\r\n    useEffect(() => {\r\n        if (userInfo.prevAddressShipping) {\r\n            setShipAddress(userInfo.prevAddressShipping)\r\n        }\r\n\r\n\r\n    }, [userInfo])\r\n\r\n    useEffect(() => {\r\n        setPriceAfterStoreCredit(totalCost)\r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n    function disableButton() {\r\n        // document.getElementById(\"confirmPaymentButton\").setAttribute(\"disabled\", \"true\")\r\n        // document.getElementById(\"confirmPaymentButton\").disabled = \"true\"\r\n        document.getElementById(\"confirmButton\").style.display = \"none\"\r\n    }\r\n\r\n    function enableButton() {\r\n        // document.getElementById(\"confirmPaymentButton\").setAttribute(\"disabled\", \"false\")\r\n        // document.getElementById(\"confirmPaymentButton\").disabled = \"false\"\r\n        document.getElementById(\"confirmButton\").style.display = \"initial\"\r\n    }\r\n\r\n\r\n    function handleConfirmPayment() {\r\n\r\n        // We don't want to let default form submission happen here,\r\n        // which would refresh the page.\r\n        disableButton()\r\n        setProcessError(false)\r\n        setIncrementStripe(incrementStripe + 1)\r\n        if (!stripe || !elements) {\r\n            // Stripe.js has not yet loaded.\r\n            // Make sure to disable form submission until Stripe.js has loaded.\r\n            return;\r\n        } else {\r\n            setSpinnerDisplayed(true)\r\n            firebase.functions().httpsCallable('getClientSecret')()\r\n                .then(async (result) => {\r\n                    console.log(result + \" \" + result.data)\r\n                    console.log(payMethod)\r\n                    const client_secret = result.data\r\n                    // confirm card payment:\r\n                    const { paymentIntent, error } = await stripe.confirmCardPayment(\r\n                        client_secret,\r\n                        {\r\n                            payment_method: payMethod[3]\r\n                        },\r\n                    )\r\n                    if (paymentIntent) {\r\n                        return paymentIntent\r\n                    } else {\r\n                        return error\r\n                    }\r\n                })\r\n                .then(async (result) => {\r\n                    console.log(result)\r\n                    // if the result has a type, it was not confirmed:\r\n                    if (!result.type) {\r\n                        const itemNameArray = itemList.map(item => {\r\n                            return item[0]\r\n                        })\r\n                        setAmountPaid(result.amount)\r\n                        let payAmount = result.amount\r\n                        let checkoutNote = document.getElementById('checkoutNote').value\r\n                        // rearrange database:\r\n                        return await firebase.functions().httpsCallable('updateDatabase')\r\n                            ({ result, itemList, orderString, storeCreditUsed, checkoutNote })\r\n                            .then(async () => {\r\n                                // cartItems, cost, lastFour, deliverDate\r\n                                let lastFour = payMethod[0]\r\n\r\n                                const orderObject = [\r\n                                    (payAmount / 100).toFixed(2).toString(),\r\n                                    lastFour.toString(),\r\n                                    deliverDate\r\n                                ]\r\n\r\n\r\n                                setOrderComplete(true)\r\n                                setProcessError(false)\r\n\r\n                                let nameArrayJoined = itemNameArray.join(\", \")\r\n                                setItemsPurchased(nameArrayJoined)\r\n                                // send receipt email:\r\n                                // if (userInfo.userEmail) {\r\n                                let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                                return await firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n                                // } else {\r\n                                //     let shipAddress = tempShipAddress\r\n                                //     let orderObj = { orderObject, itemList, receiptEmail, shipAddress }\r\n                                //     return await firebase.functions().httpsCallable('sendReceiptEmailAnon')({ orderObj })\r\n                                // }\r\n                            })\r\n                            .then(result => {\r\n                                itemList.forEach(i => {\r\n\r\n\r\n                                    // let singleItem = fullItem[0]\r\n                                    // let itemPrice = singleItem[2]\r\n\r\n                                    let item = i[0]\r\n                                    let itemPrice = i[2]\r\n\r\n                                    console.log(\"item: \" + item)\r\n                                    console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                    updateDatabaseOrders(i)\r\n                                    modifyTotalPrice(\r\n                                        (Number(itemPrice) * -1)\r\n                                    )\r\n                                    modifyCartCount(-1);\r\n                                })\r\n\r\n                                let newList = []\r\n                                setItemList([])\r\n                                setAnonList([])\r\n                                setFinalItemList(newList)\r\n                                setSpinnerDisplayed(false)\r\n                                setOnCheckout(false)\r\n\r\n                                if (storeCreditUsed > 0) {\r\n                                    firebase.functions().httpsCallable('updateCredit')\r\n                                        ({ storeCreditUsed })\r\n                                        .then(result => {\r\n                                            setStoreCredit(storeCredit - (storeCreditUsed / 100))\r\n                                            setStoreCreditUsed(0)\r\n                                            setPriceAfterStoreCredit(0)\r\n                                            return console.log(\"credit updated \" + result)\r\n                                        })\r\n                                        .catch(error => {\r\n                                            return console.log(\"error updating credit \" + error)\r\n                                        })\r\n                                }\r\n\r\n                                return console.log(result)\r\n\r\n\r\n                            })\r\n                            .catch(error => {\r\n                                return console.log(\"Error sending receipt email: \" + error)\r\n                            })\r\n                    } else if (result.type) {\r\n                        setProcessError(true)\r\n                        setSpinnerDisplayed(false)\r\n                        enableButton()\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    setProcessError(true)\r\n                    setSpinnerDisplayed(false)\r\n                    enableButton()\r\n                    return console.log(\"error getting client secret: \" + error)\r\n                })\r\n            return\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const [paymentRequest, setPaymentRequest] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n        if (stripe) {\r\n            const pr = stripe.paymentRequest({\r\n                country: 'US',\r\n                currency: 'usd',\r\n                total: {\r\n                    label: 'Demo total',\r\n                    amount: totalCost,\r\n                },\r\n                requestPayerName: true,\r\n                requestPayerEmail: true,\r\n            });\r\n            pr.canMakePayment().then(result => {\r\n                if (result) {\r\n                    setPaymentRequest(pr);\r\n                    console.log(result)\r\n                } else {\r\n                    console.log(\"browser cannot make payment\")\r\n                }\r\n            });\r\n        }\r\n    }, [stripe]);\r\n\r\n    const options = {\r\n        paymentRequest,\r\n        style: {\r\n            paymentRequestButton: {\r\n                type: 'default',\r\n                // One of 'default', 'book', 'buy', or 'donate'\r\n                // Defaults to 'default'\r\n\r\n                theme: 'dark',\r\n                // One of 'dark', 'light', or 'light-outline'\r\n                // Defaults to 'dark'\r\n\r\n                height: '64px',\r\n                // Defaults to '40px'. The width is always '100%'.\r\n            },\r\n        }\r\n    }\r\n\r\n    const [showPayError, setShowPayError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (paymentRequest !== null) {\r\n            paymentRequest.on('paymentmethod', async (ev) => {\r\n                // Confirm the PaymentIntent without handling potential next actions (yet).\r\n                firebase.functions().httpsCallable('getClientSecret')()\r\n                    .then(async (result) => {\r\n                        console.log(result + \" \" + result.data)\r\n                        const clientSecret = result.data\r\n                        // confirm card payment:\r\n\r\n                        const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(\r\n                            clientSecret,\r\n                            { payment_method: ev.paymentMethod.id },\r\n                            { handleActions: false }\r\n                        );\r\n\r\n                        if (confirmError) {\r\n                            // Report to the browser that the payment failed, prompting it to\r\n                            // re-show the payment interface, or show an error message and close\r\n                            // the payment interface.\r\n                            ev.complete('fail');\r\n                            setShowPayError(true)\r\n                        } else {\r\n                            // Report to the browser that the confirmation was successful, prompting\r\n                            // it to close the browser payment method collection interface.\r\n                            ev.complete('success');\r\n                            // Let Stripe.js handle the rest of the payment flow.\r\n\r\n                            console.log(paymentIntent)\r\n                            const itemNameArray = itemList.map(item => {\r\n                                return item[0]\r\n                            })\r\n                            let result = paymentIntent\r\n                            console.log(itemNameArray)\r\n                            setAmountPaid(result.amount)\r\n                            console.log(amountPaid)\r\n                            let payAmount = result.amount\r\n                            let checkoutNote = document.getElementById('checkoutNote').value\r\n                            // rearrange database:\r\n                            return await firebase.functions().httpsCallable('updateDatabase')\r\n                                ({ result, itemList, orderString, shipAddress, storeCreditUsed, checkoutNote })\r\n                                .then(async result => {\r\n                                    console.log(result)\r\n                                    // cartItems, cost, lastFour, deliverDate\r\n                                    const orderObject = [\r\n                                        (payAmount / 100).toFixed(2).toString(),\r\n                                        \"4242\",\r\n                                        //  lastFour.toString(), \r\n                                        deliverDate\r\n                                    ]\r\n                                    console.log(orderObject)\r\n\r\n                                    setOrderComplete(true)\r\n                                    setProcessError(false)\r\n\r\n                                    let nameArrayJoined = itemNameArray.join(\", \")\r\n                                    setItemsPurchased(nameArrayJoined)\r\n                                    // send receipt email:\r\n                                    // if (userInfo.userEmail) {\r\n                                    let orderObj = { orderObject, itemList, receiptEmail, orderString, checkoutNote }\r\n                                    console.log(\"normal email sent\")\r\n                                    return await firebase.functions().httpsCallable('sendReceiptEmail')({ orderObj })\r\n                                    // } else {\r\n                                    //     console.log(\"anon email sent\")\r\n                                    //     let shipAddress = tempShipAddress\r\n                                    //     let orderObj = { orderObject, itemList, receiptEmail, shipAddress }\r\n                                    //     return await firebase.functions().httpsCallable('sendReceiptEmailAnon')({ orderObj })\r\n                                    // }\r\n                                })\r\n                                .then(result => {\r\n                                    itemList.forEach(i => {\r\n\r\n\r\n                                        // let singleItem = fullItem[0]\r\n                                        // let itemPrice = singleItem[2]\r\n\r\n                                        let item = i[0]\r\n                                        let itemPrice = i[2]\r\n\r\n                                        console.log(\"item: \" + item)\r\n                                        console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                        updateDatabaseOrders(i)\r\n                                        modifyTotalPrice(\r\n                                            (Number(itemPrice) * -1)\r\n                                        )\r\n                                        modifyCartCount(-1);\r\n                                    })\r\n                                    let newArr = []\r\n                                    setItemList([])\r\n                                    setAnonList([])\r\n                                    setFinalItemList(newArr)\r\n                                    setSpinnerDisplayed(false)\r\n                                    setOnCheckout(false)\r\n\r\n                                    if (storeCreditUsed > 0) {\r\n                                        firebase.functions().httpsCallable('updateCredit')\r\n                                            ({ storeCreditUsed })\r\n                                            .then(result => {\r\n                                                setStoreCredit(storeCredit - (storeCreditUsed / 100))\r\n                                                setStoreCreditUsed(0)\r\n                                                setPriceAfterStoreCredit(0)\r\n                                                return console.log(\"credit updated \" + result)\r\n                                            })\r\n                                            .catch(error => {\r\n                                                return console.log(\"error updating credit \" + error)\r\n                                            })\r\n                                    }\r\n\r\n\r\n                                    return console.log(result)\r\n\r\n                                })\r\n                                .catch(error => {\r\n                                    return console.log(\"Error sending receipt email: \" + error)\r\n                                })\r\n                            // The payment has succeeded.\r\n\r\n                        }\r\n\r\n                    })\r\n            });\r\n        }\r\n    }, [paymentRequest])\r\n\r\n\r\n    const [exchangeSpinnerDisplayed, setExchangeSpinnerDisplayed] = useState(false)\r\n\r\n    if (!exchangePurchase) {\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"row centered shadowed\">\r\n                <div className=\"column\">\r\n                    <textarea\r\n                        id=\"checkoutNote\"\r\n                        rows=\"4\"\r\n                        cols=\"50\"\r\n                        maxlength=\"150\"\r\n                        placeholder=\"Special instructions for your order? 150 character limit\"></textarea>\r\n                    <h2>Order Total: ${(Number(priceAfterStoreCredit) / 100).toFixed(2)}</h2>\r\n                    {(storeCreditUsed > 0) && <h3>{(Number(storeCreditUsed) / 100).toFixed(2)}</h3>}\r\n                    <h2>Use shipping address on file?</h2>\r\n                    {usePrevShip &&\r\n                        <div>\r\n                            {prevAddressShipping.map(item => {\r\n                                return <p>{item.toString()}</p>\r\n                            })}\r\n                            <div class=\"switch centered\">\r\n                                <p>Same as Billing Address</p>\r\n                                <input\r\n                                    name=\"keepMeSignedIn\"\r\n                                    class=\"switch-input\"\r\n                                    type=\"checkbox\"\r\n                                    id=\"sameAsBilling\"\r\n                                    checked={sameAsBilling}\r\n                                    onClick={() => {\r\n                                        setSameAsBilling(!sameAsBilling);\r\n                                        setUsePrevBilling(!usePrevBilling);\r\n                                        setBillingAddress(!billingAddress)\r\n                                    }}\r\n                                ></input>\r\n                                <label class=\"switch-paddle\" for=\"sameAsBilling\">\r\n                                    <span\r\n                                        style={{ \"color\": \"white\" }}\r\n                                        class=\"show-for-sr\">Same as billing address</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>}\r\n                    <form>\r\n                        <label for=\"\">Yes</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevShip(true) }} selected></input>\r\n                        <label for=\"\">No</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevShip(false) }}></input>\r\n                    </form>\r\n                    <form>\r\n                        <label for=\"sameAsBilling\">Same as billing address</label>\r\n                        <input type=\"checkbox\" id=\"sameAsBilling\" selected={sameAsBillingBool}></input>\r\n                    </form>\r\n                    <h2>Use billing address on file?</h2>\r\n                    {(usePrevBill && !usePrevBilling) &&\r\n                        <div>\r\n                            {prevAddressBilling.map(item => {\r\n                                return <h3>{item.toString()}</h3>\r\n                            })}\r\n                        </div>}\r\n                    <form>\r\n                        <label for=\"\">Yes</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevBill(true) }} selected></input>\r\n                        <label for=\"\">No</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevBill(false) }}></input>\r\n                    </form>\r\n                    <h2>Use card on file?</h2>\r\n                    {usePrevCard &&\r\n                        <div>\r\n                            {payMethod.map(item => {\r\n                                if (!item.includes(\"pm\")) {\r\n                                    return <h3>{item.toString()}</h3>\r\n                                }\r\n                            })}\r\n                        </div>}\r\n                    <form>\r\n                        <label for=\"\">Yes</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevCard(true) }} selected></input>\r\n                        <label for=\"\">No</label>\r\n                        <input type=\"radio\" onClick={() => { setUsePrevCard(false) }}></input>\r\n                    </form>\r\n                    <br></br>\r\n                    {(storeCredit > 0) &&\r\n                        <button type=\"button\" onClick={() => { handleStoreCreditPrompt() }}>Use Store Credit</button>}\r\n                    <Elements stripe={stripePromise}>\r\n                        <form >\r\n                            <button\r\n                                type=\"button\"\r\n                                id=\"confirmButton\"\r\n                                onClick={() => { handleConfirmPayment() }}\r\n                            >Confirm Payment Now</button>\r\n                        </form>\r\n                    </Elements>\r\n\r\n                    {(showPayError) &&\r\n                        <div>\r\n                            <h2>Your payment didn't work my dude.</h2>\r\n                        </div>}\r\n                    <br></br>\r\n                    {(spinnerDisplayed && !orderComplete) &&\r\n                        <div>\r\n                            <div className=\"loader\"></div>\r\n                            <h3>Please do not close or refresh the page.</h3>\r\n                        </div>}\r\n                    {processError &&\r\n                        <div>\r\n                            <h3>Error Processing Payment</h3>\r\n                        </div>}\r\n                    {orderComplete && <div class=\"productCard\">\r\n                        <div class=\"text-align center\">\r\n                            <div>\r\n                                <h1>Your Order is Complete!</h1>\r\n                                <h2>Items purchased: {itemsPurchased}</h2>\r\n                                <h2>Amount Paid: ${(amountPaid / 100).toFixed(2)}</h2>\r\n                                <h2>Receipt email: {receiptEmail\r\n                                    ? receiptEmail.toString()\r\n                                    : userInfo.userEmail}</h2>\r\n                                <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                                <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                            </div>\r\n                        </div>\r\n                    </div>}\r\n                    <br></br>\r\n                    {(!usePrevCard) &&\r\n                        <div>\r\n                            <Checkout />\r\n                            <PayPalButton\r\n                                clientId=\"AQa6_jLL-SRpzQ2ZZdAhqBdnMQy80zfB7pHTO_URcvNcWqV3wjkCOuO9DHFNqRMYU6_vhHGEtC8wqFFJ\"\r\n                                className=\"payButtonClass\"\r\n                                currency=\"USD\"\r\n                                amount={`${payPalCost}`}\r\n                                onSuccess={(details, data) => {\r\n                                    let ppData = data\r\n                                    setPayPalSuccess(true)\r\n                                    firebase.functions().httpsCallable('payPalPayment')({ details, ppData })\r\n                                        .then(result => {\r\n                                            console.log(result)\r\n                                            itemList.forEach(i => {\r\n\r\n\r\n                                                // let singleItem = fullItem[0]\r\n                                                // let itemPrice = singleItem[2]\r\n\r\n                                                let item = i[0]\r\n                                                let itemPrice = i[2]\r\n\r\n                                                console.log(\"item: \" + item)\r\n                                                console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                                updateDatabaseOrders(i)\r\n                                                modifyTotalPrice(\r\n                                                    (Number(itemPrice) * -1)\r\n                                                )\r\n                                                modifyCartCount(-1);\r\n                                            })\r\n\r\n                                            let newList = []\r\n                                            setItemList([])\r\n                                            setAnonList([])\r\n                                            setFinalItemList(newList)\r\n                                            setSpinnerDisplayed(false)\r\n                                            return console.log(result)\r\n\r\n                                        })\r\n                                        .catch(error => {\r\n                                            return console.log(\"Error sending receipt email: \" + error)\r\n                                        })\r\n                                    console.log(details)\r\n                                    console.log(data)\r\n                                }}\r\n                                catchError={(error) => {\r\n                                    console.log(error)\r\n                                    setPayPalFailure(true)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    {(paymentRequest) &&\r\n                        <div className=\"payButtonClass\">\r\n                            <PaymentRequestButtonElement options={options} />\r\n                        </div>}\r\n                    {payPalSuccess &&\r\n                        <div>\r\n                            <h1>Your Exchange Order is Complete!</h1>\r\n                            <h2>Items Exchanged: {itemsPurchased}</h2>\r\n                            <h2>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</h2>\r\n                            <h2>Receipt email: {receiptEmail\r\n                                ? receiptEmail.toString()\r\n                                : userEmail.toString()}</h2>\r\n                            <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                            <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                        </div>}\r\n                    {payPalFailure &&\r\n                        <div>\r\n                            <h2>Your paypal order was a failure ya dingus.</h2>\r\n                        </div>}\r\n                    <br></br>\r\n                    <br></br>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    } else {\r\n        if (!exchangePurchaseComplete) {\r\n\r\n            return (\r\n                <div className=\"centered\">\r\n                    <textarea\r\n                        id=\"exchangeNote\"\r\n                        rows=\"4\"\r\n                        cols=\"50\"\r\n                        maxlength=\"150\"\r\n                        placeholder=\"Special instructions for your order? 150 character limit\"></textarea>\r\n                    <h2>Order Total: ${(Number(priceAfterStoreCredit) / 100).toFixed(2)}</h2>\r\n                    {(storeCreditUsed > 0) && <h3>{(Number(storeCreditUsed) / 100).toFixed(2)}</h3>}\r\n                    <button type=\"button\"\r\n                        onClick={() => {\r\n                            confirmExchangeOrder(\r\n                                orderString, itemList, deliverDate\r\n                            );\r\n                            setExchangeSpinnerDisplayed(true)\r\n                        }}>Confirm Order</button>\r\n                    {exchangeSpinnerDisplayed &&\r\n                        <div>\r\n                            <div className=\"loader\"></div>\r\n                            <h3>Please do not close or refresh the page.</h3>\r\n                        </div>}\r\n                </div>\r\n            )\r\n\r\n        } else {\r\n            return (\r\n\r\n                <div className=\"centered\">\r\n                    <h1>Your Exchange Order is Complete!</h1>\r\n                    <h2>Items Exchanged: {itemsPurchased}</h2>\r\n                    <h2>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</h2>\r\n                    <h2>Receipt email: {receiptEmail\r\n                        ? receiptEmail.toString()\r\n                        : userEmail.toString()}</h2>\r\n                    <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                    <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default ExpressCheckout","import React, { useState, useEffect, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\nfunction CartItemList() {\r\n\r\n\r\n    // rewind to here in case of error\r\n\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n\r\n    const {\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        itemList,\r\n        setItemList,\r\n        itemArray,\r\n        removeFromCart,\r\n        addToCart,\r\n        activateRemoveFromCartModal,\r\n        finalItemList,\r\n        setFinalItemList,\r\n        orderComplete,\r\n        setOrderComplete,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        if (orderComplete) {\r\n            setFinalItemList([])\r\n        }\r\n    }, [orderComplete])\r\n\r\n\r\n    useEffect(() => {\r\n        setOrderComplete(false)\r\n    }, [])\r\n\r\n    // const [finalItemList, setFinalItemList] = useState([])\r\n\r\n    function handleRemoveMultipleFromCart(item, amount) {\r\n        let newArr = []\r\n        let i;\r\n        // for (i = 0; i < amount; i++) {\r\n        //     removeFromCart(item, amount)\r\n        //     // newArr.push([item[0], item[1], item[2], item[3], item[4]])\r\n\r\n        // }\r\n\r\n        removeFromCart(item, amount)\r\n\r\n        const newFinalList = finalItemList.filter(i => !(\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        const arrayOfGivenItem = itemList.filter(i => (\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        arrayOfGivenItem.pop()\r\n\r\n        let finalList = [...newFinalList, ...arrayOfGivenItem]\r\n        setFinalItemList([...finalList])\r\n        // setItemList()\r\n    }\r\n\r\n\r\n    const [quantSelected, setQuantSelected] = useState(\"1\")\r\n\r\n    function handleQuantChoice(productName, color, productSize, productQuant, productNickName) {\r\n\r\n        let productNameLink = productName.split(\" \").join(\"-\")\r\n\r\n        let quantChosen = Number(document.getElementById(`quantityChosen${productNameLink}`).value)\r\n        let itemsOfNameType = itemList.filter(item => item[0] == productName)\r\n\r\n        // let itemsOfColorType = itemList.filter(item => item[4] == color)\r\n        // let itemsOfSizeType = itemList.filter(item => item[3] == productSize)\r\n        //  item[5] == productQuant\r\n\r\n        let itemsOfNameAndColor = itemsOfNameType.filter(item => item[4] == color)\r\n        let itemsOfNameColorSize = itemsOfNameAndColor.filter(item => item[3] == productSize)\r\n\r\n        let itemQuant = itemsOfNameColorSize.length\r\n\r\n        let itemTemplate = itemsOfNameColorSize[0]\r\n        console.log(itemTemplate)\r\n\r\n\r\n\r\n\r\n        console.log(\"handleQuantChoice fired!\")\r\n\r\n        if (itemQuant > quantChosen) {\r\n            console.log(\"itemQuant > quantChosen\")\r\n            let subtractedQuant = Number(itemQuant - quantChosen)\r\n\r\n            let newQuant = Number(itemQuant - subtractedQuant)\r\n\r\n            handleRemoveMultipleFromCart(itemTemplate, subtractedQuant)\r\n\r\n            // separates the final list array into a list which only has matches to the requested item,\r\n            // and an array of all other items.\r\n            // remove one from the list of matching items.\r\n            // create a new version of the item with a changed quantity. push the new item to the list\r\n            // of matching items. Then merge the matches back into the full set.\r\n\r\n            let finalListItems = finalItemList.filter(i =>\r\n                (i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListOthers = finalItemList.filter(i =>\r\n                !(i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListItem = finalListItems[0]\r\n            let countOfItemInFinalList = finalListItem.length\r\n\r\n            finalListItems.pop()\r\n\r\n\r\n\r\n\r\n            let finalItemRecounted = [\r\n                itemTemplate[0],\r\n                itemTemplate[1],\r\n                itemTemplate[2],\r\n                itemTemplate[3],\r\n                itemTemplate[4],\r\n                newQuant\r\n            ]\r\n\r\n            finalListItems.push(finalItemRecounted)\r\n\r\n\r\n            let newList = [...finalListOthers, ...finalListItems]\r\n            let newListNoNegatives = newList.filter(i => i[5] !== 0)\r\n\r\n            setFinalItemList([...newListNoNegatives])\r\n\r\n            modifyCartCount((Number(subtractedQuant) * -1));\r\n            modifyTotalPrice(\r\n                (Number(itemTemplate[2]) * (Number(subtractedQuant) * -1))\r\n            )\r\n\r\n            console.log(finalListItems)\r\n\r\n            let moddedNumber = (Number(quantChosen + subtractedQuant))\r\n            document.getElementById(`${productNickName}${moddedNumber}`).selected = 'selected'\r\n            document.getElementById(`${productNickName}${moddedNumber}`).setAttribute('selected', 'selected')\r\n\r\n\r\n            // let i;\r\n            // for (i = 0; i < subtractedQuant; i++) {\r\n\r\n            // }\r\n        } else if (itemQuant < quantChosen) {\r\n            console.log(\"itemQuant > quantChosen\")\r\n            let addedQuant = Number(quantChosen - itemQuant)\r\n\r\n\r\n            let cartItem = [\r\n                itemTemplate[0],\r\n                [],\r\n                (Number(itemTemplate[2]) / 100),\r\n                [],\r\n                [],\r\n                itemTemplate[1]\r\n\r\n\r\n            ]\r\n            let colorArr = itemTemplate[4].split(\"_\")\r\n\r\n            let options = [itemTemplate[3], colorArr[0], colorArr[1], addedQuant]\r\n            // name - url - price - size - color\r\n            addToCart(cartItem, options)\r\n\r\n\r\n            let newQuant = Number(itemQuant + addedQuant)\r\n\r\n            let finalListItems = finalItemList.filter(i =>\r\n                (i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListOthers = finalItemList.filter(i =>\r\n                !(i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListItem = finalListItems[0]\r\n            let countOfItemInFinalList = finalListItem.length\r\n\r\n            finalListItems.pop()\r\n\r\n\r\n\r\n\r\n            let finalItemRecounted = [\r\n                itemTemplate[0],\r\n                itemTemplate[1],\r\n                itemTemplate[2],\r\n                itemTemplate[3],\r\n                itemTemplate[4],\r\n                newQuant\r\n            ]\r\n\r\n            finalListItems.push(finalItemRecounted)\r\n\r\n\r\n            let newList = [...finalListOthers, ...finalListItems]\r\n\r\n            let newListNoNegatives = newList.filter(i => i[5] !== 0)\r\n\r\n            setFinalItemList([...newListNoNegatives])\r\n\r\n            console.log(finalListItems)\r\n\r\n            modifyCartCount(Number(addedQuant));\r\n            modifyTotalPrice(\r\n                (Number(itemTemplate[2]) * (Number(addedQuant)))\r\n            )\r\n\r\n            let moddedNumber = (Number(quantChosen - addedQuant))\r\n            document.getElementById(`${productNickName}${moddedNumber}`).selected = 'selected'\r\n            document.getElementById(`${productNickName}${moddedNumber}`).setAttribute('selected', 'selected')\r\n\r\n        }\r\n        console.log(quantChosen)\r\n\r\n\r\n\r\n\r\n        //     if (itemQuant > quantChosen) {\r\n\r\n        //         let numDifference = Number(itemQuant - quantChosen)\r\n\r\n        //         let i;\r\n        //         for (i = 0; i < numDifference; i++)\r\n\r\n        //             removeFromCart(itemsOfNameColorSize[0])\r\n        //     } else if (itemQuant < quantChosen) {\r\n\r\n        //         let numDifference = Number(quantChosen - itemQuant)\r\n\r\n        //         let i;\r\n        //         for (i = 0; i < numDifference; i++) {\r\n        //             addToCart(itemsOfNameColorSize)\r\n        //         }\r\n\r\n        //     } else if (itemQuant === quantChosen)\r\n\r\n        //         console.log(\"Same quantity!\")\r\n    }\r\n\r\n\r\n\r\n\r\n    console.log(itemList)\r\n\r\n    console.log(finalItemList)\r\n\r\n\r\n    // handling item quantity :\r\n\r\n    useEffect(() => {\r\n\r\n        if (itemList.length > 0) {\r\n\r\n            let newItemList = []\r\n\r\n            itemList.forEach(item => {\r\n                // const itemQuantArray = itemList.filter(i => i == item)\r\n\r\n                let itemsOfKind = itemList.filter(i =>\r\n                    (\r\n                        (i[0] == item[0]) &&\r\n                        (i[1] == item[1]) &&\r\n                        (i[2] == item[2]) &&\r\n                        (i[3] == item[3]) &&\r\n                        (i[4] == item[4])\r\n                    )\r\n                )\r\n\r\n                console.log(itemsOfKind)\r\n\r\n                let itemsOfKindLength = itemsOfKind.length\r\n\r\n                let newItem = [...item, itemsOfKindLength]\r\n\r\n                let isNewItemInListAlready = newItemList.filter(i =>\r\n                    (\r\n                        (i[0] == newItem[0]) &&\r\n                        (i[1] == newItem[1]) &&\r\n                        (i[2] == newItem[2]) &&\r\n                        (i[3] == newItem[3]) &&\r\n                        (i[4] == newItem[4]) &&\r\n                        (i[5] == newItem[5])\r\n                    )\r\n                )\r\n\r\n                if (isNewItemInListAlready.length < 1) {\r\n                    newItemList.push(newItem)\r\n                }\r\n\r\n\r\n                console.log(item)\r\n                console.log(itemList)\r\n                console.log(newItemList)\r\n\r\n            })\r\n\r\n            console.log(newItemList)\r\n            setFinalItemList(newItemList)\r\n            console.log(finalItemList)\r\n            // let itemArray = itemList.filter\r\n        }\r\n    }, [itemList])\r\n\r\n    if (finalItemList.length > 0) {\r\n\r\n\r\n        return (\r\n            finalItemList.map(item => {\r\n\r\n                console.log(item)\r\n                console.log(finalItemList)\r\n\r\n                if ((item.length > 0) && (item[0])) {\r\n\r\n                    console.log(item)\r\n                    console.log(item[0])\r\n                    let productNameArray = item[0].split(\" \")\r\n                    let productNameLink = productNameArray.join(\"-\")\r\n                    let productNickName = productNameLink.toString()\r\n                    console.log(productNickName)\r\n\r\n                    let productFullColor = item[4]\r\n\r\n                    let productColorNameHex = item[4].split(\"_\")\r\n\r\n                    let colorName = productColorNameHex[0]\r\n                    let colorHex = productColorNameHex[1]\r\n                    let productSize = item[3]\r\n                    let productQuant = item[5]\r\n\r\n                    console.log(item[1])\r\n                    let modalItem = [item[0], (Number(Number(item[2]) / 100)), (Number(Number(item[2]) / 100)), [], [], `${item[1]}`]\r\n\r\n\r\n\r\n                    let modalOptions = [productSize, colorName, colorHex, productQuant]\r\n\r\n                    console.log(productSize, productQuant, productFullColor, productNameLink)\r\n\r\n                    productNickName.concat(productSize, productFullColor)\r\n                    // let productNickString = productNick.toString\r\n                    // let productNickFull = productNickString.concat(productFullColor)\r\n                    // let productNickFullString = productNickFull.toString\r\n\r\n                    console.log(`${productNickName.toString()}`);\r\n\r\n                    let numbersBeforeSelected = []\r\n                    // let numberAtSelected = []\r\n                    let numbersAfterSelected = []\r\n\r\n                    let i;\r\n                    for (i = 1; i < productQuant; i++) {\r\n                        numbersBeforeSelected.push(i)\r\n                    }\r\n                    for (i = (productQuant + 1); i < 11; i++) {\r\n                        numbersAfterSelected.push(i)\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n                    // function handleInitialQuant(productNickName, productQuant) {\r\n\r\n                    //     console.log(`${productNickName} ${productQuant}`)\r\n                    // }\r\n                    let sale = item[12]\r\n\r\n                    ////////////////////////////////////////////////\r\n\r\n                    return (\r\n                        <div className=\"column shadowed\">\r\n\r\n                            <div className=\"itemCard shadowed graded\">\r\n                                <Link to={`/product/${productNameLink}`}>\r\n                                    <img src={`${item[1]}`} width=\"50%\" height=\"auto\"></img>\r\n                                    <p class=\"text-decoration-none\">{item[0]}</p>\r\n                                </Link>\r\n                                {(!sale) ?\r\n                                    <p>${(Number(item[2]) / 100).toFixed(2)}</p>\r\n                                    :\r\n                                    <p>${(Number(sale) / 100).toFixed(2)}</p>\r\n                                }\r\n                                <Flexbox flexDirection=\"row\" className=\"centered\">\r\n                                    {((productColorNameHex.length > 1) && (colorName !== \"One-Color\")) &&\r\n                                        <div className=\"row\">\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                <div className=\"column\">\r\n                                                    <button\r\n                                                        style={{\r\n                                                            \"background-color\": `${colorHex}`,\r\n                                                            \"padding\": \"1em\",\r\n                                                            \"border-radius\": \"50%\",\r\n                                                            \"border\": \"none\",\r\n                                                            \"display\": \"inline-block\",\r\n                                                            \"font-size\": \"12px\",\r\n                                                            \"padding-bottom\": \"1em\",\r\n                                                            \"max-height\": \"3em\",\r\n                                                            \"max-width\": \"2em\",\r\n                                                            \"margin-left\": \"2em\",\r\n                                                            \"position\": \"relative\",\r\n                                                            \"right\": \"2vw\",\r\n                                                            \"bottom\": \".5vw\"\r\n                                                        }}\r\n                                                        type=\"button\"\r\n                                                        className=\"colorButton shadowed\"\r\n                                                        id={`colorButton${colorName}`}\r\n                                                        name={`${colorName}`}></button>\r\n                                                </div>\r\n\r\n                                                <p className=\"column\">{colorName}</p>\r\n                                            </Flexbox>\r\n                                        </div>\r\n                                    }\r\n                                    {(!productSize.includes(\"One-Size\")) ?\r\n                                        <p style={{\r\n                                            \"left\": \"3vw\",\r\n                                            \"top\": \"3vw\"\r\n                                        }}>{productSize}</p>\r\n                                        // :\r\n                                        // <p style={{\r\n                                        //     \"left\": \"3vw\",\r\n                                        //     \"top\": \"3vw\",\r\n                                        :\r\n                                        <div></div>\r\n                                        // }}>One Size</p>\r\n\r\n                                    }\r\n                                </Flexbox>\r\n                                <p>Quantity: {productQuant}</p>\r\n                                <select\r\n                                    style={{\r\n                                        \"maxWidth\": `${isLargeScreen ? \"\" : \"45vw\"}`\r\n                                    }}\r\n                                    id={`quantityChosen${productNameLink}`}\r\n                                    onChange={() => {\r\n                                        handleQuantChoice(\r\n                                            `${item[0]}`,\r\n                                            `${productFullColor}`,\r\n                                            `${productSize}`,\r\n                                            `${productQuant}`,\r\n                                            `${productNickName}`)\r\n                                    }}\r\n                                // onLoad={() => { handleInitialQuant(productNickName, productQuant) }}\r\n                                >\r\n                                    {numbersBeforeSelected.map(number => {\r\n                                        return (\r\n                                            <option\r\n                                                id={`${productNickName}${number}`}\r\n                                                value={`${number}`}>{number}</option>\r\n                                        )\r\n                                    })}\r\n                                    {<option\r\n                                        id={`${productNickName}${productQuant}`} selected>{productQuant}</option>}\r\n                                    {numbersAfterSelected.map(number => {\r\n                                        return (\r\n                                            <option\r\n                                                id={`${productNickName}${number}`}\r\n                                                value={`${number}`}\r\n                                            >{number}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                                <button\r\n                                    style={{\r\n                                        \"maxWidth\": `${isLargeScreen ? \"\" : \"45vw\"}`,\r\n                                        \"maxHeight\": \"3em\",\r\n                                        \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`\r\n                                    }}\r\n                                    className=\"userButton button primary\" type=\"button\"\r\n                                    onClick={\r\n                                        () => {\r\n                                            handleRemoveMultipleFromCart(item, productQuant);\r\n                                            modifyCartCount((Number(productQuant) * -1));\r\n                                            modifyTotalPrice(\r\n                                                (Number(item[2]) * (Number(productQuant) * -1))\r\n                                            );\r\n                                            activateRemoveFromCartModal(modalItem, modalOptions)\r\n                                            // must pass options as in add to cart function\r\n                                            // convert cart style to allProductStyle\r\n                                        }\r\n                                    }\r\n                                ><p>Remove</p></button>\r\n\r\n                                <br></br>\r\n                                <br></br>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                } else if (item.length === 0) {\r\n                    return <div></div>\r\n                }\r\n            })\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div class=\"cart\">\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default CartItemList\r\n\r\n","import React, { useState, useEffect, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport CartItemList from \"./CartItemList\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\n\r\n// objectives: \r\n// Handle tax and shipping.\r\n// Ask for shipping information and promo codes.\r\n// Express checkout\r\n\r\nfunction Cart() {\r\n\r\n    const {\r\n        totalCost,\r\n        itemCount,\r\n        itemNumberString,\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        itemList,\r\n        anonUser,\r\n        setOnCheckout,\r\n        accountTitleString,\r\n        expressCheckoutOn,\r\n        setExpressCheckoutOn,\r\n        handleExpressModal,\r\n        setUseExpressMode,\r\n        useExpressMode,\r\n        isLargeScreen,\r\n        setSearchString,\r\n        setOnProductPage\r\n    } = useContext(Context)\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setSearchString(\"\")\r\n        setTermsDisplay(false);\r\n        setOnCheckout(false)\r\n        setRouterString(\"cart\")\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n        setUseExpressMode(false)\r\n        setOnProductPage(false)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (firebase.auth().currentUser && !anonUser) {\r\n            // user signed in, enable express\r\n\r\n            if ((document.getElementById('expressCheckout') !== null)\r\n                && (document.getElementById('expressCheckout') !== undefined)) {\r\n                document.getElementById('expressCheckout').style.disabled = false\r\n            }\r\n\r\n            // (firebase.auth().currentUser && !firebase.auth().currentUser.isAnonymous) \r\n        } else {\r\n            if ((document.getElementById('expressCheckout') !== null)\r\n                && (document.getElementById('expressCheckout') !== undefined)) {\r\n\r\n                document.getElementById('expressCheckout').style.disabled = true\r\n            }\r\n            // disable express\r\n        }\r\n    }, [expressCheckoutOn])\r\n    // when remove from cart is clicked, subtract 1 from count and price from price\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"cart\">\r\n\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Cart</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Cart</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"centered\" style={{\r\n                \"background-color\": \"black\",\r\n                \"box-shadow\": \"0px 0px 5px white\",\r\n                \"width\": \"94%\",\r\n                \"height\": \"100%\"\r\n            }}>\r\n                <h4 onLoad={() => {\r\n                    window.scroll(0, 130)\r\n                }}>Cart</h4>\r\n                {(itemList.length == 0) &&\r\n                    <div className=\"centered\">\r\n                        <div >\r\n                            <div className=\"centered\">\r\n                                <p\r\n                                    className=\"centered\"\r\n                                    style={{\r\n                                        \"background-color\": \"#565759\",\r\n                                        \"padding\": \".25em\",\r\n                                        \"border-radius\": \"13px\",\r\n                                        \"width\": `${isLargeScreen && \"20%\"}`,\r\n                                        \"position\": \"relative\",\r\n                                        \"whiteSpace\": \"nowrap\"\r\n                                    }}>Your shopping cart is empty.</p>\r\n                                <Link to=\"/shop\">\r\n                                    <button\r\n                                        className=\"button primary\"\r\n                                        type=\"button\">Go Shopping</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>}\r\n                <Flexbox flexDirection={`${isLargeScreen ? \"row\" : \"column\"}`}>\r\n                    <div\r\n\r\n                        style={{ \"display\": `${isLargeScreen ? \"none\" : \"initial\"}` }}>\r\n                        <p className=\"itemCard\">\r\n                            Cart Total ({itemCount} {itemNumberString}): ${(totalCost / 100).toFixed(2)}</p>\r\n                        {(itemList.length > 0) &&\r\n                            <div className=\"itemCard stickyCheckout\">\r\n                                <Link to=\"/checkout\">\r\n                                    <button\r\n                                        className=\"userButton button primary\"\r\n                                        style={{\r\n                                            \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                            \"margin\": \"2em\",\r\n                                            \"fontSize\": \"small\",\r\n                                            \"max-height\": \"3em\"\r\n                                        }}\r\n                                        type=\"button\">Checkout</button>\r\n                                </Link>\r\n                                <Link to=\"/checkout\">\r\n                                    {(!expressCheckoutOn) ?\r\n                                        <span data-tooltip class=\"has-tip top\" tabindex=\"2\"\r\n                                            title={`${(!expressCheckoutOn) && \"Sign in to use Express Checkout.\"}`}>\r\n                                            <button\r\n                                                className=\"userButton button success\"\r\n                                                style={{\r\n                                                    \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                                    \"margin\": \"2em\",\r\n                                                    \"marginBottom\": `${isLargeScreen ? \"0em\" : \"2em\"}`,\r\n                                                    \"fontSize\": \"small\",\r\n                                                    \"max-height\": \"3em\"\r\n                                                }}\r\n                                                type=\"button\" id=\"expressCheckoutTwo\"\r\n                                                disabled={!expressCheckoutOn}\r\n                                                onClick={() => {\r\n                                                    handleExpressModal();\r\n                                                    setUseExpressMode(true)\r\n                                                }}\r\n                                            >Express Checkout</button>\r\n                                        </span>\r\n                                        :\r\n                                        <button\r\n                                            className=\"userButton button success\"\r\n                                            style={{\r\n                                                \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                                \"margin\": \"2em\",\r\n                                                \"fontSize\": \"small\",\r\n                                                \"max-height\": \"3em\"\r\n                                            }}\r\n                                            type=\"button\" id=\"expressCheckoutTwo\"\r\n                                            disabled={!expressCheckoutOn}\r\n                                            onClick={() => {\r\n                                                handleExpressModal();\r\n                                                setUseExpressMode(true)\r\n                                            }}\r\n                                        >Express Checkout</button>\r\n                                    }\r\n                                </Link>\r\n                            </div>}\r\n                    </div>\r\n                    <div>\r\n                        <CartItemList />\r\n\r\n                    </div>\r\n                    <div className=\"stickyCheckout\">\r\n                        {(itemList.length > 0) &&\r\n                            <p\r\n                                style={{\r\n                                    \"position\": `${isLargeScreen ? \"sticky\" : \"relative\"}`,\r\n                                    \"top\": \"35%\"\r\n                                }}\r\n                                className=\"stickyCheckout4\"\r\n                            >Cart Total ({itemCount} {itemNumberString}): ${(totalCost / 100).toFixed(2)}</p>}\r\n                        {(itemList.length > 0) &&\r\n                            <div className=\"itemCard stickyCheckout\">\r\n                                <Link to=\"/checkout\">\r\n                                    <button\r\n                                        className=\"userButton button primary\"\r\n                                        style={{\r\n                                            \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                            \"margin\": \"2em\",\r\n                                            \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                            \"max-height\": \"3em\"\r\n\r\n                                        }}\r\n                                        type=\"button\">Checkout</button>\r\n                                </Link>\r\n                                <Link to=\"/checkout\">\r\n                                    {(!expressCheckoutOn) ?\r\n                                        <span data-tooltip class=\"has-tip top\" tabindex=\"2\"\r\n                                            title={`${(!expressCheckoutOn) && \"Sign in to use Express Checkout.\"}`}>\r\n                                            <button\r\n                                                className=\"userButton button success\"\r\n                                                style={{\r\n                                                    \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                                    \"margin\": \"2em\",\r\n                                                    \"marginBottom\": `${isLargeScreen ? \"0em\" : \"2em\"}`,\r\n                                                    \"marginLeft\": \"0em\",\r\n                                                    \"marginRight\": \"0em\",\r\n                                                    \"fontSize\": \"small\",\r\n                                                    \"max-height\": \"3em\"\r\n                                                }}\r\n                                                type=\"button\" id=\"expressCheckoutTwo\"\r\n                                                disabled={!expressCheckoutOn}\r\n                                                onClick={() => {\r\n                                                    handleExpressModal();\r\n                                                    setUseExpressMode(true)\r\n                                                }}\r\n                                            >Express Checkout</button>\r\n                                        </span>\r\n                                        :\r\n                                        <button\r\n                                            className=\"userButton button success\"\r\n                                            style={{\r\n                                                \"width\": `${isLargeScreen ? \"20vw\" : \"30vw\"}`,\r\n                                                \"margin\": \"2em\",\r\n                                                \"marginBottom\": `${isLargeScreen ? \"0em\" : \"2em\"}`,\r\n                                                \"fontSize\": \"small\",\r\n                                                \"max-height\": \"3em\",\r\n                                                \"position\": `${isLargeScreen ? \"sticky\" : \"relative\"}`\r\n                                            }}\r\n                                            type=\"button\" id=\"expressCheckoutTwo\"\r\n                                            disabled={!expressCheckoutOn}\r\n                                            onClick={() => {\r\n                                                handleExpressModal();\r\n                                                setUseExpressMode(true)\r\n                                            }}\r\n                                        >Express Checkout</button>\r\n                                    }\r\n                                </Link>\r\n                            </div>}\r\n                    </div>\r\n                </Flexbox>\r\n            </div>\r\n            <br></br>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Cart</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Cart</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div >\r\n    )\r\n\r\n    // create express checkout component which uses all the saved info from before.\r\n}\r\n\r\n\r\nexport default Cart\r\n\r\n","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Flexbox from 'flexbox-react'\r\nimport { Context } from \"./Context\"\r\nimport PreloadImage from \"react-preload-image\"\r\n\r\nfunction RecentlyViewed() {\r\n\r\n    const {\r\n        previouslyViewed,\r\n        setPreviouslyViewed,\r\n        isLargeScreen,\r\n        onProductPage } = useContext(Context)\r\n\r\n    const [reversed, setReversed] = useState([])\r\n\r\n    useEffect(() => {\r\n        setReversed(previouslyViewed.reverse())\r\n    }, [previouslyViewed])\r\n\r\n    const [responsiveHeight, setResponsiveHeight] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n\r\n        let num = Number(reversed.length * 200)\r\n        let numString = num.toString()\r\n        setResponsiveHeight(`${numString}px`)\r\n\r\n    }, [reversed])\r\n\r\n\r\n    if (reversed.length > 0) {\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    \"position\": \"relative\", \"maxWidth\": \"80%\",\r\n                    \"marginRight\": \"6.5em\",\r\n                    \"right\": \"1em\",\r\n                    \"marginTop\": \"2em\",\r\n                    \"marginBottom\": \"2em\",\r\n                    \"maxHeight\": `${isLargeScreen ? \"15em\" : \"200em\"}`,\r\n                    // \"height\": `${isLargeScreen ? \"initial\" : responsiveHeight}`,\r\n                    \"zIndex\": \"89\",\r\n                    \"left\": `${isLargeScreen ? \"initial\" : \"10vw\"}`\r\n                }}\r\n                className=\"centered shadowed\">\r\n                <h4>Recently Viewed...</h4>\r\n                <Flexbox\r\n                    flexDirection={`${isLargeScreen ? \"row\" : \"column\"}`}>\r\n                    {reversed.map(item => {\r\n\r\n                        if (reversed.indexOf(item) < 10) {\r\n\r\n                            if (item[2].includes('product')) {\r\n\r\n                                if (onProductPage) {\r\n                                    return (\r\n                                        <Link\r\n                                            to={`${item[2]}`}\r\n                                            style={{\r\n                                                \"margin\": '1em',\r\n                                                \"left\": `${isLargeScreen ? \"initial\" : \"5%\"}`\r\n                                            }}>\r\n                                            <Flexbox flexDirection=\"column\">\r\n                                                <img\r\n                                                    className={`${!isLargeScreen && \"centered\"}`}\r\n                                                    width=\"100em\"\r\n                                                    height=\"auto\"\r\n                                                    src={item[1]}\r\n                                                />\r\n                                                <p>{item[0]}</p>\r\n                                            </Flexbox>\r\n                                        </Link>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                        <Link to={`/product/${item[2]}`}\r\n                                            style={{\r\n                                                \"margin\": '1em',\r\n                                                \"left\": `${isLargeScreen ? \"initial\" : \"5%\"}`\r\n                                            }}>\r\n                                            <Flexbox flexDirection=\"column\">\r\n                                                <img\r\n                                                    className={`${!isLargeScreen && \"centered\"}`}\r\n                                                    width=\"100em\"\r\n                                                    height=\"auto\"\r\n                                                    src={item[1]}\r\n                                                />\r\n                                                <p>{item[0]}</p>\r\n                                            </Flexbox>\r\n                                        </Link>\r\n                                    )\r\n                                }\r\n\r\n                            } else {\r\n                                if (onProductPage) {\r\n                                    return (\r\n                                        <Link to={`${item[2]}`} style={{\r\n                                            \"margin\": '1em',\r\n                                            \"left\": `${isLargeScreen ? \"initial\" : \"5%\"}`\r\n                                        }}>\r\n                                            <Flexbox flexDirection=\"column\">\r\n                                                <img\r\n                                                    width=\"100em\"\r\n                                                    height=\"auto\"\r\n                                                    src={item[1]}\r\n                                                />\r\n                                                <p>{item[0]}</p>\r\n                                            </Flexbox>\r\n                                        </Link>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                        <Link to={`/product/${item[2]}`} style={{\r\n                                            \"margin\": '1em',\r\n                                            \"left\": `${isLargeScreen ? \"initial\" : \"5%\"}`,\r\n                                            \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                                        }}>\r\n                                            <Flexbox flexDirection=\"column\">\r\n                                                <img\r\n                                                    style={{\r\n                                                        \"left\": `${isLargeScreen ? \"initial\" : \"5%\"}`,\r\n                                                        \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                                                    }}\r\n                                                    width=\"100em\"\r\n                                                    height=\"auto\"\r\n                                                    src={item[1]}\r\n                                                />\r\n                                                <p>{item[0]}</p>\r\n                                            </Flexbox>\r\n                                        </Link>\r\n                                    )\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    })}\r\n\r\n\r\n                </Flexbox>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div\r\n                style={{ \"display\": \"none\" }}>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default RecentlyViewed","import React, { useContext, useState, useEffect } from \"react\"\r\nimport Foundation, { Menu } from \"react-foundation\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\n\r\nfunction Header() {\r\n\r\n    const {\r\n        accountTitleString,\r\n        userInfo,\r\n        itemList,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    window.onscroll = function () { scrollSet() };\r\n\r\n    function scrollSet() {\r\n        var winScroll = document.body.scrollTop || document.documentElement.scrollTop;\r\n        var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\r\n        var scrolled = (winScroll / height) * 100;\r\n        document.getElementById(\"progressBar\").value = scrolled;\r\n    }\r\n\r\n\r\n\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n    // get cart item number icon url:\r\n\r\n    const [urlString, setUrlString] = useState(\"\")\r\n\r\n    const [listShow, setListShow] = useState(\"hidden\")\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        if (!firebase.auth().currentUser && (itemList.length == 0)) {\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-0.svg?alt=media&token=349f4672-ab05-4512-bf25-6a11cc359ff3\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 0) {\r\n            // storageRef.child(\"cart-no-0.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-0.svg?alt=media&token=349f4672-ab05-4512-bf25-6a11cc359ff3\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 1) {\r\n            // storageRef.child(\"cart-no-1.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let img = document.getElementById('headerCartIcon');\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-1.svg?alt=media&token=8e7705fa-f341-4faa-aa93-ee5aab9b93be\"\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 2) {\r\n            // storageRef.child(\"cart-no-2.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-2.svg?alt=media&token=125e4744-73ad-4c5a-ad3b-4dd722b45660\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 3) {\r\n            // storageRef.child(\"cart-no-3.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-3.svg?alt=media&token=bf0d8caa-794d-4a01-bb04-766e6ed4ce4b\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 4) {\r\n            // storageRef.child(\"cart-no-4.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-4.svg?alt=media&token=b501c8b9-58d7-4a65-acc8-7840ae4d70c2\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 5) {\r\n            // storageRef.child(\"cart-no-5.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-5.svg?alt=media&token=a58819db-3949-45f9-883e-ed58c49909eb\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 6) {\r\n            // storageRef.child(\"cart-no-6.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-6.svg?alt=media&token=07d2df3e-a1eb-41ce-bed0-48fd53f2702a\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 7) {\r\n            // storageRef.child(\"cart-no-7.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-7.svg?alt=media&token=2a0eaf81-d66c-4b6a-9c84-a7557b5bf8a7\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 8) {\r\n            // storageRef.child(\"cart-no-8.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-8.svg?alt=media&token=c3ffa2a2-9a93-4cee-abb4-bfcace36b9c9\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 9) {\r\n            // storageRef.child(\"cart-no-9.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-9.svg?alt=media&token=2233e015-be3b-40bb-8e95-f1e1d67b8d2d\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 10) {\r\n            // storageRef.child(\"cart-no-10.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-10.svg?alt=media&token=28683a46-fc3a-4203-ab37-b3cfe7b9f4fe\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 11) {\r\n            // storageRef.child(\"cart-no-11.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-11.svg?alt=media&token=0a058425-e317-4205-bdca-6850f882bddd\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 12) {\r\n            // storageRef.child(\"cart-no-12.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-12.svg?alt=media&token=693a69bb-661f-4f79-be65-20e790bd594d\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length == 13) {\r\n            // storageRef.child(\"cart-no-13.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-13.svg?alt=media&token=a1833ae8-9b07-46d8-a158-66979419cae0\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n\r\n        } else if (itemList.length > 13) {\r\n\r\n            // storageRef.child(\"cart-smiley-2.svg\").getDownloadURL().then(function (url) {\r\n            // })\r\n            let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-smiley-2.svg?alt=media&token=c7a10c41-e1c3-4d3b-a1f5-53412023754e\"\r\n            let img = document.getElementById('headerCartIcon');\r\n            // console.log(url)\r\n            // img.src = url;\r\n            setUrlString(url)\r\n        }\r\n\r\n    }, [itemList, userInfo])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* <div style={{\r\n                \"position\": \"sticky\",\r\n                \"top\": \"0\"\r\n            }} className=\"top-bar\" id=\"example-menu\">\r\n                <div className=\"top-bar-left\" style={{\r\n                    \"position\": \"sticky\",\r\n                    \"top\": \"0\"\r\n                }}>\r\n\r\n                </div>\r\n                <div className=\"top-bar-right\">\r\n                    {/* <ul className=\"menu\">\r\n                        <li><input type=\"search\" placeholder=\"Search\"></input></li>\r\n                        <li><button type=\"button\" className=\"button\">Search</button></li>\r\n                    </ul> */}\r\n            {/* </div>\r\n            </div>  */}\r\n\r\n            <div >\r\n\r\n                {/* <Link to=\"/\"> */}\r\n                <div className=\"Header\" style={{\r\n                    \"maxWidth\": \"100vw\",\r\n                    // \"maxHeight\": \"5em\",\r\n                }}>\r\n\r\n                    {!isLargeScreen &&\r\n                        <span style={{\r\n                            \"left\": \"-3.25em\",\r\n                            \"position\": \"relative\"\r\n                        }}>\r\n                            <Link to=\"/\">\r\n                                <Flexbox\r\n                                    flexDirection=\"row\"\r\n                                    style={{\r\n                                        \"color\": \"white\",\r\n                                        \"left\": \"15vw\",\r\n                                        \"position\": \"relative\"\r\n                                    }}>\r\n\r\n                                    <h1>Jiva's</h1>\r\n                                    <img\r\n                                        style={{\r\n                                            \"bottom\": \"1.5em\",\r\n                                            // \"left\": \"-1em\",\r\n                                            \"zIndex\": \"99\",\r\n                                            \"position\": \"relative\",\r\n                                            // \"left\": \"-15em\",\r\n                                            // \"left\": \"-10vw\",\r\n                                            \"maxWidth\": `${isLargeScreen ? \"100vw\" : \"300vw\"}`\r\n                                        }}\r\n                                        width=\"125vw\"\r\n                                        height=\"auto\"\r\n                                        src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\r\n\r\n                                    <h1>Originals</h1>\r\n                                </Flexbox>\r\n                            </Link>\r\n                        </span>\r\n                    }\r\n                    <div className=\"HeaderText\">\r\n                        <span\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"display\": \"inline\",\r\n                                \"position\": \"relative\",\r\n                                \"top\": `${!isLargeScreen ? \"4em\" : \"1em\"}`,\r\n                                \"right\": `${!isLargeScreen ? \"5vw\" : \"0vw\"}`\r\n                            }}>\r\n                            {/* <img\r\n                                    width=\"100vw\"\r\n                                    height=\"auto\"\r\n                                    top=\"-13em\"\r\n                                    bottom=\"0.1em\"\r\n                                    style={{\r\n                                        \"z-index\": \"94\",\r\n                                        \"display\": \"inline\"\r\n                                    }}\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/rose%20inverted.svg?alt=media&token=daff6229-bb2e-4844-aca8-213f9c3319f7\" /> */}\r\n\r\n                            <h3 style={{\r\n                                \"text-decoration\": \"none\",\r\n                                \"display\": \"inline\",\r\n                                \"top\": \"2em\",\r\n                                \"fontSize\": `${isLargeScreen ? \"xx-large\" : \"small\"}`\r\n                            }}><Link\r\n                                to=\"/\"\r\n                                style={{\r\n                                    \"text-decoration\": \"none\",\r\n                                    \"color\": \"white\"\r\n                                }}>Black Lives Matter.</Link><a href=\"https://support.eji.org/give/153413/#!/donation/checkout\"\r\n                                > Support the Equal Justice Initiative.</a>\r\n                            </h3>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                {/* </Link> */}\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Header","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport * as firebaseui from \"firebaseui\"\r\nimport { Context } from \"./Context\"\r\n\r\n\r\nfunction CartSignIn() {\r\n    const [providerId, setProviderId] = useState(\"\")\r\n    const [uid, setUid] = useState(\"\")\r\n    const [displayName, setDisplayName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [photoURL, setPhotoURL] = useState(\"\")\r\n\r\n    function handleReload() {\r\n        window.location.reload()\r\n    }\r\n\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"cartSignIn\")\r\n    }, [])\r\n\r\n    // useEffect(() => setUserInfo({\r\n    //     ...userInfo,\r\n    //     userName: displayName,\r\n    //     userMail: userEmail,\r\n    //     userPhotoUrl: photoURL\r\n    // })\r\n    //     , [photoURL])\r\n\r\n    firebase.auth().onAuthStateChanged(function (user) {\r\n        if (user) {\r\n            // User is signed in.\r\n            user.providerData.forEach(function (profile) {\r\n                setProviderId(profile.providerId);\r\n                setUid(profile.uid);\r\n                setDisplayName(profile.displayName);\r\n                setUserEmail(profile.email);\r\n                setPhotoURL(profile.photoURL);\r\n            })\r\n\r\n\r\n\r\n        } else {\r\n            // No user is signed in\r\n            console.log(\"No user signed in.\")\r\n        }\r\n    });\r\n\r\n    function handleSignOut() {\r\n        firebase.auth().signOut().then(function () {\r\n            // Sign-out successful.\r\n        }).catch(function (error) {\r\n            // An error happened.\r\n        });\r\n        window.location.reload()\r\n    }\r\n\r\n\r\n    // if (ui.isPendingRedirect()) {\r\n    //     ui.start('#firebaseui-auth-container', uiConfig);\r\n    // }\r\n\r\n    // ui.start('#firebaseui-auth-container', uiConfig);\r\n    // this version now attempts to use the firebase-UI. Let's see if it works.\r\n\r\n    if (!firebase.auth().currentUser) {\r\n\r\n        var data = null;\r\n        var anonymousUser = firebase.auth().currentUser\r\n        var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\n        ui.start('#firebaseui-auth-container', {\r\n            autoUpgradeAnonymousUsers: true,\r\n            signInFlow: 'popup',\r\n            signInSuccessUrl: 'https://jiva-website-405ed.firebaseapp.com/sign-in-success',\r\n            signInOptions: [\r\n                firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n                firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n                firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n            ],\r\n            callbacks: {\r\n                // signInFailure callback must be provided to handle merge conflicts which\r\n                // occur when an existing credential is linked to an anonymous user.\r\n                signInFailure: function (error) {\r\n                    // For merge conflicts, the error.code will be\r\n                    // 'firebaseui/anonymous-upgrade-merge-conflict'.\r\n                    if (error.code != 'firebaseui/anonymous-upgrade-merge-conflict') {\r\n                        return Promise.resolve();\r\n                    }\r\n                    // The credential the user tried to sign in with.\r\n                    var cred = error.credential;\r\n                    // Copy data from anonymous user to permanent user and delete anonymous\r\n                    // user.\r\n                    // ...\r\n                    // Finish sign-in after data is copied.\r\n                    return firebase.auth().signInWithCredential(cred);\r\n                }\r\n            }\r\n            // Other config options...\r\n        });\r\n        // <Link to='/sign-in-with-email-v2' onClick={() => handleReload()}>Sign In With Email</Link>\r\n        return (\r\n\r\n            <div>\r\n                <h1>Sign In to Proceed to Checkout!</h1>\r\n                <h2>Choose a sign-in method below:</h2>\r\n                <div id=\"firebaseui-auth-container\"></div>\r\n                <h4>By signing up, you agree to our <Link to=\"/privacy-policy\">Privacy Policy</Link> and our <Link to=\"/terms-of-service\">Terms of Service</Link></h4>\r\n            </div>\r\n        )\r\n    } else if (firebase.auth().currentUser) {\r\n        return (\r\n            <div>\r\n                <h1>Account Page!</h1>\r\n                <h2>You are signed in as:</h2>\r\n                <h2>{providerId + \" \" +\r\n                    uid + \" \" +\r\n                    displayName + \" \" +\r\n                    userEmail}</h2>\r\n                <img className=\"accountPhoto\" src={photoURL} />\r\n                <Link to=\"/checkout\"><button>Proceed to Checkout</button></Link>\r\n                <button type=\"button\" onClick={() => handleSignOut()}>Sign Out</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CartSignIn","import React, { useContext, useEffect } from \"react\"\r\nimport { Context } from \"./Context\"\r\n\r\nfunction About() {\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"about\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n\r\n\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h1>About Page!</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\nimport firebase from \"firebase\"\r\n\r\nfunction Contact() {\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        setOnProductPage(false)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n    }, [])\r\n\r\n    const [messageSent, setMessageSent] = useState(false)\r\n\r\n    function handleSendMessage() {\r\n        let messageText = document.getElementById('contactNote').value\r\n        let email = document.getElementById('contactEmail').value\r\n        let name = document.getElementById('contactName').value\r\n\r\n        firebase.functions().httpsCallable('contactUsEmail')({ messageText, email, name })\r\n\r\n        setMessageSent(true)\r\n    }\r\n\r\n    const [messagePresent, setMessagePresent] = useState(false)\r\n\r\n    function handleMessagePresent() {\r\n        if ((document.getElementById(\"contactNote\").length > 0)) {\r\n            setMessagePresent(true)\r\n        } else {\r\n            setMessagePresent(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/contact\">Contact</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Contact Us</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <h1>Contact Us</h1>\r\n            <div className=\"centered\"\r\n                style={{\r\n                    \"max-width\": \"50%\",\r\n                    // \"background-color\": \"black\",\r\n                    // \"box-shadow\": \"0px 0px 5px white\",\r\n                }}\r\n            >\r\n                {!messageSent ?\r\n                    <div>\r\n                        <input id=\"contactName\" type=\"text\" placeholder=\"Name\" maxlength=\"30\"></input>\r\n                        <input id=\"contactEmail\" type=\"text\" placeholder=\"Email\" maxlength=\"40\"></input>\r\n                        <textarea\r\n                            id=\"contactNote\"\r\n                            width=\"50vw\"\r\n                            rows=\"4\"\r\n                            cols=\"50\"\r\n                            maxlength=\"300\"\r\n                            placeholder=\"Message\"\r\n                            onKeyUp={() => { handleMessagePresent() }}></textarea>\r\n                        <button\r\n                            disabled={messagePresent}\r\n                            class=\"button primary\"\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                handleSendMessage()\r\n                            }}>Send Message</button>\r\n                    </div>\r\n                    :\r\n                    <h4>Your message has been sent. You can expect to hear back from us within 3 business days.\r\n                    We look forward to getting in touch with you.</h4>\r\n\r\n                }\r\n                <br></br>\r\n                {/* <h4\r\n                    style={{\r\n                        \"background-color\": \"#565759\",\r\n                        \"padding\": \".25em\",\r\n                        \"border-radius\": \"13px\",\r\n                        \"width\": `${isLargeScreen ? \"50%\" : \"90%\"}`,\r\n                        \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                        \"whiteSpace\": \"nowrap\",\r\n                        \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                    }}\r\n                >Customer Service Email: jfalconmusik@gmail.com</h4> */}\r\n            </div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/contact\">Contact</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Contact Us</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Contact","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport magnificent from \"magnificent\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport PreloadImage from 'react-preload-image'\r\nimport Preload from \"react-preload\"\r\n// import { Lines } from \"react-preloaders\"\r\n\r\n\r\n\r\n\r\n\r\nfunction AllProducts() {\r\n\r\n\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        activateAddToWishlistModal,\r\n        productOnPageCount,\r\n        setProductOnPageCount,\r\n        activateRemoveFromWishlistModal,\r\n        loaderOn,\r\n        setLoaderOn,\r\n        loadedCount,\r\n        setLoadedCount,\r\n        setTermsDisplay,\r\n        isLargeScreen\r\n\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setProductOnPageCount(0)\r\n    }, [])\r\n\r\n    function handleProductComponent(item) {\r\n        console.log(productPageComponent)\r\n        setProductPageComponent(item);\r\n        console.log(productPageComponent)\r\n    }\r\n\r\n\r\n\r\n    function getElementPositioning(elementId) {\r\n        let rects = document.getElementById(elementId)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //////////////////////////////////////////////////////////////////////\r\n    /////////////\r\n    //////////\r\n\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20transparent.svg?alt=media&token=812d1dc3-3a82-4527-8551-63d3941fc5c4\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n    function Loader() {\r\n\r\n        let i = 1;\r\n        let j = 1;\r\n        let k = 1;\r\n\r\n        for (j = 1; j < allProducts.length; j = (j + 4)) {\r\n\r\n            let f = allProducts.length\r\n\r\n            function Column() {\r\n                for (k = k; k < (allProducts.length); (((k - 1) % 4 !== 0) && k++)) {\r\n\r\n                    return (\r\n                        <Flexbox flexDirection=\"column\">\r\n                            <Facebook id={`loader${k}`} style={{\r\n                                \"visibility\": \"visible\"\r\n                            }} />\r\n                        </Flexbox>\r\n                    )\r\n                }\r\n\r\n                let k = (k + 1)\r\n            }\r\n\r\n            return (<div>\r\n                <Flexbox flexDirection=\"row\">\r\n                    <Column />\r\n                </Flexbox>\r\n            </div>)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //  <Loader style={{\r\n    //                 \"visibility\": `${(loaderOn) ? \"visible\" : \"none\"}`,\r\n    //                 \"position\": \"absolute\"\r\n    //             }} />\r\n\r\n    //             // \r\n\r\n    return (\r\n        allProducts.map(item => {\r\n            let refString = item[1].toString()\r\n            // console.log(allProducts)\r\n            console.log(item)\r\n            console.log(item[0])\r\n            console.log(refString)\r\n            console.log(item[12])\r\n\r\n\r\n            let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n            let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n\r\n            let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n\r\n\r\n\r\n            let modalItem = [item[0], [], (Number((item[12] || item[2])) * 100), [], [], item[1]]\r\n\r\n            let numberInCart = itemList.filter(i => i[0] == item[0])\r\n            let numInCart = numberInCart.length\r\n\r\n            let bestseller = item[11]\r\n            console.log(numInCart)\r\n\r\n            let posArray = []\r\n            let emptyString = \"\"\r\n\r\n            let sale = item[12]\r\n\r\n            return (\r\n                <div className=\"column shadowed\"\r\n                    onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                    onMouseOut={() => { handleHideHeart(`${item[0]}`) }}>\r\n\r\n\r\n\r\n                    {bestseller ?\r\n                        <div\r\n                        // className=\"bestsellerItemDiv\" style={{ \"z-index\": \"90\" }}\r\n                        >\r\n\r\n                            <div className=\"productCard\" style={{\r\n                                // \"bottom\": \"4.25em\",\r\n                                \"overflow\": \"hidden\",\r\n                                \"z-index\": \"90\"\r\n                            }}>\r\n                                <div class=\"img-responsive\">\r\n                                    <div className=\"allProducts\" id={`allProducts${item[0].toUpperCase()}`}>\r\n\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n                                        <div id={`contentLoader${allProducts.indexOf(item)}`}>\r\n                                            <ContentLoader\r\n                                                backgroundColor=\"white\"\r\n                                                animate={false}\r\n                                                style={{\r\n                                                    // \"background-Color\": \"#565759\",\r\n\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                    \"height\": \"400px\"\r\n                                                }}\r\n                                                onLoad={() => {\r\n                                                    document.getElementById(`spinner${item[0]}`).style.visibility = \"visible\"\r\n                                                    document.getElementById(`spinner${item[0]}`).setAttribute(\"visibility\", \"visible\")\r\n                                                }\r\n                                                }\r\n                                            >\r\n                                                <rect style={{\r\n                                                    \"background-Color\": \"white\",\r\n                                                    \"zIndex\": \"85\",\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                                <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                                <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                            </ContentLoader>\r\n                                            <div id={`spinner${item[0]}`}\r\n                                                style={{\r\n                                                    \"position\": \"relative\",\r\n                                                    \"top\": \"-300px\", \"zIndex\": \"86\", \"visibility\": \"none\"\r\n                                                }}\r\n                                                className=\"loader centered\" id={`spinner${allProducts.indexOf(item)}`}>\r\n                                            </div>\r\n                                        </div>\r\n                                        <span class=\"label warning\" style={{\r\n                                            \"color\": \"white\",\r\n                                            \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                            \"left\": `${(posArray[1]) ? posArray[1] : emptyString}`,\r\n                                            \"position\": \"absolute\"\r\n                                        }}>Bestseller</span>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            {/* <h2 className=\"bestseller\">Bestseller</h2> */}\r\n                                            <img\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                id={`${item[0]}`}\r\n                                                width=\"100%\"\r\n                                                style={{}}\r\n                                                height=\"auto\"\r\n                                                onLoad={() => {\r\n\r\n\r\n\r\n\r\n                                                    // when the product image loads, its coordinates are used\r\n                                                    // to position a bunch of other components.\r\n                                                    // setLoadedCount(loadedCount + 1);\r\n                                                    // document.getElementById(`loader${(allProducts.indexOf(item)) + 1}`).style.visibility = \"hidden\";\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${allProducts.indexOf(item)}`)\r\n                                                        .style.display = \"none\"\r\n\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${allProducts.indexOf(item)}`)\r\n                                                        .setAttribute(\"display\", \"none\")\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n\r\n                                                    // document.getElementById(\"contentLoader1\").style.display = \"none\";\r\n                                                }}\r\n                                                src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                {(!sale) ?\r\n                                                    <p className=\"column\">${item[2]}.00</p>\r\n                                                    :\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        style={{ \"position\": \"relative\" }}>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"color\": \"#565759\",\r\n                                                                \"opacity\": \"0.9\"\r\n                                                            }}>\r\n                                                            <del>${item[2]}.00</del>\r\n                                                        </p>\r\n                                                        <p\r\n\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"left\": \"2vw\",\r\n                                                                \"position\": \"relative\"\r\n                                                            }}\r\n                                                        >SALE: ${item[12]}.00</p>\r\n                                                    </Flexbox>\r\n                                                }\r\n                                                {(numInCart >= 1) &&\r\n                                                    <p style={{\r\n                                                        \"background-color\": \"#565759\",\r\n                                                        // \"padding-left\": \".25em\",\r\n                                                        // \"padding-right\": \".25em\",\r\n                                                        // \"padding-top\": \".25em\",\r\n                                                        \"border-radius\": \"10px\",\r\n                                                        // \"bottom\": \"1em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"marginLeft\": \".5em\",\r\n                                                        \"left\": \"2vw\",\r\n                                                        // \"margin-left\": \"1em\"\r\n                                                        \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                        \"whiteSpace\": \"nowrap\"\r\n                                                    }}>{numInCart} in cart</p>}\r\n                                            </Flexbox>\r\n                                        </div>\r\n                                        <p style={{\r\n                                            \"background-color\": \"#565759\",\r\n                                            \"border-radius\": \"10px\",\r\n                                        }}>{`${item[3]}`}</p>\r\n                                        {/* <p><button\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            type=\"button\"\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n\r\n\r\n                            <div className=\"productCard\">\r\n                                <div class=\"img-responsive\">\r\n                                    {/* <div\r\n                                        style={{ \"position\": \"relative\" }}\r\n                                        className=\"loader centered\" id={`spinner${allProducts.indexOf(item)}`}></div> */}\r\n\r\n                                    <div className=\"allProducts\" id={`allProducts${item[0].toUpperCase()}`}>\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n                                        <div id={`contentLoader${allProducts.indexOf(item)}`}>\r\n                                            <ContentLoader\r\n                                                animate={false}\r\n                                                backgroundColor=\"white\"\r\n                                                style={{\r\n                                                    \"background-Color\": \"white\",\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                    \"height\": \"500px\"\r\n                                                }}\r\n                                                onLoad={() => {\r\n                                                    // document.getElementById(`spinner${allProducts.indexOf(item)}`).style.display = \"none\"\r\n                                                    // document.getElementById(`spinner${allProducts.indexOf(item)}`).setAttribute(\"display\", \"none\")\r\n                                                }\r\n                                                }\r\n                                            >\r\n                                                <rect style={{\r\n                                                    // \"background-Color\": \"#565759\",\r\n                                                    \"zIndex\": \"85\",\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"700\" />\r\n\r\n                                                <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                                <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                            </ContentLoader>\r\n                                            <div\r\n                                                style={{ \"position\": \"relative\", \"top\": \"-300px\", \"zIndex\": \"86\" }}\r\n                                                className=\"loader centered\" id={`spinner${allProducts.indexOf(item)}`}>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <img\r\n\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                onLoad={() => {\r\n\r\n\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n                                                    document.getElementById(`contentLoader${allProducts.indexOf(item)}`).style.display = \"none\"\r\n                                                    document.getElementById(`contentLoader${allProducts.indexOf(item)}`).setAttribute(\"display\", \"none\")\r\n                                                }}\r\n                                                // onLoad={() => { document.getElementById(\"contentLoader2\").style.display = \"none\"; }}\r\n                                                id={`${item[0]}`} width=\"100%\" height=\"auto\" src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                {(!sale) ?\r\n                                                    <p className=\"column\">${item[2]}.00</p>\r\n                                                    :\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        style={{ \"position\": \"relative\" }}>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"color\": \"#565759\",\r\n                                                                \"opacity\": \"0.9\"\r\n                                                            }}>\r\n                                                            <del>${item[2]}.00</del>\r\n                                                        </p>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"left\": \"2vw\",\r\n                                                                \"position\": \"relative\"\r\n                                                            }}\r\n                                                        >SALE: ${item[12]}.00</p>\r\n                                                    </Flexbox>\r\n                                                }\r\n                                                {(numInCart >= 1) &&\r\n                                                    <p style={{\r\n                                                        \"background-color\": \"#565759\",\r\n                                                        // \"padding-left\": \".25em\",\r\n                                                        // \"padding-right\": \".25em\",\r\n                                                        // \"padding-top\": \".25em\",\r\n                                                        \"border-radius\": \"10px\",\r\n                                                        // \"bottom\": \"1em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"marginLeft\": \".5em\",\r\n                                                        \"left\": \"2vw\",\r\n\r\n                                                        \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                        \"whiteSpace\": \"nowrap\"\r\n                                                        // \"margin-left\": \"1em\"\r\n                                                    }}>{numInCart} in cart</p>}\r\n                                            </Flexbox>\r\n                                        </div>\r\n\r\n                                        <p\r\n                                            style={{\r\n                                                \"background-color\": \"#565759\",\r\n                                                \"border-radius\": \"10px\",\r\n                                            }}>{`${item[3]}`}</p>\r\n                                        {/* <p><button\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            type=\"button\"\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div >\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\nexport default AllProducts","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport magnificent from \"magnificent\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport PreloadImage from 'react-preload-image'\r\n// import { Lines } from \"react-preloaders\"\r\n\r\n\r\nfunction FullSets() {\r\n\r\n\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        fullSetCategory,\r\n        activateAddToWishlistModal,\r\n        productOnPageCount,\r\n        setProductOnPageCount,\r\n        setOnCheckout,\r\n        setCategorySearch,\r\n        displayNumber,\r\n        setTermsDisplay,\r\n        allNumber,\r\n        itemString,\r\n        activateRemoveFromWishlistModal,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setProductOnPageCount(0)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        setOnCheckout(false)\r\n        setCategorySearch(\"fullSet\")\r\n\r\n        // document.getElementById('smallSearch').style.display = \"inline-block\"\r\n        // document.getElementById('largeSearch').style.display = \"initial\"\r\n    }, [])\r\n\r\n\r\n\r\n    function handleProductComponent(item) {\r\n        console.log(productPageComponent)\r\n        setProductPageComponent(item);\r\n        console.log(productPageComponent)\r\n    }\r\n\r\n    // const [fullSetsNumber, setFullSetsNumber] = useState(0)\r\n    // const [displayNumber, setDisplayNumber] = useState(false)\r\n\r\n    // const [itemString, setItemString] = useState(\"\")\r\n\r\n\r\n    // function handleSearchFullSets() {\r\n    //     let input = document.getElementById(\"fullSetSearch\").value\r\n    //     console.log(input)\r\n    //     let filt1 = input.toUpperCase()\r\n    //     let filter = filt1.split(\" \").join(\"\")\r\n    //     let fullSets = document.getElementsByClassName(\"fullSets\")\r\n    //     let filtArr = filt1.split(\" \")\r\n    //     let filtSplit1 = filtArr[0]\r\n\r\n    //     let filtSplit2Arr = []\r\n    //     if (filtArr.length > 1) {\r\n    //         let filtSplit2 = filtArr[1]\r\n    //         filtSplit2Arr.push(filtSplit2)\r\n    //     }\r\n    //     console.log(fullSets)\r\n    //     console.log(fullSets.length)\r\n    //     console.log(fullSets[0])\r\n    //     console.log(fullSets[0].id)\r\n\r\n    //     let fullSetsArray = Array.prototype.slice.call(fullSets, 0, fullSets.length + 1)\r\n    //     console.log(fullSetsArray)\r\n    //     console.log(fullSetsArray.length)\r\n\r\n    //     let newArr = []\r\n\r\n    //     fullSetsArray.forEach(fullSet => {\r\n    //         console.log(fullSet)\r\n    //         console.log(newArr)\r\n    //         let fullSetID = fullSet.id\r\n    //         console.log(fullSetID)\r\n\r\n    //         if (fullSetID.includes(filter)\r\n    //             || fullSetID.includes(filt1)\r\n    //             || fullSetID.includes(filtSplit1)\r\n    //             || ((fullSetID.includes(filtSplit2Arr[0]) &&\r\n    //                 (fullSetID.includes(filtSplit1))\r\n    //             ))\r\n    //         ) {\r\n    //             document.getElementById(fullSetID).style.display = \"initial\"\r\n    //             document.getElementById(fullSetID).setAttribute(\"display\", \"initial\")\r\n    //             newArr.push(fullSetID)\r\n    //             console.log(newArr)\r\n    //         } else {\r\n    //             document.getElementById(fullSetID).style.display = \"none\"\r\n    //             document.getElementById(fullSetID).setAttribute(\"display\", \"none\")\r\n    //             console.log(newArr)\r\n    //         }\r\n    //     })\r\n\r\n    //     // let i\r\n    //     // for (i = 0; i < fullSetsArray.length; i++) {\r\n    //     //     return (function handleIterate() {\r\n\r\n    //     // console.log(i)\r\n    //     // let fullSet = fullSetsArray[i]\r\n    //     // console.log(fullSet)\r\n    //     // })()\r\n    //     // }\r\n\r\n    //     let searchQuant = newArr.length\r\n    //     setFullSetsNumber(searchQuant)\r\n    //     console.log(searchQuant)\r\n    //     console.log(newArr)\r\n\r\n    //     if (input.length > 0) {\r\n    //         setDisplayNumber(true)\r\n    //     } else {\r\n    //         setDisplayNumber(false)\r\n    //     }\r\n\r\n    //     if (newArr.length == 1) {\r\n    //         setItemString(\"item matches your search\")\r\n    //     } else {\r\n    //         setItemString(\"items match your search\")\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n    const [sets, setSets] = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n\r\n\r\n        const setNames = fullSetCategory.map(item => {\r\n            return item[0]\r\n        })\r\n        setSets(setNames)\r\n    }, [fullSetCategory])\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // <   AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    function autocomplete(inp, arr) {\r\n        /*the autocomplete function takes two arguments,\r\n        the text field element and an array of possible autocompleted values:*/\r\n        var currentFocus;\r\n        /*execute a function when someone writes in the text field:*/\r\n        inp.addEventListener(\"input\", function (e) {\r\n            var a, b, i, val = this.value;\r\n            /*close any already open lists of autocompleted values*/\r\n            closeAllLists();\r\n            if (!val) { return false; }\r\n            currentFocus = -1;\r\n            /*create a DIV element that will contain the items (values):*/\r\n            a = document.createElement(\"DIV\");\r\n            a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n            a.setAttribute(\"class\", \"autocomplete-items\");\r\n            /*append the DIV element as a child of the autocomplete container:*/\r\n            this.parentNode.appendChild(a);\r\n            /*for each item in the array...*/\r\n            for (i = 0; i < arr.length; i++) {\r\n                /*check if the item starts with the same letters as the text field value:*/\r\n                if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                    /*create a DIV element for each matching element:*/\r\n                    b = document.createElement(\"DIV\");\r\n                    /*make the matching letters bold:*/\r\n                    b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                    b.innerHTML += arr[i].substr(val.length);\r\n                    /*insert a input field that will hold the current array item's value:*/\r\n                    b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                    /*execute a function when someone clicks on the item value (DIV element):*/\r\n                    b.addEventListener(\"click\", function (e) {\r\n                        /*insert the value for the autocomplete text field:*/\r\n                        inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n                        /*close the list of autocompleted values,\r\n                        (or any other open lists of autocompleted values:*/\r\n                        closeAllLists();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        });\r\n        /*execute a function presses a key on the keyboard:*/\r\n        inp.addEventListener(\"keydown\", function (e) {\r\n            var x = document.getElementById(this.id + \"autocomplete-list\");\r\n            if (x) x = x.getElementsByTagName(\"div\");\r\n            if (e.keyCode == 40) {\r\n                /*If the arrow DOWN key is pressed,\r\n                increase the currentFocus variable:*/\r\n                currentFocus++;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 38) { //up\r\n                /*If the arrow UP key is pressed,\r\n                decrease the currentFocus variable:*/\r\n                currentFocus--;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 13) {\r\n                /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n                e.preventDefault();\r\n                if (currentFocus > -1) {\r\n                    /*and simulate a click on the \"active\" item:*/\r\n                    if (x) x[currentFocus].click();\r\n                }\r\n            }\r\n        });\r\n        function addActive(x) {\r\n            /*a function to classify an item as \"active\":*/\r\n            if (!x) return false;\r\n            /*start by removing the \"active\" class on all items:*/\r\n            removeActive(x);\r\n            if (currentFocus >= x.length) currentFocus = 0;\r\n            if (currentFocus < 0) currentFocus = (x.length - 1);\r\n            /*add class \"autocomplete-active\":*/\r\n            x[currentFocus].classList.add(\"autocomplete-active\");\r\n        }\r\n        function removeActive(x) {\r\n            /*a function to remove the \"active\" class from all autocomplete items:*/\r\n            for (var i = 0; i < x.length; i++) {\r\n                x[i].classList.remove(\"autocomplete-active\");\r\n            }\r\n        }\r\n        function closeAllLists(elmnt) {\r\n            /*close all autocomplete lists in the document,\r\n            except the one passed as an argument:*/\r\n            var x = document.getElementsByClassName(\"autocomplete-items\");\r\n            for (var i = 0; i < x.length; i++) {\r\n                if (elmnt != x[i] && elmnt != inp) {\r\n                    x[i].parentNode.removeChild(x[i]);\r\n                }\r\n            }\r\n        }\r\n        /*execute a function when someone clicks in the document:*/\r\n        document.addEventListener(\"click\", function (e) {\r\n            closeAllLists(e.target);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n\r\n    /////////////  added\r\n    /////////    code\r\n    //////  section\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20transparent.svg?alt=media&token=812d1dc3-3a82-4527-8551-63d3941fc5c4\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 100)\r\n\r\n        setOnProductPage(false)\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/full-sets\">Sets</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Sets</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed\" style={{\r\n                // \"background-color\": \"black\",\r\n                // \"box-shadow\": \"0px 0px 5px white\",\r\n            }}>\r\n                <h2>Sets</h2>\r\n                <br></br>\r\n                {displayNumber &&\r\n                    <p\r\n                        style={{\r\n                            \"background-color\": \"#565759\",\r\n                            \"padding\": \".25em\",\r\n                            \"border-radius\": \"13px\",\r\n                            \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                            \"zIndex\": \"86\",\r\n                            \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                            \"position\": \"relative\",\r\n                            \"whiteSpace\": \"nowrap\"\r\n                        }}>{(allNumber > 0) && allNumber} {itemString}</p>}\r\n                {fullSetCategory.map(item => {\r\n                    let refString = item[1].toString()\r\n                    // console.log(allProducts)\r\n                    console.log(fullSetCategory)\r\n                    console.log(item)\r\n                    console.log(item[0])\r\n                    console.log(refString)\r\n\r\n                    // storageRef.child(refString).getDownloadURL().then(function (url) {\r\n                    //     return item.push(url)\r\n                    // })\r\n                    // make sure to always reference this with the last element in the array.\r\n                    // currently it will be 5\r\n\r\n                    let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n                    let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n\r\n                    let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n\r\n\r\n                    let numberInCart = itemList.filter(i => i[0] == item[0])\r\n                    let numInCart = numberInCart.length\r\n                    let bestseller = item[11]\r\n\r\n\r\n                    let posArray = []\r\n                    let emptyString = \"\"\r\n\r\n                    let sale = item[12]\r\n\r\n\r\n                    return (\r\n                        <div className=\"column shadowed\">\r\n                            <div className=\"productCard\">\r\n                                <div class=\"img-responsive\">\r\n                                    <div id={`contentLoader${sets.indexOf(item[0])}`}>\r\n                                        <ContentLoader\r\n                                            backgroundColor=\"white\"\r\n                                            animate={false}\r\n                                            style={{\r\n                                                // \"background-Color\": \"#565759\",\r\n\r\n                                                \"borderRadius\": \"25px\",\r\n                                                \"height\": \"500px\"\r\n                                            }}\r\n                                            onLoad={() => {\r\n                                                document.getElementById(`spinner${item[0]}`).style.visibility = \"visible\"\r\n                                                document.getElementById(`spinner${item[0]}`).setAttribute(\"visibility\", \"visible\")\r\n                                            }\r\n                                            }\r\n                                        >\r\n                                            <rect style={{\r\n                                                \"background-Color\": \"white\",\r\n                                                \"zIndex\": \"85\",\r\n                                                \"borderRadius\": \"25px\",\r\n                                            }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                            <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                            <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                        </ContentLoader>\r\n                                        <div id={`spinner${item[0]}`}\r\n                                            style={{\r\n                                                \"position\": \"relative\",\r\n                                                \"top\": \"-300px\", \"zIndex\": \"86\", \"visibility\": \"none\"\r\n                                            }}\r\n                                            className=\"loader centered\">\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div\r\n                                        onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                                        onMouseOut={() => { handleHideHeart(`${item[0]}`) }}\r\n                                        className=\"fullSets\"\r\n                                        id={`fullSets${item[0].toUpperCase()}`}>\r\n                                        {bestseller &&\r\n                                            <span class=\"label warning\" style={{\r\n                                                \"color\": \"white\",\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"left\": `${(posArray[1]) ? posArray[1] : emptyString}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}>Bestseller</span>}\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <img\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                id={`${item[0]}`}\r\n                                                width=\"100%\"\r\n                                                height=\"auto\"\r\n                                                onLoad={() => {\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${sets.indexOf(item[0])}`)\r\n                                                        .style.display = \"none\"\r\n\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${sets.indexOf(item[0])}`)\r\n                                                        .setAttribute(\"display\", \"none\")\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n                                                }}\r\n                                                src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n\r\n                                            {!sale ?\r\n                                                <p className=\"column\">${item[2]}.00</p>\r\n                                                :\r\n                                                <Flexbox flexDirection=\"row\"\r\n                                                    style={{ \"position\": \"relative\" }}>\r\n                                                    <p className=\"column\"\r\n                                                        style={{\r\n                                                            \"margin-right\": \"2vw\",\r\n                                                            \"color\": \"#565759\",\r\n                                                            \"opacity\": \"0.9\"\r\n                                                        }}>\r\n                                                        <del>${item[2]}.00</del>\r\n                                                    </p>\r\n                                                    <p\r\n                                                        className=\"column\"\r\n                                                        style={{\r\n                                                            \"margin-right\": \"2vw\",\r\n                                                            \"left\": \"2vw\",\r\n                                                            \"position\": \"relative\",\r\n\r\n\r\n                                                        }}\r\n                                                    >SALE: ${item[12]}.00</p>\r\n                                                </Flexbox>\r\n                                            }\r\n                                            {(numInCart >= 1) &&\r\n                                                <p style={{\r\n                                                    \"background-color\": \"#565759\",\r\n                                                    // \"padding-left\": \".25em\",\r\n                                                    // \"padding-right\": \".25em\",\r\n                                                    // \"padding-top\": \".25em\",\r\n                                                    \"border-radius\": \"10px\",\r\n                                                    // \"bottom\": \"1em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    \"left\": \"2vw\",\r\n                                                    \"marginLeft\": \".5em\",\r\n                                                    \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                    \"whiteSpace\": \"nowrap\",\r\n                                                }}>{numInCart} in cart</p>}\r\n                                        </div>\r\n                                        <p style={{\r\n                                            \"background-color\": \"#565759\",\r\n                                            \"border-radius\": \"10px\",\r\n                                        }}>{`${item[3]}`}</p>\r\n                                        {/* <p><button\r\n                                            type=\"button\"\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div >\r\n                    )\r\n\r\n                })}\r\n                <br></br>\r\n            </div>\r\n            {/* <RecentlyViewed /> */}\r\n            <br></br>\r\n            {/* <nav className=\"darkNav\" style={{ \"bottom\": \"0em\" }} aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/full-sets\">Sets</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Sets</span>\r\n                    </li>\r\n                </ul>\r\n            </nav> */}\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\nexport default FullSets","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport magnificent from \"magnificent\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport PreloadImage from 'react-preload-image'\r\n// import { Lines } from \"react-preloaders\"\r\n\r\n\r\nfunction Tops() {\r\n\r\n\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        topCategory,\r\n        activateAddToWishlistModal,\r\n        productOnPageCount,\r\n        setProductOnPageCount,\r\n        setOnCheckout,\r\n        setCategorySearch,\r\n        displayNumber,\r\n        allNumber,\r\n        itemString,\r\n        setTermsDisplay,\r\n        activateRemoveFromWishlistModal,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setProductOnPageCount(0)\r\n        setOnCheckout(false)\r\n        setOnProductPage(false)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        setCategorySearch(\"top\")\r\n        // document.getElementById('smallSearch').style.display = \"inline-block\"\r\n        // document.getElementById('largeSearch').style.display = \"initial\"\r\n    }, [])\r\n\r\n\r\n\r\n    function handleProductComponent(item) {\r\n        console.log(productPageComponent)\r\n        setProductPageComponent(item);\r\n        console.log(productPageComponent)\r\n    }\r\n\r\n\r\n    const [tops, setTops] = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n        const topNames = topCategory.map(item => {\r\n            return item[0]\r\n        })\r\n        setTops(topNames)\r\n    }, [topCategory])\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // <   AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    function autocomplete(inp, arr) {\r\n        /*the autocomplete function takes two arguments,\r\n        the text field element and an array of possible autocompleted values:*/\r\n        var currentFocus;\r\n        /*execute a function when someone writes in the text field:*/\r\n        inp.addEventListener(\"input\", function (e) {\r\n            var a, b, i, val = this.value;\r\n            /*close any already open lists of autocompleted values*/\r\n            closeAllLists();\r\n            if (!val) { return false; }\r\n            currentFocus = -1;\r\n            /*create a DIV element that will contain the items (values):*/\r\n            a = document.createElement(\"DIV\");\r\n            a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n            a.setAttribute(\"class\", \"autocomplete-items\");\r\n            /*append the DIV element as a child of the autocomplete container:*/\r\n            this.parentNode.appendChild(a);\r\n            /*for each item in the array...*/\r\n            for (i = 0; i < arr.length; i++) {\r\n                /*check if the item starts with the same letters as the text field value:*/\r\n                if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                    /*create a DIV element for each matching element:*/\r\n                    b = document.createElement(\"DIV\");\r\n                    /*make the matching letters bold:*/\r\n                    b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                    b.innerHTML += arr[i].substr(val.length);\r\n                    /*insert a input field that will hold the current array item's value:*/\r\n                    b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                    /*execute a function when someone clicks on the item value (DIV element):*/\r\n                    b.addEventListener(\"click\", function (e) {\r\n                        /*insert the value for the autocomplete text field:*/\r\n                        inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n                        /*close the list of autocompleted values,\r\n                        (or any other open lists of autocompleted values:*/\r\n                        closeAllLists();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        });\r\n        /*execute a function presses a key on the keyboard:*/\r\n        inp.addEventListener(\"keydown\", function (e) {\r\n            var x = document.getElementById(this.id + \"autocomplete-list\");\r\n            if (x) x = x.getElementsByTagName(\"div\");\r\n            if (e.keyCode == 40) {\r\n                /*If the arrow DOWN key is pressed,\r\n                increase the currentFocus variable:*/\r\n                currentFocus++;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 38) { //up\r\n                /*If the arrow UP key is pressed,\r\n                decrease the currentFocus variable:*/\r\n                currentFocus--;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 13) {\r\n                /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n                e.preventDefault();\r\n                if (currentFocus > -1) {\r\n                    /*and simulate a click on the \"active\" item:*/\r\n                    if (x) x[currentFocus].click();\r\n                }\r\n            }\r\n        });\r\n        function addActive(x) {\r\n            /*a function to classify an item as \"active\":*/\r\n            if (!x) return false;\r\n            /*start by removing the \"active\" class on all items:*/\r\n            removeActive(x);\r\n            if (currentFocus >= x.length) currentFocus = 0;\r\n            if (currentFocus < 0) currentFocus = (x.length - 1);\r\n            /*add class \"autocomplete-active\":*/\r\n            x[currentFocus].classList.add(\"autocomplete-active\");\r\n        }\r\n        function removeActive(x) {\r\n            /*a function to remove the \"active\" class from all autocomplete items:*/\r\n            for (var i = 0; i < x.length; i++) {\r\n                x[i].classList.remove(\"autocomplete-active\");\r\n            }\r\n        }\r\n        function closeAllLists(elmnt) {\r\n            /*close all autocomplete lists in the document,\r\n            except the one passed as an argument:*/\r\n            var x = document.getElementsByClassName(\"autocomplete-items\");\r\n            for (var i = 0; i < x.length; i++) {\r\n                if (elmnt != x[i] && elmnt != inp) {\r\n                    x[i].parentNode.removeChild(x[i]);\r\n                }\r\n            }\r\n        }\r\n        /*execute a function when someone clicks in the document:*/\r\n        document.addEventListener(\"click\", function (e) {\r\n            closeAllLists(e.target);\r\n        });\r\n    }\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // </  AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20transparent.svg?alt=media&token=812d1dc3-3a82-4527-8551-63d3941fc5c4\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 100)\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/tops\">Tops</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Tops</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed\" style={{\r\n                // \"background-color\": \"black\",\r\n                // \"box-shadow\": \"0px 0px 5px white\",\r\n            }}>\r\n                <h2>Tops</h2>\r\n                <br></br>\r\n                {displayNumber &&\r\n                    <p\r\n                        style={{\r\n                            \"background-color\": \"#565759\",\r\n                            \"padding\": \".25em\",\r\n                            \"border-radius\": \"13px\",\r\n                            \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                            \"zIndex\": \"86\",\r\n                            \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                            \"position\": \"relative\",\r\n                            \"whiteSpace\": \"nowrap\"\r\n                        }}>{(allNumber > 0) && allNumber} {itemString}</p>}\r\n                {topCategory.map(item => {\r\n                    let refString = item[1].toString()\r\n                    console.log(item)\r\n                    console.log(item[0])\r\n                    console.log(refString)\r\n\r\n                    let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n                    let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n\r\n                    let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n\r\n                    let numberInCart = itemList.filter(i => i[0] == item[0])\r\n                    let numInCart = numberInCart.length\r\n                    let bestseller = item[11]\r\n\r\n                    let posArray = []\r\n                    let rightArray = []\r\n                    let emptyString = \"\"\r\n                    let sale = item[12]\r\n\r\n                    let moddedWidth = `${posArray[1]} + 15px`\r\n\r\n                    return (\r\n                        <div className=\"column shadowed\">\r\n                            <div className=\"productCard\">\r\n                                <div class=\"img-responsive\">\r\n                                    <div id={`contentLoader${tops.indexOf(item[0])}`}>\r\n                                        <ContentLoader\r\n                                            backgroundColor=\"white\"\r\n                                            animate={false}\r\n                                            style={{\r\n                                                // \"background-Color\": \"#565759\",\r\n\r\n                                                \"borderRadius\": \"25px\",\r\n                                                \"height\": \"500px\"\r\n                                            }}\r\n                                            onLoad={() => {\r\n                                                document.getElementById(`spinner${item[0]}`).style.visibility = \"visible\"\r\n                                                document.getElementById(`spinner${item[0]}`).setAttribute(\"visibility\", \"visible\")\r\n                                            }\r\n                                            }\r\n                                        >\r\n                                            <rect style={{\r\n                                                \"background-Color\": \"white\",\r\n                                                \"zIndex\": \"85\",\r\n                                                \"borderRadius\": \"25px\",\r\n                                            }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                            <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                            <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                        </ContentLoader>\r\n                                        <div id={`spinner${item[0]}`}\r\n                                            style={{\r\n                                                \"position\": \"relative\",\r\n                                                \"top\": \"-300px\", \"zIndex\": \"86\", \"visibility\": \"none\"\r\n                                            }}\r\n                                            className=\"loader centered\" id={`spinner${tops.indexOf(item[0])}`}>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"tops\"\r\n                                        onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                                        onMouseOut={() => { handleHideHeart(`${item[0]}`) }}\r\n                                        id={`tops${item[0].toUpperCase()}`}>\r\n                                        {bestseller && <span class=\"label warning\" style={{\r\n                                            \"color\": \"white\",\r\n                                            \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                            \"left\": `${(posArray[1]) ? posArray[1] : emptyString}`,\r\n                                            \"position\": \"absolute\"\r\n                                        }}>Bestseller</span>}\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <img\r\n\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                id={`${item[0]}`}\r\n                                                width=\"100%\"\r\n                                                height=\"auto\"\r\n                                                onLoad={() => {\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n                                                    rightArray.push(\r\n                                                        (document.getElementById(`${item[0]}`).getBoundingClientRect().left)\r\n                                                        + document.getElementById(`${item[0]}`).getBoundingClientRect().width);\r\n                                                    console.log(document.getElementById(`${item[0]}`).getBoundingClientRect());\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${tops.indexOf(item[0])}`)\r\n                                                        .style.display = \"none\"\r\n\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${tops.indexOf(item[0])}`)\r\n                                                        .setAttribute(\"display\", \"none\")\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n\r\n                                                }}\r\n                                                src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                {!sale ?\r\n                                                    <p className=\"column\">${item[2]}.00</p>\r\n                                                    :\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        style={{ \"position\": \"relative\" }}>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"color\": \"#565759\",\r\n                                                                \"opacity\": \"0.9\"\r\n                                                            }}>\r\n                                                            <del>${item[2]}.00</del>\r\n                                                        </p>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"left\": \"2vw\",\r\n                                                                \"position\": \"relative\"\r\n\r\n                                                            }}\r\n                                                        >SALE: ${item[12]}.00</p>\r\n                                                    </Flexbox>\r\n                                                }\r\n                                                {(numInCart >= 1) &&\r\n                                                    <p style={{\r\n                                                        \"background-color\": \"#565759\",\r\n                                                        // \"padding-left\": \".25em\",\r\n                                                        // \"padding-right\": \".25em\",\r\n                                                        // \"padding-top\": \".25em\",\r\n                                                        \"border-radius\": \"10px\",\r\n                                                        // \"bottom\": \"1em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"left\": \"2vw\",\r\n                                                        \"marginLeft\": \".5em\",\r\n                                                        \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                        \"whiteSpace\": \"nowrap\",\r\n                                                        // \"margin-left\": \"1em\"\r\n                                                    }}>{numInCart} in cart</p>}\r\n                                            </Flexbox>\r\n                                        </div>\r\n                                        <p style={{\r\n                                            \"background-color\": \"#565759\",\r\n                                            \"border-radius\": \"10px\",\r\n                                        }}>{`${item[3]}`}</p>\r\n                                        {/* <p><button\r\n                                            type=\"button\"\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div >\r\n                    )\r\n                })}\r\n                <br></br>\r\n            </div>\r\n            {/* <RecentlyViewed />\r\n            <br></br> */}\r\n            {/* <nav className=\"darkNav\" style={{}} aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/tops\">Tops</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Tops</span>\r\n                    </li>\r\n                </ul>\r\n            </nav> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tops","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport magnificent from \"magnificent\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport PreloadImage from 'react-preload-image'\r\n// import { Lines } from \"react-preloaders\"\r\n\r\n\r\nfunction Skirts() {\r\n\r\n\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        skirtCategory,\r\n        activateAddToWishlistModal,\r\n        productOnPageCount,\r\n        setProductOnPageCount,\r\n        setOnCheckout,\r\n        setCategorySearch,\r\n        displayNumber,\r\n        allNumber,\r\n        itemString,\r\n        setTermsDisplay,\r\n        activateRemoveFromWishlistModal,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setProductOnPageCount(0)\r\n        setOnProductPage(false)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        setOnCheckout(false)\r\n        setCategorySearch(\"skirt\")\r\n        // document.getElementById('smallSearch').style.display = \"inline-block\"\r\n        // document.getElementById('largeSearch').style.display = \"initial\"\r\n    }, [])\r\n\r\n\r\n    // page number logix:\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n    const [totalSkirtsCount, setTotalSkirtsCount] = useState(0)\r\n\r\n    useEffect(() => {\r\n        setTotalSkirtsCount(skirtCategory.length)\r\n    }, [])\r\n\r\n    const [pageOne, setPageOne] = useState([])\r\n    const [pageTwo, setPageTwo] = useState([])\r\n    const [pageThree, setPageThree] = useState([])\r\n    const [pageFour, setPageFour] = useState([])\r\n    const [pageFive, setPageFive] = useState([])\r\n\r\n    // useEffect(() => {\r\n    //     // remove search if page is changed:\r\n    //     document.getElementById(\"skirtSearch\").value = \"\"\r\n\r\n    //     let skirts = document.getElementsByClassName(\"skirtsCounter\")\r\n\r\n    //     let skirtsArray = Array.prototype.slice.call(skirts, 0, skirts.length + 1)\r\n\r\n    //     let pageOneArr = []\r\n    //     let pageTwoArr = []\r\n    //     let pageThreeArr = []\r\n    //     let pageFourArr = []\r\n    //     let pageFiveArr = []\r\n\r\n\r\n    //     skirtsArray.forEach(skirt => {\r\n    //         console.log(skirt)\r\n    //         let skirtCounterID = skirt.id\r\n    //         console.log(skirtCounterID)\r\n\r\n    //         let skirtCounterIdSplit = skirtCounterID.split(\"_\")\r\n    //         let skirtNumber = Number(skirtCounterIdSplit[1])\r\n\r\n    //         if (skirtNumber <= 20) {\r\n    //             pageOneArr.push(skirtCounterID)\r\n    //         } else if ((skirtNumber > 20) && (skirtNumber <= 40)) {\r\n    //             pageTwoArr.push(skirtCounterID)\r\n    //         } else if ((skirtNumber > 40) && (skirtNumber <= 60)) {\r\n    //             pageThreeArr.push(skirtCounterID)\r\n    //         } else if ((skirtNumber > 60) && (skirtNumber <= 80)) {\r\n    //             pageFourArr.push(skirtCounterID)\r\n    //         } else if ((skirtNumber > 80) && (skirtNumber <= 100)) {\r\n    //             pageFiveArr.push(skirtCounterID)\r\n    //         }\r\n    //         //     document.getElementById(skirtID).style.display = \"initial\"\r\n    //         //     document.getElementById(skirtID).setAttribute(\"display\", \"initial\")\r\n    //         //     newArr.push(skirtID)\r\n    //         //     console.log(newArr)\r\n    //         // } else {\r\n    //         //     document.getElementById(skirtID).style.display = \"none\"\r\n    //         //     document.getElementById(skirtID).setAttribute(\"display\", \"none\")\r\n    //         //     console.log(newArr)\r\n    //         // }\r\n    //     })\r\n    //     setPageOne(pageOneArr)\r\n    //     setPageTwo(pageTwoArr)\r\n    //     setPageThree(pageThreeArr)\r\n    //     setPageFour(pageFourArr)\r\n    //     setPageFive(pageFiveArr)\r\n\r\n    // }, [])\r\n\r\n    const [refresh, setRefresh] = useState(0)\r\n\r\n    useEffect(() => {\r\n\r\n        // decide which items to display based on page number as well as choosing\r\n        // the button styling for each page.\r\n\r\n        if (refresh > 0) {\r\n            if (pageNumber == 1) {\r\n\r\n                document.getElementById(\"pageOne\").style.color = \"pink\"\r\n\r\n                if (document.getElementById(\"pageTwo\")) {\r\n                    document.getElementById(\"pageTwo\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageThree\")) {\r\n                    document.getElementById(\"pageThree\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageFour\")) {\r\n                    document.getElementById(\"pageFour\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageFive\")) {\r\n                    document.getElementById(\"pageFive\").style.color = \"white\"\r\n                }\r\n\r\n                pageOne.forEach(id => {\r\n                    document.getElementById(id).style.display = \"initial\"\r\n                })\r\n                pageTwo.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageThree.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFour.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFive.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n            } else if (pageNumber == 2) {\r\n                document.getElementById(\"pageOne\").style.color = \"white\"\r\n                document.getElementById(\"pageTwo\").style.color = \"pink\"\r\n                if (document.getElementById(\"pageThree\")) {\r\n                    document.getElementById(\"pageThree\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageFour\")) {\r\n                    document.getElementById(\"pageFour\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageFive\")) {\r\n                    document.getElementById(\"pageFive\").style.color = \"white\"\r\n                }\r\n\r\n                pageOne.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageTwo.forEach(id => {\r\n                    document.getElementById(id).style.display = \"initial\"\r\n                })\r\n                pageThree.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFour.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFive.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n\r\n            } else if (pageNumber == 3) {\r\n                document.getElementById(\"pageOne\").style.color = \"white\"\r\n                document.getElementById(\"pageTwo\").style.color = \"white\"\r\n                document.getElementById(\"pageThree\").style.color = \"pink\"\r\n                if (document.getElementById(\"pageFour\")) {\r\n                    document.getElementById(\"pageFour\").style.color = \"white\"\r\n                }\r\n                if (document.getElementById(\"pageFive\")) {\r\n                    document.getElementById(\"pageFive\").style.color = \"white\"\r\n                }\r\n                pageOne.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageTwo.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageThree.forEach(id => {\r\n                    document.getElementById(id).style.display = \"initial\"\r\n                })\r\n                pageFour.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFive.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n\r\n            } else if (pageNumber == 4) {\r\n                document.getElementById(\"pageOne\").style.color = \"white\"\r\n                document.getElementById(\"pageTwo\").style.color = \"white\"\r\n                document.getElementById(\"pageThree\").style.color = \"white\"\r\n                document.getElementById(\"pageFour\").style.color = \"pink\"\r\n                if (document.getElementById(\"pageFive\")) {\r\n                    document.getElementById(\"pageFive\").style.color = \"white\"\r\n                }\r\n                pageOne.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageTwo.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageThree.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFour.forEach(id => {\r\n                    document.getElementById(id).style.display = \"initial\"\r\n                })\r\n                pageFive.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n\r\n            } else if (pageNumber == 5) {\r\n                document.getElementById(\"pageOne\").style.color = \"white\"\r\n                document.getElementById(\"pageTwo\").style.color = \"white\"\r\n                document.getElementById(\"pageThree\").style.color = \"white\"\r\n                document.getElementById(\"pageFour\").style.color = \"white\"\r\n                document.getElementById(\"pageFive\").style.color = \"pink\"\r\n\r\n                pageOne.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageTwo.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageThree.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFour.forEach(id => {\r\n                    document.getElementById(id).style.display = \"none\"\r\n                })\r\n                pageFive.forEach(id => {\r\n                    document.getElementById(id).style.display = \"initial\"\r\n                })\r\n\r\n            }\r\n        }\r\n    }, [pageNumber, refresh])\r\n\r\n\r\n\r\n    function handleProductComponent(item) {\r\n        console.log(productPageComponent)\r\n        setProductPageComponent(item);\r\n        console.log(productPageComponent)\r\n    }\r\n\r\n\r\n\r\n    // function handleSearchSkirts() {\r\n\r\n    //     let skirtsCounterArraylike = document.getElementsByClassName(\"skirtsCounter\")\r\n\r\n    //     let skirtsCounterArray = Array.prototype.slice.call\r\n    //         (skirtsCounterArraylike, 0, skirtsCounterArraylike.length + 1)\r\n\r\n    //     skirtsCounterArray.forEach(skirt => {\r\n    //         let id = skirt.id\r\n    //         document.getElementById(id).style.display = \"initial\"\r\n    //     })\r\n\r\n\r\n\r\n    //     let input = document.getElementById(\"skirtSearch\").value\r\n\r\n    //     if (input == \"\") {\r\n    //         setRefresh(refresh + 1)\r\n    //     }\r\n\r\n    //     console.log(input)\r\n    //     let filt1 = input.toUpperCase()\r\n    //     let filter = filt1.split(\" \").join(\"\")\r\n    //     let filtArr = filt1.split(\" \")\r\n    //     let filtSplit1 = filtArr[0]\r\n\r\n    //     let filtSplit2Arr = []\r\n    //     if (filtArr.length > 1) {\r\n    //         let filtSplit2 = filtArr[1]\r\n    //         filtSplit2Arr.push(filtSplit2)\r\n    //     }\r\n    //     let skirts = document.getElementsByClassName(\"skirts\")\r\n    //     console.log(skirts)\r\n    //     console.log(skirts.length)\r\n    //     console.log(skirts[0])\r\n    //     console.log(skirts[0].id)\r\n\r\n    //     let skirtsArray = Array.prototype.slice.call(skirts, 0, skirts.length + 1)\r\n    //     console.log(skirtsArray)\r\n    //     console.log(skirtsArray.length)\r\n\r\n    //     let newArr = []\r\n\r\n    //     skirtsArray.forEach(skirt => {\r\n    //         console.log(skirt)\r\n    //         console.log(newArr)\r\n    //         let skirtID = skirt.id\r\n    //         console.log(skirtID)\r\n\r\n    //         if (skirtID.includes(filter)\r\n    //             || skirtID.includes(filt1)\r\n    //             || skirtID.includes(filtSplit1)\r\n    //             || ((skirtID.includes(filtSplit2Arr[0]) &&\r\n    //                 (skirtID.includes(filtSplit1))\r\n    //             ))\r\n    //         ) {\r\n    //             document.getElementById(skirtID).style.display = \"initial\"\r\n    //             document.getElementById(skirtID).setAttribute(\"display\", \"initial\")\r\n    //             newArr.push(skirtID)\r\n    //             console.log(newArr)\r\n    //         } else {\r\n    //             document.getElementById(skirtID).style.display = \"none\"\r\n    //             document.getElementById(skirtID).setAttribute(\"display\", \"none\")\r\n    //             console.log(newArr)\r\n    //         }\r\n    //     })\r\n\r\n    //     // let i\r\n    //     // for (i = 0; i < skirtsArray.length; i++) {\r\n    //     //     return (function handleIterate() {\r\n\r\n    //     // console.log(i)\r\n    //     // let skirt = skirtsArray[i]\r\n    //     // console.log(skirt)\r\n    //     // })()\r\n    //     // }\r\n\r\n    //     let searchQuant = newArr.length\r\n    //     setSkirtsNumber(searchQuant)\r\n    //     console.log(searchQuant)\r\n    //     console.log(newArr)\r\n\r\n    //     if (input.length > 0) {\r\n    //         setDisplayNumber(true)\r\n    //     } else {\r\n    //         setDisplayNumber(false)\r\n    //     }\r\n\r\n    //     if (newArr.length == 1) {\r\n    //         setItemString(\"item matches your search\")\r\n    //     } else {\r\n    //         setItemString(\"items match your search\")\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n\r\n    const [skirts, setSkirts] = useState([])\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 100)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        const skirtNames = skirtCategory.map(item => {\r\n            return item[0]\r\n        })\r\n        setSkirts(skirtNames)\r\n    }, [skirtCategory])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // <   AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    function autocomplete(inp, arr) {\r\n        /*the autocomplete function takes two arguments,\r\n        the text field element and an array of possible autocompleted values:*/\r\n        var currentFocus;\r\n        /*execute a function when someone writes in the text field:*/\r\n        inp.addEventListener(\"input\", function (e) {\r\n            var a, b, i, val = this.value;\r\n            /*close any already open lists of autocompleted values*/\r\n            closeAllLists();\r\n            if (!val) { return false; }\r\n            currentFocus = -1;\r\n            /*create a DIV element that will contain the items (values):*/\r\n            a = document.createElement(\"DIV\");\r\n            a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n            a.setAttribute(\"class\", \"autocomplete-items\");\r\n            /*append the DIV element as a child of the autocomplete container:*/\r\n            this.parentNode.appendChild(a);\r\n            /*for each item in the array...*/\r\n            for (i = 0; i < arr.length; i++) {\r\n                /*check if the item starts with the same letters as the text field value:*/\r\n                if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                    /*create a DIV element for each matching element:*/\r\n                    b = document.createElement(\"DIV\");\r\n                    /*make the matching letters bold:*/\r\n                    b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                    b.innerHTML += arr[i].substr(val.length);\r\n                    /*insert a input field that will hold the current array item's value:*/\r\n                    b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                    /*execute a function when someone clicks on the item value (DIV element):*/\r\n                    b.addEventListener(\"click\", function (e) {\r\n                        /*insert the value for the autocomplete text field:*/\r\n                        inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n                        /*close the list of autocompleted values,\r\n                        (or any other open lists of autocompleted values:*/\r\n                        closeAllLists();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        });\r\n        /*execute a function presses a key on the keyboard:*/\r\n        inp.addEventListener(\"keydown\", function (e) {\r\n            var x = document.getElementById(this.id + \"autocomplete-list\");\r\n            if (x) x = x.getElementsByTagName(\"div\");\r\n            if (e.keyCode == 40) {\r\n                /*If the arrow DOWN key is pressed,\r\n                increase the currentFocus variable:*/\r\n                currentFocus++;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 38) { //up\r\n                /*If the arrow UP key is pressed,\r\n                decrease the currentFocus variable:*/\r\n                currentFocus--;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 13) {\r\n                /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n                e.preventDefault();\r\n                if (currentFocus > -1) {\r\n                    /*and simulate a click on the \"active\" item:*/\r\n                    if (x) x[currentFocus].click();\r\n                }\r\n            }\r\n        });\r\n        function addActive(x) {\r\n            /*a function to classify an item as \"active\":*/\r\n            if (!x) return false;\r\n            /*start by removing the \"active\" class on all items:*/\r\n            removeActive(x);\r\n            if (currentFocus >= x.length) currentFocus = 0;\r\n            if (currentFocus < 0) currentFocus = (x.length - 1);\r\n            /*add class \"autocomplete-active\":*/\r\n            x[currentFocus].classList.add(\"autocomplete-active\");\r\n        }\r\n        function removeActive(x) {\r\n            /*a function to remove the \"active\" class from all autocomplete items:*/\r\n            for (var i = 0; i < x.length; i++) {\r\n                x[i].classList.remove(\"autocomplete-active\");\r\n            }\r\n        }\r\n        function closeAllLists(elmnt) {\r\n            /*close all autocomplete lists in the document,\r\n            except the one passed as an argument:*/\r\n            var x = document.getElementsByClassName(\"autocomplete-items\");\r\n            for (var i = 0; i < x.length; i++) {\r\n                if (elmnt != x[i] && elmnt != inp) {\r\n                    x[i].parentNode.removeChild(x[i]);\r\n                }\r\n            }\r\n        }\r\n        /*execute a function when someone clicks in the document:*/\r\n        document.addEventListener(\"click\", function (e) {\r\n            closeAllLists(e.target);\r\n        });\r\n    }\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // </  AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20transparent.svg?alt=media&token=812d1dc3-3a82-4527-8551-63d3941fc5c4\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/skirts\">Skirts</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Skirts</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed\" style={{\r\n                // \"background-color\": \"black\",\r\n                // \"box-shadow\": \"0px 0px 5px white\",\r\n            }}>\r\n                <h2>Skirts</h2>\r\n                <br></br>\r\n                {displayNumber &&\r\n                    <p style={{\r\n                        \"background-color\": \"#565759\",\r\n                        \"padding\": \".25em\",\r\n                        \"border-radius\": \"13px\",\r\n                        \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                        \"zIndex\": \"86\",\r\n                        \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                        \"position\": \"relative\",\r\n                        \"whiteSpace\": \"nowrap\"\r\n                    }}>{(allNumber > 0) && allNumber} {itemString}</p>}\r\n                {skirtCategory.map(item => {\r\n                    let refString = item[1].toString()\r\n                    // console.log(allProducts)\r\n                    console.log(item)\r\n                    console.log(item[0])\r\n                    console.log(refString)\r\n\r\n                    // storageRef.child(refString).getDownloadURL().then(function (url) {\r\n                    //     return item.push(url)\r\n                    // })\r\n                    // make sure to always reference this with the last element in the array.\r\n                    // currently it will be 5\r\n\r\n                    let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n                    let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n\r\n                    let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n\r\n\r\n                    let numberInCart = itemList.filter(i => i[0] == item[0])\r\n                    let numInCart = numberInCart.length\r\n                    let bestseller = item[11]\r\n\r\n                    let posArray = []\r\n                    let emptyString = \"\"\r\n\r\n                    let sale = item[12]\r\n\r\n                    return (\r\n                        <div className=\"column shadowed\">\r\n                            <div className=\"productCard\">\r\n                                <div className=\"skirtsCounter\" id={`skirts_${Number(skirtCategory.indexOf(item)) + 1}`}>\r\n                                    <div id={`contentLoader${skirts.indexOf(item[0])}`}>\r\n                                        <ContentLoader\r\n                                            backgroundColor=\"white\"\r\n                                            animate={false}\r\n                                            style={{\r\n                                                // \"background-Color\": \"#565759\",\r\n\r\n                                                \"borderRadius\": \"25px\",\r\n                                                \"height\": \"500px\"\r\n                                            }}\r\n                                            onLoad={() => {\r\n                                                document.getElementById(`spinner${item[0]}`).style.visibility = \"visible\"\r\n                                                document.getElementById(`spinner${item[0]}`).setAttribute(\"visibility\", \"visible\")\r\n                                            }\r\n                                            }\r\n                                        >\r\n                                            <rect style={{\r\n                                                \"background-Color\": \"white\",\r\n                                                \"zIndex\": \"85\",\r\n                                                \"borderRadius\": \"25px\",\r\n                                            }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                            <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                            <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                        </ContentLoader>\r\n                                        <div id={`spinner${item[0]}`}\r\n                                            style={{\r\n                                                \"position\": \"relative\",\r\n                                                \"top\": \"-300px\", \"zIndex\": \"86\", \"visibility\": \"none\"\r\n                                            }}\r\n                                            className=\"loader centered\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div\r\n                                        onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                                        onMouseOut={() => { handleHideHeart(`${item[0]}`) }}\r\n                                        className=\"skirts\"\r\n                                        id={`skirts${item[0].toUpperCase()}`}>\r\n                                        {bestseller &&\r\n                                            <span class=\"label warning\" style={{\r\n                                                \"color\": \"white\",\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"left\": `${(posArray[1]) ? posArray[1] : emptyString}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}>Bestseller</span>}\r\n                                        <img\r\n\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n\r\n\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <img\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                id={`${item[0]}`}\r\n                                                width=\"100%\"\r\n                                                height=\"auto\"\r\n                                                onLoad={() => {\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${skirts.indexOf(item[0])}`)\r\n                                                        .style.display = \"none\"\r\n\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${skirts.indexOf(item[0])}`)\r\n                                                        .setAttribute(\"display\", \"none\")\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n                                                }}\r\n                                                src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                {!sale ?\r\n                                                    <p className=\"column\">${item[2]}.00</p>\r\n                                                    :\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        style={{ \"position\": \"relative\" }}>\r\n                                                        <p\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"color\": \"#565759\",\r\n                                                                \"opacity\": \"0.9\"\r\n                                                            }}>\r\n                                                            <del>${item[2]}.00</del>\r\n                                                        </p>\r\n                                                        <p\r\n\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"left\": \"2vw\",\r\n                                                                \"position\": \"relative\"\r\n\r\n                                                            }}\r\n                                                        >SALE: ${item[12]}.00</p>\r\n                                                    </Flexbox>\r\n                                                }\r\n                                                {(numInCart >= 1) &&\r\n                                                    <p style={{\r\n                                                        \"background-color\": \"#565759\",\r\n                                                        // \"padding-left\": \".25em\",\r\n                                                        // \"padding-right\": \".25em\",\r\n                                                        // \"padding-top\": \".25em\",\r\n                                                        \"border-radius\": \"10px\",\r\n                                                        // \"bottom\": \"1em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"left\": \"2vw\",\r\n                                                        \"marginLeft\": \".5em\",\r\n                                                        \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                        \"whiteSpace\": \"nowrap\",\r\n                                                        // \"margin-left\": \"1em\"\r\n                                                    }}>{numInCart} in cart</p>}\r\n                                            </Flexbox>\r\n                                        </div>\r\n                                        <p style={{\r\n                                            \"background-color\": \"#565759\",\r\n                                            \"border-radius\": \"10px\",\r\n                                        }}>{`${item[3]}`}</p>\r\n                                        {/* <p><button\r\n                                            type=\"button\"\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div >\r\n                    )\r\n\r\n                })}\r\n\r\n            </div>\r\n            <br></br>\r\n            {/* <RecentlyViewed />\r\n            <br></br> */}\r\n            {/* <nav className=\"darkNav\" style={{ \"bottom\": \"0em\" }} aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/skirts\">Skirts</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Skirts</span>\r\n                    </li>\r\n                </ul>\r\n            </nav> */}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Skirts","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport magnificent from \"magnificent\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport PreloadImage from 'react-preload-image'\r\n// import { Lines } from \"react-preloaders\"\r\n\r\n\r\nfunction Belts() {\r\n\r\n\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        beltCategory,\r\n        activateAddToWishlistModal,\r\n        productOnPageCount,\r\n        setProductOnPageCount,\r\n        setOnCheckout,\r\n        setCategorySearch,\r\n        displayNumber,\r\n        allNumber,\r\n        itemString,\r\n        setTermsDisplay,\r\n        activateRemoveFromWishlistModal,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setProductOnPageCount(0)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        setOnCheckout(false)\r\n        setCategorySearch(\"belt\")\r\n        setOnProductPage(false)\r\n        // document.getElementById('smallSearch').style.display = \"inline-block\"\r\n        // document.getElementById('largeSearch').style.display = \"initial\"\r\n\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    function handleProductComponent(item) {\r\n        console.log(productPageComponent)\r\n        setProductPageComponent(item);\r\n        console.log(productPageComponent)\r\n    }\r\n\r\n    // const [beltsNumber, setBeltsNumber] = useState(0)\r\n    // const [displayNumber, setDisplayNumber] = useState(false)\r\n\r\n    // const [itemString, setItemString] = useState(\"\")\r\n\r\n\r\n    // function handleSearchBelts() {\r\n    //     let input = document.getElementById(\"beltSearch\").value\r\n    //     console.log(input)\r\n    //     let filt1 = input.toUpperCase()\r\n    //     let filter = filt1.split(\" \").join(\"\")\r\n    //     let filtArr = filt1.split(\" \")\r\n    //     let filtSplit1 = filtArr[0]\r\n\r\n    //     let filtSplit2Arr = []\r\n    //     if (filtArr.length > 1) {\r\n    //         let filtSplit2 = filtArr[1]\r\n    //         filtSplit2Arr.push(filtSplit2)\r\n    //     }\r\n\r\n    //     let belts = document.getElementsByClassName(\"belts\")\r\n    //     console.log(belts)\r\n    //     console.log(belts.length)\r\n    //     console.log(belts[0])\r\n    //     console.log(belts[0].id)\r\n\r\n    //     let beltsArray = Array.prototype.slice.call(belts, 0, belts.length + 1)\r\n    //     console.log(beltsArray)\r\n    //     console.log(beltsArray.length)\r\n\r\n    //     let newArr = []\r\n\r\n    //     beltsArray.forEach(belt => {\r\n    //         console.log(belt)\r\n    //         console.log(newArr)\r\n    //         let beltID = belt.id\r\n    //         console.log(beltID)\r\n\r\n    //         if (beltID.includes(filter)\r\n    //             || beltID.includes(filt1)\r\n    //             || beltID.includes(filtSplit1)\r\n    //             || ((beltID.includes(filtSplit2Arr[0]) &&\r\n    //                 (beltID.includes(filtSplit1))\r\n    //             ))\r\n    //         ) {\r\n    //             document.getElementById(beltID).style.display = \"initial\"\r\n    //             document.getElementById(beltID).setAttribute(\"display\", \"initial\")\r\n    //             newArr.push(beltID)\r\n    //             console.log(newArr)\r\n    //         } else {\r\n    //             document.getElementById(beltID).style.display = \"none\"\r\n    //             document.getElementById(beltID).setAttribute(\"display\", \"none\")\r\n    //             console.log(newArr)\r\n    //         }\r\n    //     })\r\n\r\n    //     // let i\r\n    //     // for (i = 0; i < beltsArray.length; i++) {\r\n    //     //     return (function handleIterate() {\r\n\r\n    //     // console.log(i)\r\n    //     // let belt = beltsArray[i]\r\n    //     // console.log(belt)\r\n    //     // })()\r\n    //     // }\r\n\r\n    //     let searchQuant = newArr.length\r\n    //     setBeltsNumber(searchQuant)\r\n    //     console.log(searchQuant)\r\n    //     console.log(newArr)\r\n\r\n    //     if (input.length > 0) {\r\n    //         setDisplayNumber(true)\r\n    //     } else {\r\n    //         setDisplayNumber(false)\r\n    //     }\r\n\r\n    //     if (newArr.length == 1) {\r\n    //         setItemString(\"item matches your search\")\r\n    //     } else {\r\n    //         setItemString(\"items match your search\")\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // <   AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    function autocomplete(inp, arr) {\r\n        /*the autocomplete function takes two arguments,\r\n        the text field element and an array of possible autocompleted values:*/\r\n        var currentFocus;\r\n        /*execute a function when someone writes in the text field:*/\r\n        inp.addEventListener(\"input\", function (e) {\r\n            var a, b, i, val = this.value;\r\n            /*close any already open lists of autocompleted values*/\r\n            closeAllLists();\r\n            if (!val) { return false; }\r\n            currentFocus = -1;\r\n            /*create a DIV element that will contain the items (values):*/\r\n            a = document.createElement(\"DIV\");\r\n            a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n            a.setAttribute(\"class\", \"autocomplete-items\");\r\n            /*append the DIV element as a child of the autocomplete container:*/\r\n            this.parentNode.appendChild(a);\r\n            /*for each item in the array...*/\r\n            for (i = 0; i < arr.length; i++) {\r\n                /*check if the item starts with the same letters as the text field value:*/\r\n                if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                    /*create a DIV element for each matching element:*/\r\n                    b = document.createElement(\"DIV\");\r\n                    /*make the matching letters bold:*/\r\n                    b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                    b.innerHTML += arr[i].substr(val.length);\r\n                    /*insert a input field that will hold the current array item's value:*/\r\n                    b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                    /*execute a function when someone clicks on the item value (DIV element):*/\r\n                    b.addEventListener(\"click\", function (e) {\r\n                        /*insert the value for the autocomplete text field:*/\r\n                        inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n                        /*close the list of autocompleted values,\r\n                        (or any other open lists of autocompleted values:*/\r\n                        closeAllLists();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        });\r\n        /*execute a function presses a key on the keyboard:*/\r\n        inp.addEventListener(\"keydown\", function (e) {\r\n            var x = document.getElementById(this.id + \"autocomplete-list\");\r\n            if (x) x = x.getElementsByTagName(\"div\");\r\n            if (e.keyCode == 40) {\r\n                /*If the arrow DOWN key is pressed,\r\n                increase the currentFocus variable:*/\r\n                currentFocus++;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 38) { //up\r\n                /*If the arrow UP key is pressed,\r\n                decrease the currentFocus variable:*/\r\n                currentFocus--;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 13) {\r\n                /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n                e.preventDefault();\r\n                if (currentFocus > -1) {\r\n                    /*and simulate a click on the \"active\" item:*/\r\n                    if (x) x[currentFocus].click();\r\n                }\r\n            }\r\n        });\r\n        function addActive(x) {\r\n            /*a function to classify an item as \"active\":*/\r\n            if (!x) return false;\r\n            /*start by removing the \"active\" class on all items:*/\r\n            removeActive(x);\r\n            if (currentFocus >= x.length) currentFocus = 0;\r\n            if (currentFocus < 0) currentFocus = (x.length - 1);\r\n            /*add class \"autocomplete-active\":*/\r\n            x[currentFocus].classList.add(\"autocomplete-active\");\r\n        }\r\n        function removeActive(x) {\r\n            /*a function to remove the \"active\" class from all autocomplete items:*/\r\n            for (var i = 0; i < x.length; i++) {\r\n                x[i].classList.remove(\"autocomplete-active\");\r\n            }\r\n        }\r\n        function closeAllLists(elmnt) {\r\n            /*close all autocomplete lists in the document,\r\n            except the one passed as an argument:*/\r\n            var x = document.getElementsByClassName(\"autocomplete-items\");\r\n            for (var i = 0; i < x.length; i++) {\r\n                if (elmnt != x[i] && elmnt != inp) {\r\n                    x[i].parentNode.removeChild(x[i]);\r\n                }\r\n            }\r\n        }\r\n        /*execute a function when someone clicks in the document:*/\r\n        document.addEventListener(\"click\", function (e) {\r\n            closeAllLists(e.target);\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    /////////////  added\r\n    /////////    code\r\n    //////  section\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n    const [belts, setBelts] = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n        const beltNames = beltCategory.map(item => {\r\n            return item[0]\r\n        })\r\n        setBelts(beltNames)\r\n    }, [beltCategory])\r\n\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 100)\r\n    }, [])\r\n\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // </  AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20transparent.svg?alt=media&token=812d1dc3-3a82-4527-8551-63d3941fc5c4\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/belts\">Belts</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Belts</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed\" style={{\r\n                // \"background-color\": \"black\",\r\n                // \"box-shadow\": \"0px 0px 5px white\",\r\n            }}>\r\n                <h2>Belts</h2>\r\n                <br></br>\r\n                {displayNumber && <p style={{\r\n                    \"background-color\": \"#565759\",\r\n                    \"padding\": \".25em\",\r\n                    \"border-radius\": \"13px\",\r\n                    \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                    \"zIndex\": \"86\",\r\n                    \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                    \"position\": \"relative\",\r\n                    \"whiteSpace\": \"nowrap\"\r\n                }}>{(allNumber > 0) && allNumber} {itemString}</p>}\r\n                {beltCategory.map(item => {\r\n                    let refString = item[1].toString()\r\n                    // console.log(allProducts)\r\n                    console.log(beltCategory)\r\n                    console.log(item)\r\n                    console.log(item[0])\r\n                    console.log(refString)\r\n\r\n                    // storageRef.child(refString).getDownloadURL().then(function (url) {\r\n                    //     return item.push(url)\r\n                    // })\r\n                    // make sure to always reference this with the last element in the array.\r\n                    // currently it will be 5\r\n\r\n                    let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n                    let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n\r\n                    let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n\r\n                    let numberInCart = itemList.filter(i => i[0] == item[0])\r\n                    let numInCart = numberInCart.length\r\n                    let bestseller = item[11]\r\n\r\n\r\n                    let posArray = []\r\n                    let emptyString = \"\"\r\n\r\n                    let sale = item[12]\r\n\r\n                    return (\r\n                        <div className=\"column shadowed\">\r\n                            <div className=\"productCard\">\r\n                                <div class=\"img-responsive\">\r\n                                    <div id={`contentLoader${belts.indexOf(item[0])}`}>\r\n                                        <ContentLoader\r\n                                            backgroundColor=\"white\"\r\n                                            animate={false}\r\n                                            style={{\r\n                                                // \"background-Color\": \"#565759\",\r\n\r\n                                                \"borderRadius\": \"25px\",\r\n                                                \"height\": \"500px\"\r\n                                            }}\r\n                                            onLoad={() => {\r\n                                                document.getElementById(`spinner${item[0]}`).style.visibility = \"visible\"\r\n                                                document.getElementById(`spinner${item[0]}`).setAttribute(\"visibility\", \"visible\")\r\n                                            }\r\n                                            }\r\n                                        >\r\n                                            <rect style={{\r\n                                                \"background-Color\": \"white\",\r\n                                                \"zIndex\": \"85\",\r\n                                                \"borderRadius\": \"25px\",\r\n                                            }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                            <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                            <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                        </ContentLoader>\r\n                                        <div id={`spinner${item[0]}`}\r\n                                            style={{\r\n                                                \"position\": \"relative\",\r\n                                                \"top\": \"-300px\", \"zIndex\": \"86\", \"visibility\": \"none\"\r\n                                            }}\r\n                                            className=\"loader centered\" id={`spinner${belts.indexOf(item[0])}`}>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div\r\n                                        onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                                        onMouseOut={() => { handleHideHeart(`${item[0]}`) }}\r\n                                        className=\"belts\"\r\n                                        id={`belt${item[0].toUpperCase()}`}>\r\n                                        {bestseller &&\r\n                                            <span class=\"label warning\" style={{\r\n                                                \"color\": \"white\",\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"left\": `${(posArray[1]) ? posArray[1] : emptyString}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}>Bestseller</span>}\r\n                                        <img\r\n                                            onClick={() => {\r\n                                                handleWishlist(productInWishlistArray.length, item);\r\n                                            }}\r\n                                            id={`heartIcon${item[0]}`}\r\n                                            style={{\r\n                                                \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                                                \"margin-left\": \"16em\",\r\n                                                // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                                                // \"left\": \"4em\",\r\n                                                \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                                                \"position\": \"absolute\"\r\n                                            }}\r\n                                            width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                                            height=\"auto\"\r\n                                            src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <img\r\n                                                style={{ \"visibility\": \"hidden\" }}\r\n                                                id={`${item[0]}`}\r\n                                                width=\"100%\"\r\n                                                height=\"auto\"\r\n                                                onLoad={() => {\r\n\r\n                                                    // update positions of heart, and turn visible only when fully loaded\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                                    posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${belts.indexOf(item[0])}`)\r\n                                                        .style.display = \"none\";\r\n\r\n                                                    document\r\n                                                        .getElementById(`contentLoader${belts.indexOf(item[0])}`)\r\n                                                        .setAttribute(\"display\", \"none\");\r\n\r\n                                                    document.getElementById(`${item[0]}`).style.visibility = \"visible\"\r\n\r\n                                                }}\r\n                                                src={item[5]}></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productPageLinkString}`}>\r\n                                            <h2 class=\"text-decoration-none\">{item[0]}</h2>\r\n                                        </Link>\r\n                                        <div className=\"row\">\r\n                                            <Flexbox>\r\n                                                {!sale ?\r\n                                                    <p className=\"column\">${item[2]}.00</p>\r\n                                                    :\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        style={{ \"position\": \"relative\" }}>\r\n                                                        <p className=\"column\"\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"color\": \"#565759\",\r\n                                                                \"opacity\": \"0.9\"\r\n                                                            }}>\r\n                                                            <del>${item[2]}.00</del>\r\n                                                        </p>\r\n                                                        <p\r\n                                                            className=\"column\"\r\n                                                            style={{\r\n                                                                \"margin-right\": \"2vw\",\r\n                                                                \"left\": \"2vw\",\r\n                                                                \"position\": \"relative\"\r\n\r\n                                                            }}\r\n                                                        >SALE: ${item[12]}.00</p>\r\n                                                    </Flexbox>\r\n                                                }\r\n                                                {(numInCart >= 1) &&\r\n                                                    <p style={{\r\n                                                        \"background-color\": \"#565759\",\r\n                                                        // \"padding-left\": \".25em\",\r\n                                                        // \"padding-right\": \".25em\",\r\n                                                        // \"padding-top\": \".25em\",\r\n                                                        \"border-radius\": \"10px\",\r\n                                                        // \"bottom\": \"1em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"marginLeft\": \".5em\",\r\n                                                        \"marginRight\": `${isLargeScreen ? \".5em\" : \"1em\"}`,\r\n                                                        \"whiteSpace\": \"nowrap\",\r\n                                                        \"left\": \"2vw\"\r\n                                                        // \"margin-left\": \"1em\"\r\n                                                    }}>{numInCart} in cart</p>}\r\n                                            </Flexbox>\r\n                                        </div>\r\n                                        <p style={{\r\n                                            \"background-color\": \"#565759\",\r\n                                            \"border-radius\": \"10px\",\r\n                                        }}>{`${item[3]}`}</p>\r\n                                        {/* {(productInCartArray.length > 0) &&\r\n                            <Link to=\"/cart\">\r\n                            <p>\r\n                            <button type=\"button\">View In Cart</button>\r\n                            </p>\r\n                        </Link>} */}\r\n                                        {/* <p><button\r\n                                            style={{ \"backgroundColor\": \"#1779ba\" }}\r\n                                            type=\"button\"\r\n                                            onClick={() => {\r\n                                                addToWishlist(item);\r\n                                                modifyWishlistCount(1);\r\n                                                activateAddToWishlistModal(item[0]);\r\n                                            }\r\n                                            }>{(productInWishlistArray.length > 0) ? \" In Wishlist\" : \"Add to Wishlist\"}</button></p> */}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div >\r\n                    )\r\n                })}\r\n                <br></br>\r\n            </div>\r\n            {/* <RecentlyViewed /> */}\r\n            <br></br>\r\n            {/* <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li><Link to=\"/shop/belts\">Belts</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Belts</span>\r\n                    </li>\r\n                </ul>\r\n            </nav> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Belts","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { useRouteMatch, Link, Switch, BrowserRouter as Router, Route, useParams } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport AllProducts from \"./AllProducts\"\r\nimport FullSets from \"./FullSets\"\r\nimport Tops from \"./Tops\"\r\nimport Skirts from \"./Skirts\"\r\nimport Belts from \"./Belts\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\n// import { getClass } from \"../utils\"\r\n\r\n// \"in cart\" marker\r\n\r\n\r\nfunction Shop() {\r\n\r\n    const match = useRouteMatch()\r\n\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        itemCategory,\r\n        allProducts,\r\n        productsLoaded,\r\n        setOnCheckout,\r\n        setCategorySearch,\r\n        displayNumber,\r\n        allNumber,\r\n        itemString,\r\n        loaderOn,\r\n        setLoaderOn,\r\n        loadedCount,\r\n        setLoadedCount,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"shop\")\r\n        setOnCheckout(false)\r\n        setOnProductPage(false)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n\r\n        // document.getElementById('smallSearch').style.display = \"inline-block\"\r\n        // document.getElementById('largeSearch').style.display = \"initial\"\r\n    }, [])\r\n\r\n    // const [allNumber, setAllNumber] = useState(0)\r\n    // const [displayNumber, setDisplayNumber] = useState(false)\r\n    // const [itemString, setItemString] = useState(\"\")\r\n\r\n\r\n    // function handleSearchShop() {\r\n    //     let input = document.getElementById(\"allSearch\").value\r\n    //     console.log(input)\r\n    //     let filt1 = input.toUpperCase()\r\n    //     let filter = filt1.split(\" \").join(\"\")\r\n    //     let filtArr = filt1.split(\" \")\r\n    //     let filtSplit1 = filtArr[0]\r\n\r\n    //     let filtSplit2Arr = []\r\n    //     if (filtArr.length > 1) {\r\n    //         let filtSplit2 = filtArr[1]\r\n    //         filtSplit2Arr.push(filtSplit2)\r\n    //     }\r\n\r\n\r\n\r\n    //     let all = document.getElementsByClassName(\"allProducts\")\r\n    //     console.log(all)\r\n    //     console.log(all.length)\r\n    //     console.log(all[0])\r\n    //     console.log(all[0].id)\r\n\r\n    //     let allArray = Array.prototype.slice.call(all, 0, all.length + 1)\r\n    //     console.log(allArray)\r\n    //     console.log(allArray.length)\r\n\r\n    //     let newArr = []\r\n\r\n    //     allArray.forEach(prod => {\r\n    //         console.log(prod)\r\n    //         console.log(newArr)\r\n    //         let prodID = prod.id\r\n    //         console.log(prodID)\r\n\r\n    //         if (prodID.includes(filter)\r\n    //             || prodID.includes(filt1)\r\n    //             || prodID.includes(filtSplit1)\r\n    //             || ((prodID.includes(filtSplit2Arr[0]) &&\r\n    //                 (prodID.includes(filtSplit1))\r\n    //             ))\r\n    //         ) {\r\n    //             document.getElementById(prodID).style.display = \"initial\"\r\n    //             document.getElementById(prodID).setAttribute(\"display\", \"initial\")\r\n    //             newArr.push(prodID)\r\n    //             console.log(newArr)\r\n    //         } else {\r\n    //             document.getElementById(prodID).style.display = \"none\"\r\n    //             document.getElementById(prodID).setAttribute(\"display\", \"none\")\r\n    //             console.log(newArr)\r\n    //         }\r\n    //     })\r\n\r\n    //     // let i\r\n    //     // for (i = 0; i < fullSetsArray.length; i++) {\r\n    //     //     return (function handleIterate() {\r\n\r\n    //     // console.log(i)\r\n    //     // let fullSet = fullSetsArray[i]\r\n    //     // console.log(fullSet)\r\n    //     // })()\r\n    //     // }\r\n\r\n    //     let searchQuant = newArr.length\r\n    //     setAllNumber(searchQuant)\r\n    //     console.log(searchQuant)\r\n    //     console.log(newArr)\r\n\r\n    //     if (input.length > 0) {\r\n    //         setDisplayNumber(true)\r\n    //     } else {\r\n    //         setDisplayNumber(false)\r\n    //     }\r\n\r\n    //     if (newArr.length == 1) {\r\n    //         setItemString(\"item matches your search\")\r\n    //     } else {\r\n    //         setItemString(\"items match your search\")\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n    const [productsArray, setProductsArray] = useState([])\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 100)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const productNames = allProducts.map(item => {\r\n            return item[0]\r\n        })\r\n        setProductsArray(productNames)\r\n    }, [productsLoaded])\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // <   AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n    function autocomplete(inp, arr) {\r\n        /*the autocomplete function takes two arguments,\r\n        the text field element and an array of possible autocompleted values:*/\r\n        var currentFocus;\r\n        /*execute a function when someone writes in the text field:*/\r\n        inp.addEventListener(\"input\", function (e) {\r\n            var a, b, i, val = this.value;\r\n            /*close any already open lists of autocompleted values*/\r\n            closeAllLists();\r\n            if (!val) { return false; }\r\n            currentFocus = -1;\r\n            /*create a DIV element that will contain the items (values):*/\r\n            a = document.createElement(\"DIV\");\r\n            a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n            a.setAttribute(\"class\", \"autocomplete-items\");\r\n            /*append the DIV element as a child of the autocomplete container:*/\r\n            this.parentNode.appendChild(a);\r\n            /*for each item in the array...*/\r\n            for (i = 0; i < arr.length; i++) {\r\n                /*check if the item starts with the same letters as the text field value:*/\r\n                if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                    /*create a DIV element for each matching element:*/\r\n                    b = document.createElement(\"DIV\");\r\n                    /*make the matching letters bold:*/\r\n                    b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                    b.innerHTML += arr[i].substr(val.length);\r\n                    /*insert a input field that will hold the current array item's value:*/\r\n                    b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                    /*execute a function when someone clicks on the item value (DIV element):*/\r\n                    b.addEventListener(\"click\", function (e) {\r\n                        /*insert the value for the autocomplete text field:*/\r\n                        inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n                        /*close the list of autocompleted values,\r\n                        (or any other open lists of autocompleted values:*/\r\n                        closeAllLists();\r\n                    });\r\n                    a.appendChild(b);\r\n                }\r\n            }\r\n        });\r\n        /*execute a function presses a key on the keyboard:*/\r\n        inp.addEventListener(\"keydown\", function (e) {\r\n            var x = document.getElementById(this.id + \"autocomplete-list\");\r\n            if (x) x = x.getElementsByTagName(\"div\");\r\n            if (e.keyCode == 40) {\r\n                /*If the arrow DOWN key is pressed,\r\n                increase the currentFocus variable:*/\r\n                currentFocus++;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 38) { //up\r\n                /*If the arrow UP key is pressed,\r\n                decrease the currentFocus variable:*/\r\n                currentFocus--;\r\n                /*and and make the current item more visible:*/\r\n                addActive(x);\r\n            } else if (e.keyCode == 13) {\r\n                /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n                e.preventDefault();\r\n                if (currentFocus > -1) {\r\n                    /*and simulate a click on the \"active\" item:*/\r\n                    if (x) x[currentFocus].click();\r\n                }\r\n            }\r\n        });\r\n        function addActive(x) {\r\n            /*a function to classify an item as \"active\":*/\r\n            if (!x) return false;\r\n            /*start by removing the \"active\" class on all items:*/\r\n            removeActive(x);\r\n            if (currentFocus >= x.length) currentFocus = 0;\r\n            if (currentFocus < 0) currentFocus = (x.length - 1);\r\n            /*add class \"autocomplete-active\":*/\r\n            x[currentFocus].classList.add(\"autocomplete-active\");\r\n        }\r\n        function removeActive(x) {\r\n            /*a function to remove the \"active\" class from all autocomplete items:*/\r\n            for (var i = 0; i < x.length; i++) {\r\n                x[i].classList.remove(\"autocomplete-active\");\r\n            }\r\n        }\r\n        function closeAllLists(elmnt) {\r\n            /*close all autocomplete lists in the document,\r\n            except the one passed as an argument:*/\r\n            var x = document.getElementsByClassName(\"autocomplete-items\");\r\n            for (var i = 0; i < x.length; i++) {\r\n                if (elmnt != x[i] && elmnt != inp) {\r\n                    x[i].parentNode.removeChild(x[i]);\r\n                }\r\n            }\r\n        }\r\n        /*execute a function when someone clicks in the document:*/\r\n        document.addEventListener(\"click\", function (e) {\r\n            closeAllLists(e.target);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setCategorySearch(\"all\")\r\n    }, [])\r\n\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////\r\n    // </  AutoComplete Code Section >\r\n    /////////////////////////////////////////////////////////\r\n\r\n\r\n    ////// <ContentLoader> ////////\r\n\r\n\r\n    //////////  </Content> ////////////\r\n\r\n\r\n    //     return (\r\n    //         <div>\r\n\r\n\r\n    //             <Flexbox flexDirection=\"row\">\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //             </Flexbox>\r\n    //             <Flexbox flexDirection=\"row\">\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //             </Flexbox>\r\n    //             <Flexbox flexDirection=\"row\">\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //             </Flexbox>\r\n    //             <Flexbox flexDirection=\"row\">\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //                 <Flexbox flexDirection=\"column\">\r\n    //                     <ContentLoader>\r\n    //                         <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"70\" height=\"70\" />\r\n    //                         <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n    //                         <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n    //                     </ContentLoader>\r\n    //                 </Flexbox>\r\n    //             </Flexbox>\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n\r\n    ////// </ContentLoader> //////\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/shop\">Shop</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Shop</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed\">\r\n                <h1>Shop</h1>\r\n                {displayNumber &&\r\n                    <p\r\n                        style={{\r\n                            \"background-color\": \"#565759\",\r\n                            \"padding\": \".25em\",\r\n                            \"border-radius\": \"13px\",\r\n                            \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                            \"zIndex\": \"86\",\r\n                            \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                            \"position\": \"relative\",\r\n                            \"whiteSpace\": \"nowrap\"\r\n                        }}>{(allNumber > 0) && allNumber} {itemString}</p>}\r\n                <main className=\"productCard\" style={{\r\n                    // \"background-color\": \"black\",\r\n                    // \"box-shadow\": \"0px 0px 5px white\",\r\n                }}>\r\n                    <div className=\"row\">\r\n                        <Switch>\r\n                            <Route exact path=\"/shop\">\r\n                                <AllProducts />\r\n                            </Route>\r\n                            <Route path=\"/shop/full-sets\" >\r\n                                <FullSets />\r\n                            </Route>\r\n                            <Route path=\"/shop/tops\">\r\n                                <Tops />\r\n                            </Route>\r\n                            <Route path=\"/shop/skirts\">\r\n                                <Skirts />\r\n                            </Route>\r\n                            <Route path=\"/shop/belts\">\r\n                                <Belts />\r\n                            </Route>\r\n                        </Switch>\r\n                    </div>\r\n\r\n                </main>\r\n                <br></br>\r\n            </div >\r\n            {/* <RecentlyViewed /> */}\r\n            <br></br>\r\n            {/* <div style={{\r\n                \"bottom\": \"0em\",\r\n            }}>\r\n                <nav aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/shop\">Shop</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Shop</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div> */}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Shop","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Context } from \"./Context\"\r\nimport firebase from \"firebase\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\n\r\n// checklist:\r\n// try firebase method again, check errors\r\n// use nodemailer if necessary\r\n// function creates db doc with email info and uid, sends sign in email\r\n// containing a link to success page with email + uid in trailing text of url\r\n//  that page creates user with those creds.\r\n// sign in button in addition to create account button.\r\n\r\n\r\nfunction SignInWithEmail() {\r\n\r\n\r\n    const [emailInputDisplayed, setEmailInputDisplayed] = useState(false)\r\n    const [inputEmail, setInputEmail] = useState(\"\")\r\n    const [linkSent, setLinkSent] = useState(false)\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"signInEmail\")\r\n    }, [])\r\n\r\n\r\n    function sendEmail() {\r\n\r\n        var email = document.getElementById(\"userEmail\").value\r\n        setInputEmail(email)\r\n        setLinkSent(true);\r\n        setEmailInputDisplayed(false)\r\n        firebase.auth().sendSignInLinkToEmail(email, {\r\n            // URL you want to redirect back to. The domain (www.example.com) for this\r\n            // URL must be whitelisted in the Firebase Console.\r\n            url: 'https://jiva-website-405ed.firebaseapp.com/sign-in-successful',\r\n            // This must be true.\r\n            handleCodeInApp: true,\r\n            iOS: {\r\n                bundleId: 'com.example.ios'\r\n            },\r\n            android: {\r\n                packageName: 'com.example.android',\r\n                installApp: true,\r\n                minimumVersion: '12'\r\n            },\r\n            // dynamicLinkDomain: 'https://jiva-website-405ed.web.app/'\r\n        })\r\n            .then(function () {\r\n                // The link was successfully sent. Inform the user.\r\n                // Save the email locally so you don't need to ask the user for it again\r\n                // if they open the link on the same device.\r\n                window.localStorage.setItem('emailForSignIn', email);\r\n                window.alert(\"Sending email link!\")\r\n            })\r\n            .catch(function (error) {\r\n                // Some error occurred, you can inspect the code: error.code\r\n                window.alert(\"An error occurred... \" + error)\r\n            });\r\n\r\n    }\r\n\r\n    function alternateInput() {\r\n        setEmailInputDisplayed(!emailInputDisplayed)\r\n        // setLinkSent(false)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                style={{\r\n                    \"maxHeight\": \"2.5em\",\r\n                    \"marginBottom\": \"-1em\",\r\n                    \"position\": \"relative\"\r\n                }}\r\n                className=\"continueEmail\"\r\n                type=\"button\"\r\n                onClick={() => alternateInput()}>\r\n                <Flexbox flexDirection=\"row\" style={{\r\n                    \"position\": \"relative\",\r\n                    \"bottom\": \".3em\",\r\n                    \"marginBottom\": \"0em\"\r\n                }}>\r\n                    <img style={{\r\n                        \"position\": \"relative\",\r\n                        \"marginRight\": '1em',\r\n                        \"bottom\": \".4em\"\r\n                    }}\r\n                        width=\"20vw\"\r\n                        height=\"auto\"\r\n                        src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/mail%202.svg?alt=media&token=445846fe-a33f-49fc-852a-3ff669194654\">\r\n                    </img>\r\n                    <p>Sign in with Email</p>\r\n                </Flexbox>\r\n            </button>\r\n            {emailInputDisplayed &&\r\n                <div className=\"centered\"\r\n                    style={{\r\n                        \"width\": `${isLargeScreen ? \"33%\" : \"66\"}`,\r\n                        \"whiteSpace\": \"nowrap\"\r\n                    }}>\r\n                    <form style={{ \"margin-top\": \"2em\" }}>\r\n                        <input\r\n                            placeholder=\"Email address\"\r\n                            className=\"emailInput\"\r\n                            type=\"text\"\r\n                            id=\"userEmail\" />\r\n                        <button\r\n                            className=\"button primary\"\r\n                            type=\"button\"\r\n                            onClick={() => sendEmail()}>Send Email Link</button>\r\n                    </form>\r\n                </div>\r\n            }\r\n            {\r\n                linkSent &&\r\n                <div\r\n                    className=\"shadowed centered\"\r\n                    style={{\r\n                        \"maxWidth\": `${isLargeScreen ? \"33%\" : \"99%\"}`,\r\n                        \"marginTop\": \"1em\",\r\n                        \"marginBottom\": `${isLargeScreen ? \"initial\" : \"2em\"}`\r\n                    }}>\r\n                    <p>Thank you, a confirmation email has been sent to your email address. Please\r\n                    follow the link to continue.\r\n                    </p>\r\n                </div>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// // After asking the user for their email.\r\n// var email = window.prompt('Please provide your email');\r\n// firebase.auth().fetchSignInMethodsForEmail(email)\r\n//     .then(function (signInMethods) {\r\n//         // This returns the same array as fetchProvidersForEmail but for email\r\n//         // provider identified by 'password' string, signInMethods would contain 2\r\n//         // different strings:\r\n//         // 'emailLink' if the user previously signed in with an email/link\r\n//         // 'password' if the user has a password.\r\n//         // A user could have both.\r\n//         if (signInMethods.indexOf(\r\n//             firebase.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD) != -1) {\r\n//             // User can sign in with email/password.\r\n//         }\r\n//         if (signInMethods.indexOf(\r\n//             firebase.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD) != -1) {\r\n//             // User can sign in with email/link.\r\n//         }\r\n//     })\r\n//     .catch(function (error) {\r\n//         // Some error occurred, you can inspect the code: error.code\r\n//     });\r\n\r\n\r\n\r\nexport default SignInWithEmail","import React, { useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\nimport firebase from \"firebase\"\r\n\r\nfunction Wishlist() {\r\n\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n\r\n    // fix how shop items are rendered, add \"wishlist\" heart button to each\r\n    // set selected items to wishlistItems, \r\n    // allow add to cart from this section\r\n\r\n    const {\r\n        fromWishlistToCart,\r\n        removeFromCart,\r\n        addToWishlist,\r\n        removeFromWishlist,\r\n        wishlistItems,\r\n        modifyWishlistCount,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        activateRemoveFromWishlistModal,\r\n        setSearchString } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setSearchString(\"\")\r\n    }, [])\r\n\r\n    if (wishlistItems.length > 0) {\r\n        console.log(wishlistItems)\r\n\r\n        return (\r\n            wishlistItems.map(item => {\r\n\r\n                // const itemToCart = [item[0], item[1], (Number(item[2]) / 100)]\r\n\r\n                let productPageLinkString = item[0].split(\" \").join(\"-\")\r\n                let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n                console.log(putBackItem)\r\n\r\n                return (\r\n                    <div className=\"column\">\r\n                        <div className=\"itemCard\">\r\n                            <Link to={`/product/${productPageLinkString}`}>\r\n                                <h3>{item[0]}</h3>\r\n                            </Link>\r\n                            <Link to={`/product/${productPageLinkString}`}>\r\n                                <img src={`${item[1]}`} width=\"100\" height=\"auto\"></img>\r\n                            </Link>\r\n                            <h4>${(Number(item[2]) / 100).toFixed(2)}</h4>\r\n                            <button className=\"userButton button primary\" type=\"button\" onClick={() => {\r\n                                removeFromWishlist(item[0]);\r\n                                activateRemoveFromWishlistModal(putBackItem)\r\n                                modifyWishlistCount(-1)\r\n                            }}>Delete</button>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        )\r\n\r\n    } else {\r\n        return (\r\n            <div>\r\n                <p>You haven't added any Favorites yet</p>\r\n                <p>Start by browsing our shop:</p>\r\n                <Link to=\"/shop\">\r\n                    <div className=\"userAccount\">\r\n                        <div className=\"itemCard\">\r\n                            <button\r\n                                className=\"userButton button primary\"\r\n                                style={{ \"height\": \"3em\" }}>Shop</button>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                <Link to=\"/account\">\r\n                    <div className=\"userAccount\">\r\n                        <div className=\"itemCard\">\r\n                            <button\r\n                                className=\"userButton button primary hollow\"\r\n                                style={{ \"height\": \"3em\" }}>Back to Account</button>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Wishlist","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport * as firebaseui from \"firebaseui\"\r\nimport { Context } from \"./Context\"\r\nimport SignInWithEmail from \"./SignInWithEmail\"\r\nimport Wishlist from \"./Wishlist\"\r\nimport { jquery } from \"jquery\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\n// import { updateStaySignedIn } from \"../functions\"\r\n\r\n\r\nfunction Account() {\r\n    const { userInfo,\r\n        setUserInfo,\r\n        anonUser,\r\n        setAnonUser,\r\n        userSignedInCount,\r\n        setUserSignedInCount,\r\n        wishlistItemCount,\r\n        handleSignOut,\r\n        setSignInUiLoaded,\r\n        signInUiLoaded,\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        accountName,\r\n        accountTitleString,\r\n        storeCredit,\r\n        setOnCheckout,\r\n        wishlistTempCache,\r\n        termsDisplay,\r\n        allowNotify,\r\n        notifyUpdated,\r\n        setNotifyUpdated,\r\n        updatesChoice,\r\n        setUpdatesChoice,\r\n        setStaySignedIn,\r\n        staySignedIn,\r\n        darkMode,\r\n        setDarkMode,\r\n        wishListDisplayed,\r\n        setWishlistDisplayed,\r\n        wishlistString,\r\n        setWishlistString,\r\n        setUseExpressMode,\r\n        itemList,\r\n        isLargeScreen,\r\n        setOnProductPage\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setOnCheckout(false)\r\n        setUseExpressMode(false)\r\n        setOnProductPage(false)\r\n    }, [])\r\n\r\n\r\n\r\n    function toggleStaySignedIn() {\r\n\r\n        let staySignedBool = document.getElementById('keepMeSignedIn').checked\r\n        console.log(staySignedBool)\r\n\r\n        if (staySignedIn == true) {\r\n            setStaySignedIn(false)\r\n            updateSignedIn(false)\r\n        } else {\r\n            setStaySignedIn(true)\r\n            updateSignedIn(true)\r\n        }\r\n\r\n        if (staySignedBool == true) {\r\n            document.getElementById('keepMeSignedIn').checked = false\r\n            document.getElementById('keepMeSignedIn').setAttribute(\"checked\", \"true\")\r\n        } else {\r\n            document.getElementById('keepMeSignedIn').checked = false\r\n            document.getElementById('keepMeSignedIn').setAttribute(\"checked\", \"false\")\r\n        }\r\n    }\r\n\r\n    const [userSignedIn, setUserSignedIn] = useState(false)\r\n    const [haveEmail, setHaveEmail] = useState(false)\r\n    const [signOutDisplay, setSignOutDisplay] = useState(false)\r\n\r\n    function toggleUpdatesBool() {\r\n\r\n\r\n        let update = document.getElementById(\"keepMeUpdated2\").checked\r\n\r\n        if (update == true) {\r\n            document.getElementById(\"keepMeUpdated2\").checked = false\r\n            document.getElementById(\"keepMeUpdated2\").setAttribute(\"checked\", \"false\")\r\n            let bool = true\r\n            firebase.functions().httpsCallable('allowNotifications')({ bool })\r\n        } else {\r\n            document.getElementById(\"keepMeUpdated2\").checked = true\r\n            document.getElementById(\"keepMeUpdated2\").setAttribute(\"checked\", \"true\")\r\n            let bool = false\r\n            firebase.functions().httpsCallable('allowNotifications')({ bool })\r\n        }\r\n\r\n\r\n\r\n\r\n        if (updatesBool == false) {\r\n            setUpdatesBool(true)\r\n        } else {\r\n            setUpdatesBool(false)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"account\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (userInfo.userEmail && !anonUser) {\r\n            setTermsDisplay(false);\r\n\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n\r\n            setUserSignedInCount(Number(userSignedInCount + 1))\r\n            setUserSignedIn(true)\r\n            setAnonUser(false)\r\n            // document.getElementById('smallSearch').style.display = \"none\"\r\n            // document.getElementById('largeSearch').style.display = \"none\"\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!userInfo.userEmail) {\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"initial\"\r\n            setTermsDisplay(true);\r\n        } else if (userInfo.userEmail && !anonUser) {\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n            setTermsDisplay(false)\r\n        }\r\n\r\n        let user = firebase.auth().currentUser\r\n\r\n        if (user) {\r\n            let email = firebase.auth().currentUser.email\r\n            if (email) {\r\n                setHaveEmail(true)\r\n            }\r\n        }\r\n\r\n    }, [userInfo])\r\n\r\n    useEffect(() => {\r\n        if (anonUser || !userInfo.userEmail) {\r\n            setTermsDisplay(true);\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"initial\"\r\n        }\r\n\r\n    }, [anonUser, userInfo])\r\n\r\n\r\n\r\n\r\n    function toggleWishList() {\r\n        (!wishListDisplayed) ?\r\n            setWishlistString(\"Hide Favorites\")\r\n            : setWishlistString(\"Favorites\")\r\n        // wishlist, even when set, will give the previous value if called within the same function\r\n        setWishlistDisplayed(!wishListDisplayed)\r\n    }\r\n\r\n\r\n\r\n    function handleReload() {\r\n        window.location.reload()\r\n    }\r\n\r\n\r\n    const [updatesBool, setUpdatesBool] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setUpdatesBool(updatesChoice)\r\n    }, [])\r\n\r\n    const [deleteModal, setDeleteModal] = useState(false)\r\n\r\n    function handleDeleteAccount() {\r\n\r\n        // firebase.functions().httpsCallable('saveDeletedUser')()\r\n\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.delete().then(function () {\r\n            // User deleted.\r\n        }).catch(function (error) {\r\n            // An error happened.\r\n        });\r\n\r\n        handleSignOut()\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////\r\n\r\n    useEffect(() => {\r\n        if (!notifyUpdated) {\r\n\r\n            setUpdatesBool(allowNotify)\r\n            setNotifyUpdated(true)\r\n            setUpdatesBool(updatesChoice)\r\n        } else {\r\n            setUpdatesBool(updatesChoice)\r\n        }\r\n    }, [])\r\n\r\n\r\n    function setDefaults() {\r\n        // let dark = document.getElementById(\"dMode\")\r\n        let sign = document.getElementById(\"keepMeSignedIn\")\r\n        let up = document.getElementById(\"keepMeUpdated2\")\r\n\r\n        // if (darkMode) {\r\n        //     dark.checked = true\r\n        //     dark.setAttribute(\"checked\", \"true\")\r\n        // } else {\r\n        //     dark.checked = false\r\n        //     dark.setAttribute(\"checked\", \"false\")\r\n        // }\r\n\r\n        if (staySignedIn) {\r\n            sign.checked = true\r\n            sign.setAttribute(\"checked\", \"true\")\r\n        } else {\r\n            sign.checked = false\r\n            sign.setAttribute(\"checked\", \"false\")\r\n        }\r\n\r\n        if (allowNotify) {\r\n            up.checked = true\r\n            up.setAttribute(\"checked\", \"true\")\r\n        } else {\r\n            up.checked = false\r\n            up.setAttribute(\"checked\", \"false\")\r\n        }\r\n\r\n        // console.log(dark)\r\n        console.log(sign)\r\n        console.log(up)\r\n    }\r\n\r\n\r\n\r\n    function updateSignedIn(bool) {\r\n        firebase.functions().httpsCallable(\"updateStaySignedIn\")({ bool })\r\n    }\r\n\r\n\r\n    if (\r\n        (((userInfo.userEmail || haveEmail) && !(anonUser))\r\n            && (!(userInfo.providerId == 'firebase') && !(userInfo.displayName == 'firebase')))\r\n        || (userInfo.providerId == \"twitter.com\")\r\n    ) {\r\n\r\n        return (\r\n            <div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Account</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div\r\n                    className=\"shadowed\"\r\n                    style={{\r\n                        \"padding\": \"2em\",\r\n                        \"maxWidth\": \"92%\",\r\n                        \"margin-left\": \"4vw\",\r\n                        \"height\": `${isLargeScreen ? \"auto\" : \"90em\"}`\r\n                    }}>\r\n                    <h2>{accountTitleString}</h2>\r\n                    <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"} className=\"centered\" style={{\r\n                        \"left\": \"8vw\",\r\n                        \"boxSize\": \"border-box\"\r\n                    }}>\r\n                        <Flexbox flexDirection=\"column\" style={{\r\n                            \"maxWidth\": `${isLargeScreen ? \"33%\" : \"100%\"}`,\r\n                            \"padding\": \"5vw\",\r\n                            \"box-shadow\": \"0px 0px 5px white\",\r\n                            // \"margin-left\": `${!isLargeScreen && \"2em\"}`,\r\n                            \"width\": `${isLargeScreen ? \"33%\" : \"99%\"}`\r\n                        }}>\r\n                            <div>\r\n                                <h4>You are signed in as:</h4>\r\n                                <div className=\"userAccount\">\r\n                                    <h2 className=\"userInfo\">{userInfo.displayName}</h2>\r\n                                    <h2 className=\"userInfo\">{userInfo.userEmail}</h2>\r\n                                    <h2 className=\"userInfo\">{userInfo.providerId}</h2>\r\n                                    <img className=\"accountPhoto\" src={userInfo.photoURL} />\r\n                                    <div className=\"itemCard\">\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            {(signOutDisplay) && <div className=\"itemOptionsModal\" id=\"signOutModal\"\r\n                                style={{ \"left\": `${isLargeScreen ? \"30w\" : \"5vw\"}` }}>\r\n                                <p>Are you sure you want to sign out?</p>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"itemOptionsModalButton button primary\"\r\n                                    id=\"signOutModalButton\"\r\n                                    style={{ \"margin\": \"1em\" }}\r\n                                    onClick={() => {\r\n                                        setSignOutDisplay(false);\r\n                                        handleSignOut();\r\n                                    }}>Yes</button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"itemOptionsModalButton button primary\"\r\n                                    id=\"signOutModalButton\"\r\n                                    style={{ \"margin\": \"1em\" }}\r\n                                    onClick={() => setSignOutDisplay(false)}>No</button>\r\n                            </div>}\r\n                            {deleteModal && <div>\r\n                                <h3>Are you sure you want to delete your account? All your information will be lost.</h3>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                        {\r\n                                            setDeleteModal(false);\r\n                                            handleDeleteAccount()\r\n                                        }\r\n                                    }}\r\n                                >Delete Account</button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                        setDeleteModal(false)\r\n                                    }}\r\n                                >No Thanks </button>\r\n                            </div>}\r\n                            <br></br>\r\n                            <br></br>\r\n                            {((storeCredit > 0) && !termsDisplay) &&\r\n                                <span\r\n                                    data-tooltip class=\"top\"\r\n                                    tabindex=\"2\"\r\n                                    title=\"You've got store credit from your return order!\">\r\n                                    <p>Your Store Credit: ${(Number(storeCredit) / 100).toFixed(2)}</p>\r\n                                </span>\r\n                            }\r\n                            <div>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"userButton button primary\"\r\n                                    style={{ \"maxWidth\": `${isLargeScreen && \"90%\"}` }}\r\n                                    onClick={() => setSignOutDisplay(true)}>Sign Out</button>\r\n                            </div>\r\n                        </Flexbox >\r\n                        <Flexbox flexDirection=\"column\"\r\n                            style={{\r\n                                \"maxWidth\": `${isLargeScreen ? \"33%\" : \"120%\"}`,\r\n                                \"padding-left\": `${isLargeScreen ? \"5vw\" : \"0vw\"}`,\r\n                                \"padding-right\": `${isLargeScreen ? \"5vw\" : \"0vw\"}`,\r\n                                \"padding-top\": `${isLargeScreen ? \"5vw\" : \"1em\"}`,\r\n                                \"padding-bottom\": `${isLargeScreen ? \"5vw\" : \"0vw\"}`\r\n                            }}>\r\n                            <div>\r\n                                <Link to=\"/my-orders\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        style={{\r\n                                            \"fontSize\": \"x-large\",\r\n                                            \"width\": `${isLargeScreen ? \"auto\" : \"10em\"}`,\r\n                                            \"height\": `${isLargeScreen ? \"auto\" : \"4em\"}`,\r\n                                            \"right\": `${isLargeScreen ? \"\" : \".5em\"}`\r\n                                            // \"height\": `${isLargeScreen ? \"auto\" : \"3em\"}`\r\n                                        }}\r\n                                        className=\"userButton button primary\">\r\n                                        <Flexbox flexDirection=\"row\">\r\n                                            <img\r\n                                                width={`${isLargeScreen ? \"30%\" : \"20%\"}`}\r\n                                                height=\"auto\"\r\n                                                style={{\r\n                                                    \"bottom\": \".2em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    \"right\": \".5em\",\r\n\r\n                                                }}\r\n                                                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/box%20white.svg?alt=media&token=eae805e2-1e2e-4cd7-bb81-b356955b4a4c\" />\r\n                                            <p style={{\r\n                                                \"top\": \".5em\",\r\n                                                // \"margin-bottom\": \"-1em\",\r\n                                                \"position\": \"relative\",\r\n                                                \"white-space\": \"nowrap\"\r\n                                            }}>Your Orders</p>\r\n                                        </Flexbox>\r\n                                    </button>\r\n                                </Link>\r\n                            </div>\r\n                            <Link to=\"/favorites\">\r\n                                <button\r\n                                    style={{\r\n                                        \"fontSize\": \"x-large\",\r\n                                        \"width\": `${isLargeScreen ? \"auto\" : \"10em\"}`,\r\n                                        \"height\": `${isLargeScreen ? \"auto\" : \"4em\"}`,\r\n                                        \"right\": `${isLargeScreen ? \"\" : \".5em\"}`\r\n                                    }}\r\n                                    type=\"button\"\r\n                                    className=\"userButton button primary\"\r\n                                // onClick={() => toggleWishList()}\r\n                                >\r\n                                    <Flexbox flexDirection=\"row\">\r\n                                        <img\r\n                                            width={`${isLargeScreen ? \"30%\" : \"20%\"}`}\r\n                                            height=\"auto\"\r\n                                            style={{\r\n                                                \"bottom\": \".2em\",\r\n                                                \"position\": \"relative\",\r\n                                                \"right\": \".5em\"\r\n                                            }}\r\n                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20trans%20white%20border%202.svg?alt=media&token=db6c4320-c1e5-4683-873b-8683e83a4f14\" />\r\n                                        <p style={{\r\n                                            \"top\": \".5em\",\r\n                                            // \"margin-bottom\": \"-1em\",\r\n                                            \"position\": \"relative\"\r\n                                        }}>{wishlistString}</p>\r\n                                    </Flexbox>\r\n                                </button>\r\n                            </Link>\r\n                            {isLargeScreen && <span style={{\r\n                                \"display\": \"inline\",\r\n                                // \"textAlign\": \"left\",\r\n                                \"padding-right\": \"5vw\",\r\n                                \"padding-top\": \"5vw\",\r\n                                \"padding-bottom\": \"5vw\",\r\n                                \"right\": \"1em\",\r\n                                \"maxWidth\": \"140%\",\r\n                                \"width\": \"140%\"\r\n                            }}>\r\n                                <p style={{\r\n                                    \"textAlign\": \"left\"\r\n                                }}>Keep me updated about special events and offers from Jiva Fashions</p>\r\n                                <div class=\"switch\">\r\n                                    <input\r\n                                        name=\"keepMeUpdated2\"\r\n                                        class=\"switch-input\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"keepMeUpdated2\"\r\n                                        checked={updatesBool}\r\n                                        onClick={() => { toggleUpdatesBool() }}></input>\r\n                                    <label class=\"switch-paddle\" for=\"keepMeUpdated2\">\r\n                                        <span class=\"show-for-sr\">Keep me updated about special events and offers from Jiva Fashions</span>\r\n                                    </label>\r\n                                </div>\r\n                            </span>}\r\n\r\n                        </Flexbox>\r\n                        <Flexbox\r\n                            flexDirection=\"column\"\r\n                            style={{\r\n                                \"maxWidth\": `${isLargeScreen ? \"33%\" : \"100%\"}`,\r\n                                \"padding-left\": `${isLargeScreen ? \"10vw\" : \"4vw\"}`,\r\n                                \"padding-right\": \"5vw\",\r\n                                \"left\": `${isLargeScreen ? \"5vw\" : \"-.6em\"}`,\r\n                                \"top\": \"-10em\"\r\n                            }}>\r\n                            {!isLargeScreen && <span style={{\r\n                                \"display\": \"inline\",\r\n                                // \"textAlign\": \"left\",\r\n                                \"padding-right\": \"5vw\",\r\n                                \"padding-top\": \"5vw\",\r\n                                \"padding-bottom\": \"5vw\",\r\n                                \"right\": \"1em\",\r\n                                \"maxWidth\": \"140%\",\r\n                                \"width\": \"140%\",\r\n                                \"top\": \"16em\",\r\n                                \"position\": 'relative'\r\n                            }}>\r\n                                <p style={{\r\n                                    \"textAlign\": \"left\"\r\n                                }}>Keep me updated about special events and offers from Jiva Fashions</p>\r\n                                <div class=\"switch\">\r\n                                    <input\r\n                                        name=\"keepMeUpdated2\"\r\n                                        class=\"switch-input\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"keepMeUpdated2\"\r\n                                        checked={updatesBool}\r\n                                        onClick={() => { toggleUpdatesBool() }}></input>\r\n                                    <label class=\"switch-paddle\" for=\"keepMeUpdated2\">\r\n                                        <span class=\"show-for-sr\">Keep me updated about special events and offers from Jiva Fashions</span>\r\n                                    </label>\r\n                                </div>\r\n                            </span>}\r\n                            {!isLargeScreen && <div style={{\r\n                                // \"top\": \"-7em\"\r\n                            }}>\r\n                                <Link to=\"/cart\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        style={{\r\n                                            \"fontSize\": \"x-large\",\r\n                                            \"top\": \"8.6em\",\r\n                                            \"margin-top\": `${isLargeScreen ? \"-28em\" : \"-27em\"}`,\r\n                                            \"maxWidth\": `${isLargeScreen ? \"127%\" : \"10em\"}`,\r\n                                            \"width\": \"127%\",\r\n                                            \"position\": \"relative\",\r\n                                            \"height\": \"4em\",\r\n                                            \"right\": \".5em\"\r\n                                        }}\r\n                                        className=\"userButton button primary\" >\r\n\r\n                                        <Flexbox flexDirection=\"row\">\r\n                                            <img\r\n                                                width={`${isLargeScreen ? \"30%\" : \"22%\"}`}\r\n                                                height=\"auto\"\r\n                                                style={{\r\n                                                    \"bottom\": \".4em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    \"right\": \".5em\",\r\n                                                    \"maxWidth\": `${isLargeScreen ? \"140%\" : \"10em\"}`,\r\n                                                    \"height\": `${isLargeScreen ? \"auto\" : \"3em\"}`,\r\n                                                    \"marginLeft\": `${isLargeScreen ? \"initial\" : \"1em\"}`\r\n                                                }}\r\n                                                src='https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-white-2.svg?alt=media&token=f1c5ead8-3f11-40f4-ae15-77cb2ec07553' />\r\n                                            <p style={{\r\n                                                \"top\": \".5em\",\r\n                                                // \"margin-bottom\": \"-1em\",\r\n                                                \"position\": \"relative\",\r\n                                                \"white-space\": \"nowrap\"\r\n                                            }}>View Cart</p>\r\n                                        </Flexbox>\r\n                                    </button>\r\n                                </Link>\r\n                            </div>}\r\n                            <div className=\"userAccount\">\r\n                                <div className=\"itemCard\">\r\n                                    <Link to={`${(itemList.length > 0) ? \"/checkout\" : \"/cart\"}`}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            style={{\r\n                                                \"fontSize\": \"x-large\",\r\n                                                \"top\": `${isLargeScreen ? \"1em\" : \"5em\"}`,\r\n                                                \"margin-top\": \"-13em\",\r\n                                                \"margin-bottom\": \"0em\",\r\n                                                \"maxWidth\": `${isLargeScreen ? \"140%\" : \"10em\"}`,\r\n                                                \"width\": `${isLargeScreen ? \"140%\" : \"10em\"}`,\r\n                                                \"position\": \"relative\",\r\n                                                \"right\": `${isLargeScreen ? \"\" : \".5em\"}`,\r\n                                                \"height\": `${isLargeScreen ? \"auto\" : \"4.5em\"}`,\r\n                                                // \"marginLeft\": `${isLargeScreen ? \"initial\" : \"1em\"}`\r\n\r\n                                            }}\r\n                                            className=\"userButton button success\"\r\n                                            onClick={() => {\r\n                                                setUseExpressMode(true)\r\n                                            }} >\r\n                                            <Flexbox flexDirection=\"row\">\r\n                                                <img\r\n                                                    width={`${isLargeScreen ? \"30%\" : \"22%\"}`}\r\n                                                    height=\"auto\"\r\n                                                    style={{\r\n                                                        \"bottom\": \".2em\",\r\n                                                        \"position\": \"relative\",\r\n                                                        \"right\": \".5em\"\r\n                                                    }}\r\n                                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/bag%202.svg?alt=media&token=cad5affb-bb16-4470-a3aa-4c7df27b6988\" />\r\n                                                <p style={{\r\n                                                    \"top\": \".5em\",\r\n                                                    // \"margin-bottom\": \"-1em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    \"white-space\": \"nowrap\"\r\n                                                }}>Checkout Now</p>\r\n                                            </Flexbox>\r\n                                        </button>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                            {isLargeScreen && <div style={{\r\n                                \"top\": \"-7em\"\r\n                            }}>\r\n                                <Link to=\"/cart\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        style={{\r\n                                            \"fontSize\": \"x-large\",\r\n                                            \"top\": \"3em\",\r\n                                            \"margin-top\": `${isLargeScreen ? \"-28em\" : \"-27em\"}`,\r\n                                            \"maxWidth\": `${isLargeScreen ? \"150%\" : \"13em\"}`,\r\n                                            \"width\": \"150%\",\r\n                                            \"position\": \"relative\"\r\n                                        }}\r\n                                        className=\"userButton button primary\" >\r\n\r\n                                        <Flexbox flexDirection=\"row\">\r\n                                            <img\r\n                                                width=\"30%\"\r\n                                                height=\"auto\"\r\n                                                style={{\r\n                                                    \"bottom\": \".2em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    \"right\": \".5em\",\r\n                                                    \"height\": `${isLargeScreen ? \"auto\" : \"3em\"}`,\r\n                                                    \"marginLeft\": `${isLargeScreen ? \"initial\" : \"1em\"}`\r\n                                                }}\r\n                                                src='https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-white-2.svg?alt=media&token=f1c5ead8-3f11-40f4-ae15-77cb2ec07553' />\r\n                                            <p style={{\r\n                                                \"top\": \".5em\",\r\n                                                // \"margin-bottom\": \"-1em\",\r\n                                                \"position\": \"relative\",\r\n                                                \"white-space\": \"nowrap\"\r\n                                            }}>View Cart</p>\r\n                                        </Flexbox>\r\n                                    </button>\r\n                                </Link>\r\n                            </div>}\r\n                            <div style={{\r\n                                \"top\": `${isLargeScreen ? \"-7.75em\" : \"26em\"}`,\r\n                                \"bottom\": `${isLargeScreen ? \"9em\" : \"-15em\"}`,\r\n                                \"position\": \"relative\"\r\n                            }}>\r\n                                <span style={{\r\n                                    \"display\": \"inline\",\r\n                                    // \"padding\": \"5vw\",\r\n                                    \"margin-top\": \"-31em\",\r\n                                    \"top\": \"-14.5em\",\r\n                                    \"left\": `${isLargeScreen ? \"\" : \".85em\"}`,\r\n                                    \"bottom\": `${isLargeScreen ? \"20em\" : \"-7.5em\"}`,\r\n                                    \"position\": `${isLargeScreen ? \"\" : \"relative\"}`\r\n                                }}>\r\n                                    <p>Keep me signed in</p>\r\n                                    <div class=\"switch\">\r\n                                        <input\r\n                                            name=\"keepMeSignedIn\"\r\n                                            class=\"switch-input\"\r\n                                            type=\"checkbox\"\r\n                                            id=\"keepMeSignedIn\"\r\n                                            checked={staySignedIn}\r\n                                            onClick={() => {\r\n                                                toggleStaySignedIn();\r\n                                            }}\r\n                                        ></input>\r\n                                        <label class=\"switch-paddle\" for=\"keepMeSignedIn\">\r\n                                            <span class=\"show-for-sr\">Keep me signed in</span>\r\n                                        </label>\r\n                                    </div>\r\n                                </span>\r\n                            </div>\r\n                        </Flexbox>\r\n                    </Flexbox>\r\n                    <Flexbox flexDirection=\"column\">\r\n                        <button\r\n                            type=\"button\"\r\n                            id=\"deleteAccountButton\"\r\n                            className=\"userButton button secondary\"\r\n                            style={{\r\n                                \"maxWidth\": `${isLargeScreen ? \"10%\" : \"100%\"}`,\r\n                                \"float\": \"right\",\r\n                                \"top\": `${isLargeScreen ? \"10em\" : \"15em\"}`,\r\n                                \"margin-top\": \"10em\",\r\n                                \"width\": `${isLargeScreen ? \"10%\" : \"10em\"}`,\r\n                                \"position\": `${isLargeScreen ? \"\" : \"relative\"}`\r\n                            }}\r\n                            onClick={() => { setDeleteModal(true) }}>Delete Account</button>\r\n\r\n                    </Flexbox>\r\n                </div>\r\n                <RecentlyViewed />\r\n                <br></br>\r\n                <nav className=\"darkNav\"\r\n                    onLoad={() => {\r\n                        setDefaults()\r\n                    }}\r\n                    aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Account</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div >\r\n        )\r\n    } else if (anonUser) {\r\n        return (\r\n            <div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Account</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <h1>Account</h1>\r\n                {/* <div className=\"shadowed centered\" style={{\r\n                    // \"borderRadius\": \"25vw\",\r\n                    \"position\": \"absolute\",\r\n                    \"height\": \"70%\",\r\n                    \"zIndex\": \"30\",\r\n                    \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                    \"top\": \"40%\",\r\n                    \"left\": \"35vw\"\r\n                }}></div> */}\r\n                <div className=\"text-center centered\">\r\n                    <h4 style={{\r\n                        \"background-color\": \"#565759\",\r\n                        \"padding\": \".25em\",\r\n                        \"border-radius\": \"13px\",\r\n                        \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                        \"zIndex\": \"86\",\r\n                        \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\r\n                        \"position\": \"relative\"\r\n                    }}>You are browsing as a guest.</h4>\r\n                </div>\r\n                <SignInWithEmail style={{ \"zIndex\": \"86\" }} />\r\n            </div>\r\n        )\r\n    } else if (!userSignedIn || !firebase.auth().currentUser) {\r\n\r\n\r\n        return (\r\n\r\n            <div>\r\n                <h1>Account</h1>\r\n                <h2>Choose a sign-in method below:</h2>\r\n                {/* <div className=\"shadowed centered\" style={{\r\n                    // \"borderRadius\": \"25vw\",\r\n                    \"position\": \"absolute\",\r\n                    \"height\": \"70%\",\r\n                    \"zIndex\": \"30\",\r\n                    \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\r\n                    \"top\": \"40%\",\r\n                    \"left\": \"35vw\"\r\n                }}></div> */}\r\n                <SignInWithEmail />\r\n                {/* <div id=\"firebaseui-auth-container\"></div> */}\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Account</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div >\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div>\r\n\r\n                <h2>One moment please...</h2>\r\n                <div class=\"text-center\">\r\n                    <div class=\"spinner-border\" role=\"status\"></div>\r\n                </div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Account</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Account\r\n// includes to firebase auth UI ID.\r\n","import React, { useContext, useEffect } from \"react\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\nfunction ReturnPolicy() {\r\n\r\n    const {\r\n        setOnCheckout,\r\n        setOnProductPage,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setOnCheckout(false)\r\n        setOnProductPage(false)\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n    if (isLargeScreen) {\r\n\r\n        return (\r\n            <div className=\"centered\" style={{\r\n                \"background-color\": \"black\",\r\n                \"box-shadow\": \"0px 0px 5px white\",\r\n                \"width\": \"75vw\"\r\n            }}>\r\n                <div className=\"media-object\">\r\n                    <div className=\"media-object-section\">\r\n                        <h1>Return Policy</h1>\r\n\r\n                    </div>\r\n                    <div className=\"media-object-section\"\r\n                        style={{\r\n                            \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`\r\n                        }}>\r\n                        <p>Not in love with your purchase? That's okay. If you aren't satisfied,\r\n                        neither are we. If your item has not yet shipped, you will receive\r\n                        a full refund. If your order has shipped, but it's still within the 60 days of our return policy,\r\n                        you can ship your items back free of charge. We will provide you\r\n                    with either an exchange or store credit, whichever you prefer.</p>\r\n                        <br></br>\r\n                        <p>If you decide to return your items, please use the same packaging.\r\n                    A return slip and a shipping label will be included with your items.</p>\r\n                        <br></br>\r\n                        <p>If you have any questions or concerns regarding your return,\r\n                        feel free to call or text (504)-616-6756 or email us at\r\n            <a href=\"mailto:jivasoriginals@gmail.com\"> jivasoriginals@gmail.com</a>. You can expect to hear back from us\r\n                within 3 business days. </p>\r\n\r\n                    </div>\r\n                </div>\r\n                <br></br>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"centered\" style={{\r\n                \"background-color\": \"black\",\r\n                \"box-shadow\": \"0px 0px 5px white\",\r\n                \"width\": \"75vw\"\r\n            }}>\r\n                <Flexbox flexDirection=\"column\">\r\n                    <div>\r\n                        <h1>Return Policy</h1>\r\n\r\n                    </div>\r\n                    <div style={{\r\n                        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`\r\n                    }}>\r\n                        <p>Not in love with your purchase? That's okay. If you aren't satisfied,\r\n                        neither are we. If your item has not yet shipped, you will receive\r\n                        a full refund. If your order has shipped, but it's still within the 60 days of our return policy,\r\n                        you can ship your items back free of charge. We will provide you\r\n                        with either an exchange or store credit, whichever you prefer.</p>\r\n                        <br></br>\r\n                        <p>If you decide to return your items, please use the same packaging.\r\n                         A return slip and a shipping label will be included with your items.</p>\r\n                        <br></br>\r\n                        <p>If you have any questions or concerns regarding your return,\r\n                        feel free to call or text (504)-616-6756 or email us at\r\n                          <a href=\"mailto:jfalconmusik.marketing@gmail.com\"> jfalconmusik.marketing@gmail.com</a>. You can expect to hear back from us\r\n                           within 3 business days. </p>\r\n\r\n                    </div>\r\n                </Flexbox>\r\n                <br></br>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ReturnPolicy","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n// import { tns } from \"tiny-slider\"\r\n// import { slick } from \"slick-carousel\"\r\nimport ReturnPolicy from \"./ReturnPolicy\"\r\nimport { Context } from \"./Context\"\r\n// requires a loader\r\nimport Carousel from 'react-responsive-carousel';\r\n// import Carousel from \"@brainhubeu/react-carousel\"\r\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext } from 'pure-react-carousel';\r\n// import jQuery from \"jquery\"\r\nimport Glide from \"@glidejs/glide\"\r\nimport { Accordion, AccordionItem, AccordionContent } from \"react-foundation\"\r\n// import \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\n// import 'pure-react-carousel/dist/react-carousel.es.css';\r\n// import '@brainhubeu/react-carousel/lib/style.css';\r\nimport AliceCarousel, { slidePrev, slideNext } from 'react-alice-carousel'\r\nimport 'react-alice-carousel/lib/alice-carousel.css'\r\nimport Flexbox from \"flexbox-react\"\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\n// import TouchCarousel from 'react-touch-carousel'\r\n\r\n\r\nfunction Home() {\r\n\r\n    // const $ = jQuery.default;\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        setOnCheckout,\r\n        isLargeScreen,\r\n        setIsLargeScreen,\r\n        setSearchString,\r\n        sidebarOpen,\r\n        toggleMenu,\r\n        setToggleMenu,\r\n        toggleString,\r\n        setToggleString,\r\n        handleToggleMenu,\r\n        setOnProductPage,\r\n        homeLoaded,\r\n        setHomeLoaded,\r\n        incrementHome\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setSearchString(\"\")\r\n        setTermsDisplay(false)\r\n        setRouterString(\"home\")\r\n        setOnCheckout(false)\r\n        setOnProductPage(false)\r\n\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\";\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n\r\n\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    const [isMobile, setIsMobile] = useState(false)\r\n\r\n    const [counter, setCounter] = useState(0)\r\n\r\n    useEffect(() => {\r\n        window.scroll(0, 200);\r\n        incrementHome()\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const [topsPhoto, setTopsPhoto] = useState(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20long%20sleeve%20x%20top%20IMG_1243.jpg?alt=media&token=ee4f33f6-5ca4-48a0-904c-0f4a7e5907c4\")\r\n\r\n    useEffect(() => {\r\n        if (isLargeScreen) {\r\n            setTopsPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20long%20sleeve%20x%20top%20IMG_1243.jpg?alt=media&token=ee4f33f6-5ca4-48a0-904c-0f4a7e5907c4\")\r\n        } else {\r\n            setTopsPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20long%20sleeve%20x%20top%20IMG_1243%20-%20Copy.png?alt=media&token=19362f2a-ef30-4555-94ef-6ec3e4800157\")\r\n        }\r\n\r\n\r\n    }, [isLargeScreen, homeLoaded])\r\n\r\n\r\n\r\n    const [beautifulDriaPhoto, setBeautifulDriaPhoto] = useState(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70346107_2503742322981878_8139699380883030016_o.jpg?alt=media&token=021e7085-75ff-47c7-8e09-739326bcb5b9\")\r\n\r\n    useEffect(() => {\r\n        if (isLargeScreen) {\r\n            setBeautifulDriaPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70346107_2503742322981878_8139699380883030016_o.jpg?alt=media&token=021e7085-75ff-47c7-8e09-739326bcb5b9\")\r\n        } else {\r\n            setBeautifulDriaPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70346107_2503742322981878_8139699380883030016_o%20(2).jpg?alt=media&token=38319a3b-4d5b-43b1-a23e-89409f72813b\")\r\n        }\r\n\r\n    }, [isLargeScreen, homeLoaded])\r\n\r\n    function handleOnDragStart(e) {\r\n        e.preventDefault()\r\n    }\r\n\r\n    const [landingPhoto, setLandingPhoto] = useState(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/best%20cover%20photo%202%20(2).jpg?alt=media&token=3670d217-2999-41ab-b7dd-5141e67f620c\")\r\n\r\n    useEffect(() => {\r\n        if (isLargeScreen) {\r\n            setLandingPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/best%20cover%20photo%202%20(2).jpg?alt=media&token=3670d217-2999-41ab-b7dd-5141e67f620c\")\r\n        } else {\r\n            setLandingPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/best%20cover%20photo%202%20-%20Copy%20(2).jpg?alt=media&token=54bf23d3-2ef4-4b65-b27f-d824f3c9e9f8\")\r\n        }\r\n\r\n    }, [isLargeScreen, homeLoaded])\r\n\r\n    useEffect(() => {\r\n        window.mobileCheck = function () {\r\n            let check = false;\r\n            (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n            if (check == true) {\r\n                setIsMobile(true)\r\n                setLandingPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/best%20cover%20photo%202%20-%20Copy%20(2).jpg?alt=media&token=54bf23d3-2ef4-4b65-b27f-d824f3c9e9f8\")\r\n                setBeautifulDriaPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70346107_2503742322981878_8139699380883030016_o%20(2).jpg?alt=media&token=38319a3b-4d5b-43b1-a23e-89409f72813b\")\r\n                setTopsPhoto(\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20long%20sleeve%20x%20top%20IMG_1243%20-%20Copy.png?alt=media&token=19362f2a-ef30-4555-94ef-6ec3e4800157\")\r\n            } else {\r\n                setIsMobile(false)\r\n            }\r\n            return check;\r\n        };\r\n    }, [counter])\r\n\r\n\r\n    useEffect(() => {\r\n        if (isMobile) {\r\n            setIsLargeScreen(false)\r\n            // setCurrentIndex(1)\r\n        }\r\n    }, [isMobile])\r\n\r\n    function handleToggle() {\r\n        let panel = document.getElementById('panel')\r\n        if (panel.style.maxHeight) {\r\n            panel.style.maxHeight = null;\r\n        } else {\r\n            panel.style.maxHeight = panel.scrollHeight + \"px\";\r\n        }\r\n    }\r\n\r\n\r\n    function handleSlide(direction) {\r\n\r\n        let carousel = document.getElementById('carousel')\r\n\r\n        if (direction == \"prev\") {\r\n            carousel.slidePrev()\r\n        } else if (direction == \"next\") {\r\n            carousel.slideNext()\r\n        }\r\n    }\r\n\r\n\r\n    const [currentIndex, setCurrentIndex] = useState(0)\r\n\r\n    function handleCurrentIndex(direction) {\r\n        if (direction == \"next\") {\r\n            if (currentIndex < 2) {\r\n                setCurrentIndex(Number(currentIndex + 1))\r\n            } else {\r\n                setCurrentIndex(0)\r\n            }\r\n        } else {\r\n            if (currentIndex > 0) {\r\n                setCurrentIndex(Number(currentIndex - 1))\r\n            } else {\r\n                setCurrentIndex(2)\r\n            }\r\n        }\r\n    }\r\n    const listOfData = [\r\n        // your data array here\r\n    ]\r\n\r\n    function CarouselContainer(props) {\r\n        // render the carousel structure\r\n    }\r\n\r\n    function renderCard(index, modIndex, cursor) {\r\n        const item = listOfData[modIndex]\r\n        // render the item\r\n    }\r\n\r\n\r\n    return (\r\n        <div\r\n            onLoad={() => { incrementHome(); setCounter(Number(counter + 1)) }}\r\n            onTouchStart={() => { incrementHome() }}>\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Home</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <img\r\n                className=\"arrow\"\r\n                style={{\r\n                    \"padding\": \".5em\",\r\n                    \"left\": \"3vw\",\r\n                    \"top\": `${toggleMenu ? \"35em\" : \"30em\"}`,\r\n                    \"borderRadius\": \"50px\",\r\n                    \"backgroundColor\": \"black\",\r\n                    \"opacity\": \"0.8\",\r\n                    \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                }}\r\n                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/left%20arrow%20white.svg?alt=media&token=9f166f00-6ab3-4c6f-b889-64178ab8472a\"\r\n                onClick={() => handleCurrentIndex(\"back\")}>\r\n            </img>\r\n            <img\r\n                className=\"arrow\"\r\n                style={{\r\n                    \"padding\": \".5em\",\r\n                    \"right\": \"3vw\",\r\n                    \"top\": `${toggleMenu ? \"35em\" : \"30em\"}`,\r\n                    \"borderRadius\": \"50px\",\r\n                    \"backgroundColor\": \"black\",\r\n                    \"opacity\": \"0.8\",\r\n                    \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                }}\r\n                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/right%20arrow%20white.svg?alt=media&token=b7965e38-9e56-485d-8ead-107068ad92c4\"\r\n                onClick={() => handleCurrentIndex(\"next\")}>\r\n            </img>\r\n            <AliceCarousel\r\n                onLoad={() => { setCounter(Number(counter + 1)) }}\r\n                style={{\r\n                    \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`,\r\n                    \"zIndex\": '94',\r\n                    // 'display': `${isMobile ? \"none\" : \"initial\"}`\r\n                }}\r\n                buttonsDisabled={true}\r\n                slideToIndex={currentIndex}\r\n                id=\"aliceCarousel\"\r\n                mouseTrackingEnabled\r\n                className=\"carousel\">\r\n                <h3 style={{ \"marginBottom\": \"-5em\" }}>\r\n                    <img\r\n                        onLoad={() => { incrementHome() }}\r\n                        style={{\r\n                            \"width\": `${isLargeScreen ? \"100vw\" : \"150vw\"}`,\r\n                            \"height\": \"auto\",\r\n                            \"box-shadow\": \"0px 0px 5px white\",\r\n                            // \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`,\r\n                            // \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                        }}\r\n                        className=\"carouselDialogue thumbnail\"\r\n                        src={`${landingPhoto}`}\r\n                        onDragStart={handleOnDragStart} className=\"yours-custom-class\">\r\n                    </img>\r\n                    <Link to=\"/shop\" style={{\r\n                        \"top\": \"14em\",\r\n                        \"right\": \"37%\",\r\n                        \"z-index\": \"95\",\r\n                        \"position\": \"absolute\"\r\n                    }}>\r\n                        <button\r\n                            style={{\r\n                                \"width\": `${isLargeScreen ? \"24vw\" : \"67vw\"}`,\r\n                                \"padding-left\": \"-1em\",\r\n                                \"padding-bottom\": \"-1em\",\r\n                                \"padding-right\": \"-1em\",\r\n                                \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                \"boxShadow\": \"0px 0px 5px white\",\r\n                                \"whiteSpace\": \"nowrap\",\r\n                                \"maxWidth\": `${isLargeScreen ? \"initial\" : \"none\"}`,\r\n                                \"left\": `${isLargeScreen ? \"initial\" : \"20vw\"}`,\r\n                                \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                            }}\r\n                            type=\"button\"\r\n                            className=\"button primary centered\"\r\n                        >Shop Now, Look Gorgeous</button>\r\n                    </Link>\r\n                    <Link to=\"/\"><h3>The Jiva Team</h3></Link>\r\n                </h3>\r\n                <h3 style={{ \"marginBottom\": \"-5em\" }}>\r\n                    <Flexbox\r\n                        flexDirection=\"row\">\r\n                        <Link to=\"/shop/tops\">\r\n                            <Flexbox flexDirection=\"column\">\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    style={{\r\n                                        // \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`,\r\n                                        // \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                                    }}\r\n                                    src={topsPhoto} />\r\n                                <button type=\"button\"\r\n\r\n                                    style={{\r\n                                        // \"fontSize\": \"larger\",\r\n                                        \"bottom\": \"14em\",\r\n                                        \"left\": `${isLargeScreen ? \"9vw\" : \"12vw\"}`,\r\n                                        \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                        \"boxShadow\": \"0px 0px 5px white\",\r\n                                        \"position\": \"relative\",\r\n                                        \"margin\": \"3em\",\r\n                                        \"maxWidth\": \"7em\"\r\n                                    }} className=\"button primary centered\">{isLargeScreen ? \"Tops\" : \"Shop Tops\"}</button>\r\n                            </Flexbox>\r\n                        </Link>\r\n                        <Link\r\n                            style={{\r\n                                \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`,\r\n                                // \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`,\r\n                                // \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                            }}\r\n                            to=\"/shop/skirts\">\r\n                            <Flexbox flexDirection=\"column\">\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20pirate%20skirt%20red%20IMG_1365.jpg?alt=media&token=95f97f8c-a1c1-41d8-98d0-9f6d1a16e3c7\" />\r\n                                <button type=\"button\"\r\n\r\n                                    style={{\r\n                                        // \"fontSize\": \"larger\",\r\n                                        \"bottom\": \"14em\",\r\n                                        \"left\": \"9vw\",\r\n                                        \"fontSize\": \"medium\",\r\n                                        \"boxShadow\": \"0px 0px 5px white\",\r\n                                        \"position\": \"relative\",\r\n                                        \"margin\": \"3em\",\r\n                                        \"maxWidth\": \"7em\"\r\n                                    }} className=\"button primary centered\">Skirts</button>\r\n                            </Flexbox>\r\n                        </Link>\r\n                        <Link\r\n                            style={{\r\n                                \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                            }}\r\n                            to=\"/shop/full-sets\">\r\n                            <Flexbox flexDirection=\"column\">\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/w%20bg%20turkish%20set%20IMG_0400.JPG?alt=media&token=f14a3181-185f-46f2-9e36-196258f2d2dc\" />\r\n                                <button type=\"button\"\r\n\r\n                                    style={{\r\n                                        // \"fontSize\": \"larger\",\r\n                                        \"bottom\": \"14em\",\r\n                                        \"left\": \"9vw\",\r\n                                        \"fontSize\": \"medium\",\r\n                                        \"boxShadow\": \"0px 0px 5px white\",\r\n                                        \"position\": \"relative\",\r\n                                        \"margin\": \"3em\",\r\n                                        \"maxWidth\": \"7em\"\r\n                                    }} className=\"button primary centered\">Sets</button>\r\n                            </Flexbox>\r\n                        </Link>\r\n                    </Flexbox>\r\n                </h3>\r\n                <h3 style={{ \"marginBottom\": \"-5em\" }}>\r\n                    <Link to=\"/shop\">\r\n                        <img\r\n                            style={{\r\n                                \"width\": `${isLargeScreen ? \"100vw\" : \"150vw\"}`,\r\n                                \"height\": \"auto\",\r\n                                \"box-shadow\": \"0px 0px 5px white\",\r\n                                // \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`\r\n                            }}\r\n                            className=\"carouselDialogue thumbnail\"\r\n                            src={`${beautifulDriaPhoto}`}\r\n                            onDragStart={handleOnDragStart} className=\"yours-custom-class\">\r\n                        </img>\r\n                        {/* <h3>SALE! Braided Top Only $99</h3> */}\r\n                    </Link>\r\n                    <Link to=\"/shop\" style={{\r\n                        \"top\": \"14em\",\r\n                        \"right\": \"37%\",\r\n                        \"z-index\": \"95\",\r\n                        \"position\": \"absolute\"\r\n                    }}>\r\n                        <button\r\n                            style={{\r\n                                \"width\": `${isLargeScreen ? \"24vw\" : \"68vw\"}`,\r\n                                \"padding-left\": \"-1em\",\r\n                                \"padding-bottom\": \"-1em\",\r\n                                \"padding-right\": \"-1em\",\r\n                                \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                \"boxShadow\": \"0px 0px 5px white\",\r\n                                \"maxWidth\": `${isLargeScreen ? \"initial\" : \"none\"}`,\r\n                                \"whiteSpace\": \"nowrap\",\r\n                                \"left\": `${isLargeScreen ? \"initial\" : \"20vw\"}`,\r\n                                \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                            }}\r\n                            type=\"button\"\r\n                            className=\"button primary centered\"\r\n                        >Bring Out Your Inner Goddess</button>\r\n                    </Link>\r\n                </h3>\r\n            </AliceCarousel>\r\n            <br></br>\r\n            <div className=\"shadowed centered\">\r\n                <Flexbox\r\n                    className=\"centered\"\r\n                    style={{ \"position\": \"relative\", \"left\": `${isLargeScreen ? \"15%\" : \"2%\"}` }}\r\n                    flexDirection={`${isLargeScreen ? \"row\" : \"column\"}`}>\r\n                    <Link to=\"/shop\">\r\n                        <Flexbox flexDirection=\"column\"\r\n                            style={{ \"margin\": \"1em\" }}>\r\n                            <img\r\n                                className=\"centered thumbnail\"\r\n                                width=\"150em\"\r\n                                height=\"auto\"\r\n                                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/hp%20dress%20final%20white.svg?alt=media&token=9c6af742-7966-4490-a63b-c5e9b96887a5\" />\r\n                            <h4>Look Gorgeous</h4>\r\n                            <p>Outfits to make any day special.</p>\r\n                        </Flexbox>\r\n                    </Link>\r\n                    <Link to=\"/shop\">\r\n                        {/* eventually change this to lead elsewhere */}\r\n                        <Flexbox flexDirection=\"column\"\r\n                            style={{ \"margin\": \"1em\" }}>\r\n                            <img\r\n                                className=\"centered thumbnail\"\r\n                                width=\"150em\"\r\n                                height=\"auto\"\r\n                                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/hp%20shop%20final%20white.svg?alt=media&token=f39ea99b-a259-4525-bca7-2b6861efe459\" />\r\n                            <h4>Support Small Business</h4>\r\n                            <p>Clothing designed by artists from around the world.</p>\r\n                        </Flexbox>\r\n                    </Link>\r\n                    <Link to=\"/shop\">\r\n                        {/* eventually change this to lead elsewhere */}\r\n                        <Flexbox flexDirection=\"column\"\r\n                            style={{ \"margin\": \"1em\" }}>\r\n                            <img\r\n                                className=\"centered thumbnail\"\r\n                                width=\"150em\"\r\n                                height=\"auto\"\r\n                                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/h%20love%20final.svg?alt=media&token=e4c18e44-7cd7-4dc4-8c04-3819a05b326b\" />\r\n                            <h4>Give Back</h4>\r\n                            <p>5% of sales go to charity</p>\r\n                        </Flexbox>\r\n                    </Link>\r\n                </Flexbox>\r\n            </div>\r\n            <Link to=\"/shop\" style={{\r\n                \"position\": `${isLargeScreen ? \"sticky\" : \"absolute\"}`,\r\n                \"overflow-x\": \"visible\",\r\n                \"top\": \"30em\",\r\n                \"left\": \"90%\",\r\n                \"zIndex\": \"90\",\r\n                \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                // \"boxShadow\": \"0px 0px 3px 2px white\"\r\n                // \"boxShadow\": \"0px 10px 5px white\"\r\n            }}>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"button primary centered\"\r\n                >Shop Now</button>\r\n            </Link>\r\n            <br></br>\r\n            <div>\r\n\r\n            </div>\r\n            <br></br>\r\n            <br></br>\r\n            {/* get ready, this is where I have two versions for each box, responsive yeh: */}\r\n            {\r\n                isLargeScreen ?\r\n                    <div className=\"centered\" style={{\r\n                        \"background-color\": \"black\",\r\n                        \"box-shadow\": \"0px 0px 5px white\",\r\n                        \"width\": \"75vw\"\r\n                    }}>\r\n                        <div class=\"media-object\">\r\n                            <div class=\"media-object-section\">\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    width=\"300em\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/294835_178973432170960_976701_n.jpg?alt=media&token=18a7fcd3-da83-4ba2-aaa6-e6bf19d1bb3c\"\r\n                                />\r\n                            </div>\r\n                            <div class=\"media-object-section\">\r\n                                <h4 onLoad={() => incrementHome()}>Our Story</h4>\r\n                                <p>Jiva herself was a pioneer of modern traveling theatre, performing many\r\n                                original plays at renaissance festivals around the country. Eventually\r\n                                the costumes she and her troupe wore began to get a lot of attention of their own.\r\n                                The Jiva Originals shop was born, an outlet for clothing both from around the world\r\n                                and from local seamstresses and tailors in the United States. All of our clothes are meant\r\n                                to make you feel like the star of your own play. Mixing historical and modern fashions,\r\n                                we hope to bridge the gap between our past and present.\r\n                        </p>\r\n                                <br></br>\r\n                                <p>The 3 Joys of Life:\r\n                                To know the world, to know yourself, and to look amazing while doing it!\r\n                        </p>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                        <br></br>\r\n                    </div>\r\n                    :\r\n                    <Flexbox flexDirection=\"column\" className=\"centered\" style={{\r\n                        \"background-color\": \"black\",\r\n                        \"box-shadow\": \"0px 0px 5px white\",\r\n                        \"width\": \"75vw\"\r\n                    }}>\r\n                        <img\r\n                            className=\"thumbnail\"\r\n                            width=\"300em\"\r\n                            height=\"auto\"\r\n                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/294835_178973432170960_976701_n.jpg?alt=media&token=18a7fcd3-da83-4ba2-aaa6-e6bf19d1bb3c\"\r\n                        />\r\n                        <div>\r\n                            <h4>Our Story</h4>\r\n                            <p>Jiva herself was a pioneer of modern traveling theatre, performing many\r\n                            original plays at renaissance festivals around the country. Eventually\r\n                            the costumes she and her troupe wore began to get a lot of attention of their own.\r\n                            The Jiva Originals shop was born, an outlet for clothing both from around the world\r\n                            and from local seamstresses and tailors in the United States. All of our clothes are meant\r\n                            to make you feel like the star of your own theatre. Mixing historical and modern fashions,\r\n                            we hope to bridge the gap between who we are today and who we can be tomorrow.\r\n                        </p>\r\n                            <br></br>\r\n                            <p>The 3 Joys of Life:\r\n                            To know the world, to know yourself, and to look amazing while doing it!\r\n                        </p>\r\n                            <br></br>\r\n                        </div>\r\n                    </Flexbox>\r\n            }\r\n            <br></br>\r\n            {\r\n                isLargeScreen ?\r\n                    <div\r\n                        className=\"centered\"\r\n                        style={{\r\n                            \"background-color\": \"black\",\r\n                            \"box-shadow\": \"0px 0px 5px white\",\r\n                            \"width\": \"75vw\",\r\n                            \"position\": \"relative\",\r\n                            \"zIndex\": \"94\"\r\n                        }}>\r\n                        <h2>Event Schedule</h2>\r\n                        <p>Wanna shop in person? Come find us at a renaissance faire near you!</p>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"30%\",\r\n                                \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                            }}\r\n                            class=\"media-object\">\r\n                            <div class=\"media-object-section\">\r\n                                <img\r\n                                    width=\"100em\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70244366_2501612373194873_569183467091263488_n.jpg?alt=media&token=7d38652e-fe48-4cc2-84b3-f9872091f44b\"\r\n                                />\r\n                            </div>\r\n                            <div class=\"media-object-section\" style={{ \"left\": \"1em\" }}>\r\n                                <h3>{`June & July`}:</h3>\r\n                                <span>\r\n                                    <p>Colorado Renaissance Festival  <br></br> <a href=\"https://coloradorenaissance.com/tickets/\">Buy Tickets</a>\r\n                                    </p>\r\n\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"30%\"\r\n                            }}\r\n                            class=\"media-object\">\r\n                            <div class=\"media-object-section\">\r\n                                <img\r\n                                    width=\"100em\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/42887344_1953618671327582_4439089665261174784_o.jpg?alt=media&token=1fd94ca2-0042-4a3d-8322-62a30af346af\"\r\n                                />\r\n                            </div>\r\n                            <div class=\"media-object-section\">\r\n                                <h3>{`August & September`}:</h3>\r\n                                <span>\r\n                                    <p>Michigan Renaissance Festival <br></br> <a href=\"https://tickets.vendini.com/ticket-software.html?t=tix&w=52fbb7c1bb4fbf19606f318214d7b972&vqitq=c3eb8fc3-e0ed-46f3-91cf-3a677dfecad7&vqitp=ad290479-9395-4921-b92c-b993e890866b&vqitts=1593478462&vqitc=vendini&vqite=itl&vqitrt=Safetynet&vqith=09edb3976dc3b60114ff0c1d74b8c62e\">Buy Tickets</a>\r\n                                    </p>\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"30%\"\r\n                            }}\r\n                            class=\"media-object\">\r\n                            <div class=\"media-object-section\">\r\n                                <img\r\n                                    width=\"100em\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/1396816_647632598592869_748912369_o.jpg?alt=media&token=d92ae692-70c4-4fcb-bbf7-6becda76cf2d\"\r\n                                />\r\n                            </div>\r\n                            <div class=\"media-object-section\">\r\n                                <h3>{`October & November`}:</h3>\r\n                                <span>\r\n                                    <p>Texas Renaissance Festival  <br></br> <a href=\"https://www.texrenfest.com/tickets-season-passes\">Buy Tickets</a>\r\n                                    </p>\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <Flexbox\r\n                        flexDirection=\"column\"\r\n                        className=\"centered\"\r\n                        style={{\r\n                            \"background-color\": \"black\",\r\n                            \"box-shadow\": \"0px 0px 5px white\",\r\n                            \"width\": \"75vw\",\r\n                            \"position\": \"relative\"\r\n                        }}>\r\n                        <h2>Event Schedule</h2>\r\n                        <p>Wanna shop in person? Come find us at a renaissance faire near you!</p>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"5%\",\r\n                                \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                            }}>\r\n                            <div >\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    width=\"50vw\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/70244366_2501612373194873_569183467091263488_n.jpg?alt=media&token=7d38652e-fe48-4cc2-84b3-f9872091f44b\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <h3>{`June & July`}:</h3>\r\n                                <span>\r\n                                    <p>Colorado Renaissance Festival  <br></br> <a href=\"https://coloradorenaissance.com/tickets/\">Buy Tickets</a>\r\n                                    </p>\r\n\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"5%\",\r\n                                \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                            }}>\r\n                            <div>\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    width=\"50vw\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/42887344_1953618671327582_4439089665261174784_o.jpg?alt=media&token=1fd94ca2-0042-4a3d-8322-62a30af346af\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <h3>{`August & September`}:</h3>\r\n                                <span>\r\n                                    <p>Michigan Renaissance Festival <br></br> <a href=\"https://tickets.vendini.com/ticket-software.html?t=tix&w=52fbb7c1bb4fbf19606f318214d7b972&vqitq=c3eb8fc3-e0ed-46f3-91cf-3a677dfecad7&vqitp=ad290479-9395-4921-b92c-b993e890866b&vqitts=1593478462&vqitc=vendini&vqite=itl&vqitrt=Safetynet&vqith=09edb3976dc3b60114ff0c1d74b8c62e\">Buy Tickets</a>\r\n                                    </p>\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"centered\"\r\n                            style={{\r\n                                \"position\": 'relative',\r\n                                \"left\": \"5%\",\r\n                                \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\r\n                            }}>\r\n                            <div>\r\n                                <img\r\n                                    className=\"thumbnail\"\r\n                                    width=\"50vw\"\r\n                                    height=\"auto\"\r\n                                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/1396816_647632598592869_748912369_o.jpg?alt=media&token=d92ae692-70c4-4fcb-bbf7-6becda76cf2d\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <h3>{`October & November`}:</h3>\r\n                                <span>\r\n                                    <p>Texas Renaissance Festival  <br></br> <a href=\"https://www.texrenfest.com/tickets-season-passes\">Buy Tickets</a>\r\n                                    </p>\r\n                                </span>\r\n                                <br></br>\r\n                            </div>\r\n                        </div>\r\n                    </Flexbox>\r\n            }\r\n            <br></br>\r\n            <br></br>\r\n            <ReturnPolicy className=\"centered\" />\r\n            <RecentlyViewed />\r\n            <nav\r\n                style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Home</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Home","import React, { useState, useContext, useEffect } from \"react\"\r\nimport firebase from \"firebase\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\n\r\nfunction SignInSuccessful() {\r\n\r\n    const {\r\n        userSignedInCount,\r\n        setUserSignedInCount,\r\n        userInfo,\r\n        setUserInfo,\r\n        anonUser,\r\n        handleSignOut,\r\n        routerString,\r\n        setRouterString } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"signInSuccess\")\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const [error, setError] = useState(false)\r\n    const [signedIn, setSignedIn] = useState(false)\r\n\r\n    const [providerId, setProviderId] = useState(\"\")\r\n    const [uid, setUid] = useState(\"\")\r\n    const [displayName, setDisplayName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [photoURL, setPhotoURL] = useState(\"\")\r\n    const [emailSent, setEmailSent] = useState(false)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (firebase.auth().isSignInWithEmailLink(window.location.href)) {\r\n            // Additional state parameters can also be passed via URL.\r\n            // This can be used to continue the user's intended action before triggering\r\n            // the sign-in operation.\r\n            // Get the email if available. This should be available if the user completes\r\n            // the flow on the same device where they started it.\r\n            var email = window.localStorage.getItem('emailForSignIn');\r\n            if (!email) {\r\n                // User opened the link on a different device. To prevent session fixation\r\n                // attacks, ask the user to provide the associated email again. For example:\r\n                email = window.prompt('Please provide your email for confirmation');\r\n            }\r\n            // The client SDK will parse the code from the link for you.\r\n            firebase.auth().signInWithEmailLink(email, window.location.href)\r\n                .then(function (result) {\r\n                    // Clear email from storage.\r\n                    console.log(result)\r\n                    window.localStorage.removeItem('emailForSignIn');\r\n                    // You can access the new user via result.user\r\n                    // Additional user info profile not available via:\r\n                    // result.additionalUserInfo.profile == null\r\n                    // You can check if the user is new or existing:\r\n                    // result.additionalUserInfo.isNewUser\r\n                })\r\n                .catch(function (error) {\r\n                    // Some error occurred, you can inspect the code: error.code\r\n                    // Common errors could be invalid email and invalid or expired OTPs.\r\n                    setError(true)\r\n                    console.log(error)\r\n                });\r\n        }\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n\r\n    //     firebase.auth().onAuthStateChanged(function (user) {\r\n    //         if (user) {\r\n    //             // User is signed in.\r\n    //             user.providerData.forEach(function (profile) {\r\n    //                 setProviderId(profile.providerId);\r\n    //                 setUid(profile.uid);\r\n    //                 setDisplayName(profile.displayName);\r\n    //                 setUserEmail(profile.email);\r\n    //                 setPhotoURL(profile.photoURL);\r\n    //             })\r\n\r\n    //             setUserInfo({\r\n    //                 providerId,\r\n    //                 uid,\r\n    //                 displayName,\r\n    //                 userEmail,\r\n    //                 photoURL,\r\n    //                 anonUser\r\n    //             })\r\n    //             setSignedIn(true)\r\n    //         } else {\r\n    //             // No user is signed in\r\n    //             setSignedIn(false)\r\n    //         }\r\n    //     });\r\n    // },\r\n    //     [])\r\n\r\n    useEffect(() => {\r\n        setUserSignedInCount(Number(userSignedInCount + 1))\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            {error ?\r\n                <div>\r\n                    <h2>\r\n                        An error occurred. Please try again.\r\n                        Return to Sign-In:\r\n                        </h2>\r\n                    <div className=\"userAccount\">\r\n                        <div className=\"itemCard\">\r\n                            <button className=\"userButton\">\r\n                                <Link to=\"/account\">\r\n                                    <h2>Shop</h2>\r\n                                </Link>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                :\r\n                <div>\r\n                    <h2>\r\n                        Congratulations! You're now signed in.\r\n                        Continue Shopping:\r\n                        </h2>\r\n                    <div className=\"userAccount\">\r\n                        <div className=\"itemCard\">\r\n                            <Link to=\"/account\">\r\n                                <button className=\"userButton\">\r\n                                    <h2>Shop</h2>\r\n                                </button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                    {(firebase.auth().currentUser) &&\r\n                        <div className=\"userAccount\">\r\n                            <h2 className=\"userInfo\">{userInfo.displayName}</h2>\r\n                            <h2 className=\"userInfo\">{userInfo.userEmail}</h2>\r\n                            <h2 className=\"userInfo\">{userInfo.providerId}</h2>\r\n                            <img className=\"accountPhoto\" src={userInfo.photoURL} />\r\n                            <div className=\"itemCard\">\r\n                                <button type=\"button\" className=\"userButton\" onClick={() => handleSignOut()}>Sign Out</button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            }\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default SignInSuccessful","import React, { useState, useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\nimport firebase from \"firebase\"\r\n\r\nfunction SignInSuccessEmail() {\r\n\r\n    const [confirmEmail, setConfirmEmail] = useState(false)\r\n    const [emailError, setEmailError] = useState(false)\r\n    const [signUpComplete, setSignUpComplete] = useState(false)\r\n\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"signInSuccessEmail\")\r\n    }, [])\r\n\r\n\r\n    let email = window.localStorage.getItem('emailForSignIn')\r\n\r\n\r\n\r\n\r\n\r\n    function handleConfirmEmail() {\r\n\r\n        let userEmail = document.getElementById(\"emailVal\").value\r\n\r\n            (email == userEmail)\r\n            ?\r\n            setConfirmEmail(true)\r\n            :\r\n            setEmailError(true)\r\n    }\r\n\r\n    function handleFinishSignUp() {\r\n        let password = document.getElementById(\"passwordVal\").value\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then(window.localStorage.removeItem(\"emailForSignIn\"))\r\n            .then(setSignUpComplete(true))\r\n            .catch(function (error) {\r\n                // Handle Errors here.\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                // ...\r\n            });\r\n\r\n    }\r\n    // // will require a password...\r\n\r\n    // // API to sign in with email/password:\r\n\r\n\r\n\r\n    // // API to create email/password account:\r\n\r\n\r\n    // firebase.auth().createUserWithEmailAndPassword(email, password).catch(function (error) {\r\n    //     // Handle Errors here.\r\n    //     var errorCode = error.code;\r\n    //     var errorMessage = error.message;\r\n    //     // ...\r\n    // });\r\n\r\n\r\n    // // API to update email address:\r\n    // var user = firebase.auth().currentUser;\r\n\r\n    // user.updateEmail(\"user@example.com\").then(function () {\r\n    //     // Update successful.\r\n    // }).catch(function (error) {\r\n    //     // An error happened.\r\n    // });\r\n\r\n    if (!signUpComplete) {\r\n        return (\r\n            <div>\r\n                <h2>Please confirm your email address:</h2>\r\n                <input type=\"text\" id=\"emailVal\"></input>\r\n                <button type=\"button\" onClick={() => handleConfirmEmail}>Confirm Email</button>\r\n                <br></br>\r\n                {confirmEmail &&\r\n                    <div>\r\n                        <h2>Please choose a password:</h2>\r\n                        <input type=\"text\" id=\"passwordVal\"></input>\r\n                        <button type=\"button\" onClick={() => handleFinishSignUp}>Finish Sign Up</button>\r\n                    </div>}\r\n                {emailError &&\r\n                    <div>\r\n                        <h2>Your email doesn't match what we have on file. Please try again.</h2>\r\n                    </div>}\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1>Sign Up Successful!</h1>\r\n                <h2>Continue Shopping:</h2>\r\n                <Link to=\"/shop\">Shop</Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SignInSuccessEmail","import React, { useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\n\r\nfunction PrivacyPolicy() {\r\n\r\n\r\n        const {\r\n                routerString,\r\n                setRouterString,\r\n                setTermsDisplay,\r\n                setOnCheckout,\r\n                isLargeScreen,\r\n                setOnProductPage } = useContext(Context)\r\n\r\n        useEffect(() => {\r\n                setRouterString(\"privacyPolicy\")\r\n                setOnCheckout(false)\r\n                setOnProductPage(false)\r\n        }, [])\r\n\r\n        useEffect(() => {\r\n                setTermsDisplay(false);\r\n                document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n                // document.getElementById('smallSearch').style.display = \"none\"\r\n                // document.getElementById('largeSearch').style.display = \"none\"\r\n        }, [])\r\n\r\n        return (\r\n                <div>\r\n                        <nav style={{ \"marginTop\": \"1em\" }} className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                                <ul class=\"breadcrumbs\">\r\n                                        <li><Link to=\"/\">Home</Link></li>\r\n                                        <li><Link to=\"/privacy-policy\">Privacy Policy</Link></li>\r\n                                        <li>\r\n                                                <span class=\"show-for-sr\">Current: Privacy Policy</span>\r\n                                        </li>\r\n                                </ul>\r\n                        </nav>\r\n                        <div className=\"centered shadowed\" style={{\r\n                                \"position\": \"relative\",\r\n\r\n                        }}>\r\n                                <div style={{ \"left\": `${isLargeScreen ? \"30%\" : \"0%\"}` }}>\r\n                                        <h1>Jiva's Originals Privacy Policy</h1>\r\n                                        <h2>Last updated April 11, 2020</h2>\r\n                                        <br></br>\r\n                                        <h2>INTRODUCTION</h2>\r\n                                        <div style={{\r\n                                                \"left\": `${isLargeScreen ? \"25%\" : \"0%\"}`,\r\n                                                \"maxWidth\": `${isLargeScreen ? \"50%\" : \"100%\"}`,\r\n                                                \"position\": \"relative\"\r\n                                        }}>\r\n                                                <p>Jiva's Originals (we or us or our) respects the privacy of our users (user or you).\r\n                                                This Privacy Policy explains how we collect, use, disclose, and safeguard your\r\n                                                information when you visit our website Jivafashions.com, including any other media\r\n                                                form, media channel, mobile website, or mobile application related or connected\r\n                                                thereto (collectively, the Site). Please read this privacy policy carefully.\r\n                                                If you do not agree with the terms of this privacy policy, please do not access\r\n                    the site.</p>\r\n                                                <br></br>\r\n                                                <p>We reserve the right to make changes to this Privacy Policy at any time and for any\r\n                                                reason. We will alert you about any changes by updating the Last Updated date of\r\n                                                this Privacy Policy. Any changes or modifications will be effective immediately upon\r\n                                                posting the updated Privacy Policy on the Site, and you waive the right to receive\r\n                specific notice of each such change or modification.</p>\r\n                                                <br></br>\r\n                                                <p>You are encouraged to periodically review this Privacy Policy to stay informed of\r\n                                                updates. You will be deemed to have been made aware of, will be subject to, and will\r\n                                                be deemed to have accepted the changes in any revised Privacy Policy by your\r\n                continued use of the Site after the date such revised Privacy Policy is posted.</p>\r\n                                                <br></br>\r\n                                                <h2>COLLECTION OF YOUR INFORMATION</h2>\r\n                                                <br></br>\r\n                                                <p>We may collect information about you in a variety of ways.\r\n                The information we may collect on the Site includes:</p>\r\n                                                <br></br>\r\n                                                <p>Personal Data</p>\r\n                                                <br></br>\r\n                                                <p>Personally identifiable information, such as your name, shipping address, email\r\n                                                address, and telephone number, and demographic information, such as your age,\r\n                                                gender, hometown, and interests, that you voluntarily give to us when you register\r\n                                                with the Site or when you choose to participate in various activities related to the\r\n                                                Site. You are under no obligation to provide us with personal information of any kind,\r\n                however your refusal to do so may prevent you from using certain features of the Site.</p>\r\n                                                <br></br>\r\n                                                <p>Derivative Data</p>\r\n                                                <br></br>\r\n                                                <p>Information our servers automatically collect when you access the Site, such as your\r\n                                                IP address, your browser type, your operating system, your access times, and the\r\n                                                pages you have viewed directly before and after accessing the Site. If you are\r\n                                                accesing the Site on a mobile device, this information may also include your device\r\n                                                name and type, your operating system, your phone number, your country, and other\r\n                                                interactions with the application and other users via server log files, as well as\r\n                any other information you choose to provide.</p>\r\n                                                <br></br>\r\n                                                <p>Financial Data</p>\r\n                                                <br></br>\r\n                                                <p>Financial information, such as data related to your payment method\r\n                                                (e.g. valid credit card number, card brand, expiration date) that we may\r\n                                                collect when you purchase, order, return, exchange, or request information\r\n                                                about our services from the Site. We store only very limited, if any, financial\r\n                                                information that we collect. Otherwise, all financial information is stored by our\r\n                                                payment processor, Stripe, and you are encouraged to review their\r\n                privacy policy and contact them directly for responses to your questions.</p>\r\n                                                <br></br>\r\n                                                <p>Data From Social Networks</p>\r\n                                                <br></br>\r\n                                                <p>User information from social networking sites such as Facebook, including your\r\n                                                name, your social network username, location, gender, birth date, email\r\n                                                address, profile picture, and public data for contacts, if you connect your\r\n                account to such social networks.</p>\r\n                                                <br></br>\r\n                                                <p>Mobile Device Data</p>\r\n                                                <br></br>\r\n                                                <p>Device information, such as your mobile device ID, model, and manufacturer,\r\n                                                and information about the location of your device, if you access the Site\r\n                from a mobile device.</p>\r\n                                                <br></br>\r\n                                                <p>Third-Party Data</p>\r\n                                                <br></br>\r\n                                                <p>Information from third parties, such as personal information or network\r\n                                                friends, if you connect your account to the third party and grant the Site\r\n                permission to access this information.</p>\r\n                                                <br></br>\r\n                                                <p>Mobile Application Information</p>\r\n                                                <br></br>\r\n                                                <p>If you connect using our mobile application:</p>\r\n                                                <br></br>\r\n                                                <p>Geo-Location Information. We may request access or permission to and track\r\n                                                location-based information from your mobile device, either continuously or\r\n                                                while you are using our mobile application, to provide location-based services.\r\n                                                If you wish to change our access or permissions, you may do so in your devices\r\n            settings.</p>\r\n                                                <br></br>\r\n                                                <p>Mobile Device Data. We may collect device information (such as your mobile device\r\n            ID, model and manufacturer), operating system, version information and IP address.</p>\r\n                                                <br></br>\r\n                                                <p>Push Notifications. We may request to send you push notifications\r\n                                                regarding your account or the Application. If you wish to opt-out\r\n                                                from receiving these types of communications, you may turn them off in\r\n            your devices settings.</p>\r\n                                                <br></br>\r\n                                                <p>Push Notifications. We may request to send you push notifications regarding your\r\n                                                account or the Application. If you wish to opt-out from receiving these types of\r\n                communications, you may turn them off in your devices settings.</p>\r\n                                                <br></br>\r\n                                                <h2>USE OF YOUR INFORMATION</h2>\r\n                                                <br></br>\r\n                                                <p>Having accurate information about you permits us to provide you with a customized\r\n                                                experience. Specifically, we may use information collected about you via the Site\r\n                to:</p>\r\n                                                <ul>\r\n                                                        <li>Compile anonymous statistical data and analysis for use internally or with third parties.</li>\r\n                                                        <li>Create and manage your account.</li>\r\n                                                        <li>Deliver targeted advertising, coupons, newsletters, and other information regarding promotions and the Site to you.</li>\r\n                                                        <li>Email you regarding your account or order.</li>\r\n                                                        <li>Fulfill and manage purchases, orders, payments, and other transactions related to the Site and our mobile application.</li>\r\n                                                        <li>Generate a personal profile about you to make future visits to the Site more personalized.</li>\r\n                                                        <li>Increase the efficiency and operation of the Site.</li>\r\n                                                        <li>Monitor and analyze usage and trends to improve your experience with the Site.</li>\r\n                                                        <li>Notify you of updates to the Site.</li>\r\n                                                        <li>Offer new products, services, and/or recommendations to you.</li>\r\n                                                        <li>Perform other business activities as needed.</li>\r\n                                                        <li>Prevent fraudulent transactions, monitor against theft, and protect against criminal activity.</li>\r\n                                                        <li>Process payments and refunds.</li>\r\n                                                        <li>Request feedback and contact you about your use of the Site.</li>\r\n                                                        <li>Resolve disputes and troubleshoot problems.</li>\r\n                                                        <li>Respond to product and customer service requests.</li>\r\n                                                        <li>Send you a newsletter.</li>\r\n                                                        <li>Assist law enforcement and respond to subpoena.</li>\r\n                                                        <li>Solicit support for the Site.</li>\r\n                                                </ul>\r\n                                                <br></br>\r\n                                                <h2>DISCLOSURE OF YOUR INFORMATION</h2>\r\n                                                <br></br>\r\n                                                <p>We may share information we have collected about you in certain situations.\r\n                Your information may be disclosed as follows:</p>\r\n                                                <br></br>\r\n                                                <p>By Law or to Protect Rights</p>\r\n                                                <br></br>\r\n                                                <p>If we believe the release of information about you is necessary to respond to\r\n                                                legal process, to investigate or remedy potential violations of our policies, or\r\n                                                to protect the rights, property, and safety of others, we may share your information\r\n                                                as permitted or required by any applicable law, rule, or regulation. This includes\r\n                                                exchanging information with other entities for fraud protection and credit risk\r\n            reduction.</p>\r\n                                                <br></br>\r\n                                                <p>Third-Party Service Providers</p>\r\n                                                <br></br>\r\n                                                <p>We may share your information with third parties that perform services for us\r\n                                                or on our behalf, including payment processing, data analysis, email delivery,\r\n                hosting services, customer service, and marketing assistance.</p>\r\n                                                <br></br>\r\n                                                <p>Marketing Communications</p>\r\n                                                <br></br>\r\n                                                <p>With your consent, or with an opportunity for you to withdraw consent,\r\n                                                we may share your information with third parties for marketing purposes,\r\n            as permitted by law.</p>\r\n                                                <br></br>\r\n                                                <p>Third-Party Advertisers</p>\r\n                                                <br></br>\r\n                                                <p>We may use third-party advertising companies to serve ads when you visit the\r\n                                                Site. These companies may use information about your visits to the Site and\r\n                                                other websites that are contained in web cookies in order to provide advertisements\r\n                about goods and services of interest to you.</p>\r\n                                                <br></br>\r\n                                                <p>Affiliates</p>\r\n                                                <br></br>\r\n                                                <p>We may share your information with our affiliates, in which case we will\r\n                                                require those affiliates to honor this Privacy Policy. Affiliates include\r\n                                                our parent company and any subsidiaries, joint venture partners or other\r\n                companies that we control or that are under common control with us.</p>\r\n                                                <br></br>\r\n                                                <p>Business Partners</p>\r\n                                                <br></br>\r\n                                                <p>We may share your information with our business partners to offer you\r\n                certain products, services or promotions.</p>\r\n                                                <br></br>\r\n                                                <p>Other Third Parties</p>\r\n                                                <br></br>\r\n                                                <p>We may share your information with advertisers and investors for the purpose of\r\n                                                conducting general business analysis. We may also share your information with such\r\n                third parties for marketing purposes, as permitted by law.</p>\r\n                                                <br></br>\r\n                                                <p>Sale or Bankruptcy</p>\r\n                                                <br></br>\r\n                                                <p>If we reorganize or sell all or a portion of our assets, undergo a merger, or\r\n                                                are acquired by another entity, we may transfer your information to the successor\r\n                                                entity. If we go out of business or enter bankruptcy, your information would be an\r\n                                                asset transferred or acquired by a third party. You acknowledge that such transfers\r\n                                                may occur and that the transferee may decline honor commitments we made in this\r\n                Privacy Policy.</p>\r\n                                                <br></br>\r\n                                                <p>We are not responsible for the actions of third parties with whom you share personal\r\n                                                or sensitive data, and we have no authority to manage or control third-party\r\n                                                solicitations. If you no longer wish to receive correspondence, emails or other\r\n                                                communications from third parties, you are responsible for contacting the third\r\n                party directly.</p>\r\n                                                <br></br>\r\n                                                <h2>TRACKING TECHNOLOGIES</h2>\r\n                                                <br></br>\r\n                                                <p>Cookies and Web Beacons</p>\r\n                                                <br></br>\r\n                                                <p>We may use cookies, web beacons, tracking pixels, and other tracking technologies\r\n                                                on the Site to help customize the Site\r\n                                                and improve your experience. When you access the Site, your personal\r\n                                                information is not collected through the use of tracking technology. Most browsers\r\n                                                are set to accept cookies by default. You can remove or reject cookies, but be aware\r\n                                                that such action could affect the availability and functionality of the Site. You may\r\n                                                not decline web beacons. However, they can be rendered ineffective by declining all\r\n                                                cookies or by modifying your web browsers settings to notify you each time a cookie\r\n                is tendered, permitting you to accept or decline cookies on an individual basis.</p>\r\n                                                <br></br>\r\n                                                <p>Internet-Based Advertising</p>\r\n                                                <br></br>\r\n                                                <p>Additionally, we may use third-party software to serve ads on the Site and our\r\n                                                mobile application, implement email marketing campaigns, and manage other\r\n                                                interactive marketing initiatives. This third-party software may use cookies or\r\n                                                similar tracking technology to help manage and optimize your online experience with\r\n                                                us. For more information about opting-out of interest-based ads, visit the Network\r\n                Advertising Initiative Opt-Out Tool or Digital Advertising Alliance Opt-Out Tool.</p>\r\n                                                <br></br>\r\n                                                <p>Website Analytics</p>\r\n                                                <br></br>\r\n                                                <p>We may also partner with selected third-party vendors, such as Google Analytics\r\n                                                and others, to allow tracking technologies and remarketing services on the Site\r\n                                                through the use of first party cookies and third-party cookies, to, among other\r\n                                                things, analyze and track users use of the Site, determine the popularity of\r\n                                                certain content and better understand online activity. By accessing the Site,\r\n                                                you consent to the collection and use of your information by these third-party\r\n                                                vendors. You are encouraged to review their privacy policy and contact them directly\r\n                                                for responses to your questions. We do not transfer personal information to these\r\n                                                third-party vendors. However, if you do not want any information to be collected and\r\n                                                used by tracking technologies, you can visit the third-party vendor or the Network\r\n                Advertising Initiative Opt-Out Tool or Digital Advertising Alliance Opt-Out Tool.</p>\r\n                                                <br></br>\r\n                                                <p>You should be aware that getting a new computer, installing a new browser, upgrading\r\n                                                an existing browser, or erasing or otherwise altering your browsers cookies files\r\n            may also clear certain opt-out cookies, plug-ins, or settings.</p>\r\n                                                <br></br>\r\n                                                <h2>THIRD-PARTY WEBSITES</h2>\r\n                                                <br></br>\r\n                                                <p>The Site may contain links to third-party websites and applications of interest,\r\n                                                including advertisements and external services, that are not affiliated with us.\r\n                                                Once you have used these links to leave the Site, any information you provide to\r\n                                                these third parties is not covered by this Privacy Policy, and we cannot guarantee\r\n                                                the safety and privacy of your information. Before visiting and providing any\r\n                                                information to any third-party websites, you should inform yourself of the privacy\r\n                                                policies and practices (if any) of the third party responsible for that website, and\r\n                                                should take those steps necessary to, in your discretion, protect the privacy of your\r\n                                                information. We are not responsible for the content or privacy and security practices\r\n                                                and policies of any third parties, including other sites, services or applications that\r\n            may be linked to or from the Site.</p>\r\n                                                <br></br>\r\n                                                <h2>SECURITY OF YOUR INFORMATION</h2>\r\n                                                <br></br>\r\n                                                <p>We use administrative, technical, and physical security measures to help\r\n                                                protect your personal information. While we have taken reasonable steps to\r\n                                                secure the personal information you provide to us, please be aware that despite\r\n                                                our efforts, no security measures are perfect or impenetrable, and no method of\r\n                                                data transmission can be guaranteed against any interception or other type of\r\n                                                misuse. Any information disclosed online is vulnerable to interception and misuse\r\n                                                by unauthorized parties. Therefore, we cannot guarantee complete security if you\r\n                provide personal information.</p>\r\n                                                <br></br>\r\n                                                <h2>POLICY FOR CHILDREN</h2>\r\n                                                <br></br>\r\n                                                <p>We do not knowingly solicit information from or market to children under the age of\r\n                                                13. If you become aware of any data we have collected from children under age 13,\r\n                please contact us using the contact information provided below.</p>\r\n                                                <br></br>\r\n                                                <h2>CONTROLS FOR DO-NOT-TRACK FEATURES</h2>\r\n                                                <br></br>\r\n                                                <p>Most web browsers and some mobile operating systems include a Do-Not-Track (DNT)\r\n                                                feature or setting you can activate to signal your privacy preference not to have\r\n                                                data about your online browsing activities monitored and collected. No uniform\r\n                                                technology standard for recognizing and implementing DNT signals has been finalized.\r\n                                                As such, we do not currently respond to DNT browser signals or any other mechanism that\r\n                                                automatically communicates your choice not to be tracked online. If a standard for online\r\n                                                tracking is adopted that we must follow in the future, we will inform you about that\r\n                                                practice in a revised version of this Privacy Policy. Most web browsers and some mobile\r\n                                                operating systems include a Do-Not-Track (DNT) feature or setting you can activate to\r\n                                                signal your privacy preference not to have data about your online browsing activities\r\n                                                monitored and collected. If you set the DNT signal on your browser, we will respond to\r\n                such DNT browser signals.</p>\r\n                                                <br></br>\r\n                                                <h2>OPTIONS REGARDING YOUR INFORMATION</h2>\r\n                                                <br></br>\r\n                                                <p>Account Information</p>\r\n                                                <br></br>\r\n                                                <p>You may at any time review or change the information in your account or terminate\r\n                your account by:</p>\r\n                                                <br></br>\r\n                                                <p>Logging into your account settings and updating your account</p>\r\n                                                <br></br>\r\n                                                <p>Contacting us using the contact information provided below</p>\r\n                                                <br></br>\r\n                                                <p>Upon your request to terminate your account, we will deactivate or delete your\r\n                                                account and information from our active databases. However, some information may\r\n                                                be retained in our files to prevent fraud, troubleshoot problems, assist with any\r\n                investigations, enforce our Terms of Use and/or comply with legal requirements.</p>\r\n                                                <br></br>\r\n                                                <p>Emails and Communications</p>\r\n                                                <br></br>\r\n                                                <p>If you no longer wish to receive correspondence, emails, or other communications\r\n                from us, you may opt-out by:</p>\r\n                                                <br></br>\r\n                                                <p>Noting your preferences at the time you register your account with the Site.\r\n                Logging into your account settings and updating your preferences.</p>\r\n                                                <br></br>\r\n                                                <p>Contacting us using the contact information provided below.</p>\r\n                                                <br></br>\r\n                                                <p>If you no longer wish to receive correspondence, emails, or other communications\r\n                from third parties, you are responsible for contacting the third party directly.</p>\r\n                                                <br></br>\r\n                                                <h2>CALIFORNIA PRIVACY RIGHTS</h2>\r\n                                                <br></br>\r\n                                                <p>California Civil Code Section 1798.83, also known as the\r\n                                                Shine The Light law, permits our users who are California residents to\r\n                                                request and obtain from us, once a year and free of charge, information\r\n                                                about categories of personal information (if any) we disclosed to third\r\n                                                parties for direct marketing purposes and the names and addresses of all\r\n                                                third parties with which we shared personal information in the immediately\r\n                                                preceding calendar year. If you are a California resident and would like to make\r\n                                                such a request, please submit your request in writing to us using the contact\r\n                information provided below.</p>\r\n                                                <br></br>\r\n                                                <p>If you are under 18 years of age, reside in California, and have a registered\r\n                                                account with the Site, you have the right to request\r\n                                                removal of unwanted data that you publicly post on the Site.\r\n                                                To request removal of such data, please contact us using the\r\n                                                contact information provided below, and include the email\r\n                                                address associated with your account and a statement that\r\n                                                you reside in California. We will make sure the data is\r\n                                                not publicly displayed on the Site, but please be aware that\r\n                the data may not be completely or comprehensively removed from our systems.</p>\r\n                                                <br></br>\r\n                                                <h2>CONTACT US</h2>\r\n                                                <br></br>\r\n                                                <p>If you have questions or comments about this Privacy Policy, please contact\r\n                us at:</p>\r\n                                                <br></br>\r\n                                                <p>Jiva's Originals</p>\r\n                                                <p>4600 Murano Road</p>\r\n                                                <p>New Orleans, LA</p>\r\n                                                <p>70129</p>\r\n                                                <p>Phone #: 504-941-0919</p>\r\n                                                <p>jfalconmusik@jiva-website-405ed.web.app</p>\r\n                                        </div>\r\n                                </div>\r\n                        </div>\r\n                        <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                                <ul class=\"breadcrumbs\">\r\n                                        <li><Link to=\"/\">Home</Link></li>\r\n                                        <li><Link to=\"/privacy-policy\">Privacy Policy</Link></li>\r\n                                        <li>\r\n                                                <span class=\"show-for-sr\">Current: Privacy Policy</span>\r\n                                        </li>\r\n                                </ul>\r\n                        </nav>\r\n                </div >\r\n        )\r\n}\r\n\r\nexport default PrivacyPolicy","import React, { useContext, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\n\r\nfunction TermsOfService() {\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        setSearchString,\r\n        isLargeScreen,\r\n        setOnProductPage } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"termsOfService\")\r\n        setOnProductPage(false)\r\n        setSearchString(\"\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/terms-of-service\">Terms of Service</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Terms of Service</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed centered\" style={{\r\n                \"position\": \"relative\",\r\n            }}>\r\n                <div\r\n                    style={{ \"left\": `${isLargeScreen ? \"30%\" : \"0%\"}` }}>\r\n                    <h1>Jiva's Originals Terms and Conditions</h1>\r\n                    <br></br>\r\n                    <p>1. Introduction</p>\r\n                    <br></br>\r\n                    <div style={{\r\n                        \"maxWidth\": `${isLargeScreen ? \"50%\" : \"100%\"}`,\r\n                        \"left\": `${isLargeScreen ? \"25%\" : \"0%\"}`,\r\n                        \"position\": \"relative\"\r\n                    }}>\r\n                        <p>These Terms and Conditions (these Terms) contained herein on this webpage,\r\n                        shall govern your use of this website, including all pages within this website\r\n                        (collectively referred to herein below as this Website). These Terms apply in\r\n                        full force and effect to your use of this Website and by using this Website, you\r\n                        expressly accept all terms and conditions contained herein in full. You must not\r\n                use this Website, if you have any objection to any of these Terms and Conditions.</p>\r\n                        <br></br>\r\n                        <p>2. Intellectual Property Rights</p>\r\n                        <br></br>\r\n                        <p>Other than content you own, which you may have opted to include on this Website,\r\n                        under these Terms, Jiva's Originals and/or its licensors own all rights to the\r\n                        intellectual property and material contained in this Website, and all such\r\n                        rights are reserved. You are granted a limited license only, subject to the\r\n                        restrictions provided in these Terms, for purposes of viewing the material\r\n                contained on this Website.</p>\r\n                        <br></br>\r\n                        <p>3. Restrictions</p>\r\n                        <br></br>\r\n                        <p>You are expressly and emphatically restricted from all of the following:</p>\r\n                        <br></br>\r\n                        <ul>\r\n                            <li>publishing any Website material in any media;</li>\r\n                            <li>selling, sublicensing and/or otherwise commercializing any Website material</li>\r\n                            <li>publicly performing and/or showing any Website material;</li>\r\n                            <li>using this Website in any way that is, or may be, damaging to this Website;</li>\r\n                            <li>using this Website in any way that impacts user access to this Website;</li>\r\n                            <li>using this Website contrary to applicable laws and regulations, or in a\r\n                            way that causes, or may cause, harm to the Website, or to any person or\r\n                    business entity;</li>\r\n                            <li>engaging in any data mining, data harvesting, data extracting or\r\n                            any other similar activity in relation to this Website, or while\r\n                using this Website;</li>\r\n                            <li>using this Website to engage in any advertising or marketing;</li>\r\n                        </ul>\r\n                        <br></br>\r\n                        <p>Certain areas of this Website are restricted from access by you and\r\n                        Jiva's Originals may further restrict access by you to any areas of this\r\n                        Website, at any time, in its sole and absolute discretion. Any user ID\r\n                        and password you may have for this Website are confidential and you must\r\n                maintain confidentiality of such information.</p>\r\n                        <br></br>\r\n                        <p>4. No warranties</p>\r\n                        <br></br>\r\n                        <p>This Website is provided as is, with all faults, and Jiva's Originals makes no\r\n                        express or implied representations or warranties, of any kind related to this\r\n                        Website or the materials contained on this Website. Additionally, nothing contained\r\n            on this Website shall be construed as providing consult or advice to you.</p>\r\n                        <br></br>\r\n                        <p>5. Limitation of liability</p>\r\n                        <br></br>\r\n                        <p>In no event shall Jiva's Originals, nor any of its officers, directors and employees,\r\n                        be liable to you for anything arising out of or in any way connected with your use\r\n                        of this Website, whether such liability is under contract, tort or otherwise, and\r\n                        Jiva's Originals, including its officers, directors and employees shall not be liable\r\n                        for any indirect, consequential or special liability arising out of or in any way\r\n                related to your use of this Website.</p>\r\n                        <br></br>\r\n                        <p>6. Indemnification</p>\r\n                        <br></br>\r\n                        <p>You hereby indemnify to the fullest extent Jiva's Originals from and against any\r\n                        and all liabilities, costs, demands, causes of action, damages and expenses\r\n                        (including reasonable attorneys fees) arising out of or in any way related to\r\n                your breach of any of the provisions of these Terms.</p>\r\n                        <br></br>\r\n                        <p>7. Severability</p>\r\n                        <br></br>\r\n                        <p>If any provision of these Terms is found to be unenforceable or invalid\r\n                        under any applicable law, such unenforceability or invalidity shall not\r\n                        render these Terms unenforceable or invalid as a whole, and such provisions\r\n                shall be deleted without affecting the remaining provisions herein.</p>\r\n                        <br></br>\r\n                        <p>8. Variation of Terms</p>\r\n                        <br></br>\r\n                        <p>Jiva's Originals is permitted to revise these Terms at any time as it sees fit, and\r\n                        by using this Website you are expected to review such Terms on a regular basis\r\n                to ensure you understand all terms and conditions governing use of this Website.</p>\r\n                        <br></br>\r\n                        <p>9. Assignment</p>\r\n                        <br></br>\r\n                        <p>Jiva's Originals shall be permitted to assign, transfer, and subcontract its rights\r\n                        and/or obligations under these Terms without any notification or consent required.\r\n                        However, you shall not be permitted to assign, transfer, or subcontract any of your\r\n                rights and/or obligations under these Terms.</p>\r\n                        <br></br>\r\n                        <p>10. Entire Agreement</p>\r\n                        <br></br>\r\n                        <p>These Terms, including any legal notices and disclaimers contained on this\r\n                        Website, constitute the entire agreement between Jiva's Originals and you in\r\n                        relation to your use of this Website, and supersede all prior agreements and\r\n            understandings with respect to the same.</p>\r\n                        <br></br>\r\n                        <p>11. Governing Law and Jurisdiction</p>\r\n                        <br></br>\r\n                        <p>These Terms will be governed by and construed in accordance with the laws of the\r\n                        State of Louisiana, and you submit to the non-exclusive jurisdiction of the state\r\n                and federal courts located in Louisiana for the resolution of any disputes.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/terms-of-service\">Terms of Service</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Terms of Service</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TermsOfService","import React, { useContext, useEffect } from \"react\"\r\nimport { Context } from \"./Context\"\r\n\r\nfunction OrderSuccess() {\r\n\r\n    const {\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"orderSuccess\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n\r\n            <h1>Your Order is Complete!</h1>\r\n            <h2>Items purchased: </h2>\r\n            <h2>Amount Paid: </h2>\r\n            <h2>Estimated Arrival Date: </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderSuccess","import React, { useState, useEffect, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\nfunction ShippingItemList() {\r\n\r\n\r\n    // rewind to here in case of error\r\n\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n    const [finalItemList, setFinalItemList] = useState([])\r\n\r\n\r\n    const {\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        itemList,\r\n        setItemList,\r\n        itemArray,\r\n        removeFromCart,\r\n        addToCart,\r\n        isLargeScreen\r\n    } = useContext(Context)\r\n\r\n    function handleRemoveMultipleFromCart(item, amount) {\r\n        let newArr = []\r\n        let i;\r\n        // for (i = 0; i < amount; i++) {\r\n        //     removeFromCart(item, amount)\r\n        //     // newArr.push([item[0], item[1], item[2], item[3], item[4]])\r\n\r\n        // }\r\n\r\n        removeFromCart(item, amount)\r\n\r\n        const newFinalList = finalItemList.filter(i => !(\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        const arrayOfGivenItem = itemList.filter(i => (\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        arrayOfGivenItem.pop()\r\n\r\n        let finalList = [...newFinalList, ...arrayOfGivenItem]\r\n        setFinalItemList([...finalList])\r\n        // setItemList()\r\n    }\r\n\r\n    const [quantSelected, setQuantSelected] = useState(\"1\")\r\n\r\n    useEffect(() => {\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n    }, [])\r\n\r\n    function handleQuantChoice(productName, color, productSize, productQuant, productNickName) {\r\n\r\n        let productNameLink = productName.split(\" \").join(\"-\")\r\n\r\n        let quantChosen = Number(document.getElementById(`quantityChosen${productNameLink}`).value)\r\n        let itemsOfNameType = itemList.filter(item => item[0] == productName)\r\n\r\n        // let itemsOfColorType = itemList.filter(item => item[4] == color)\r\n        // let itemsOfSizeType = itemList.filter(item => item[3] == productSize)\r\n        //  item[5] == productQuant\r\n\r\n        let itemsOfNameAndColor = itemsOfNameType.filter(item => item[4] == color)\r\n        let itemsOfNameColorSize = itemsOfNameAndColor.filter(item => item[3] == productSize)\r\n\r\n        let itemQuant = itemsOfNameColorSize.length\r\n\r\n        let itemTemplate = itemsOfNameColorSize[0]\r\n        console.log(itemTemplate)\r\n\r\n\r\n\r\n\r\n        console.log(\"handleQuantChoice fired!\")\r\n\r\n        if (itemQuant > quantChosen) {\r\n            console.log(\"itemQuant > quantChosen\")\r\n            let subtractedQuant = Number(itemQuant - quantChosen)\r\n\r\n            let newQuant = Number(itemQuant - subtractedQuant)\r\n\r\n            handleRemoveMultipleFromCart(itemTemplate, subtractedQuant)\r\n\r\n            // separates the final list array into a list which only has matches to the requested item,\r\n            // and an array of all other items.\r\n            // remove one from the list of matching items.\r\n            // create a new version of the item with a changed quantity. push the new item to the list\r\n            // of matching items. Then merge the matches back into the full set.\r\n\r\n            let finalListItems = finalItemList.filter(i =>\r\n                (i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListOthers = finalItemList.filter(i =>\r\n                !(i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListItem = finalListItems[0]\r\n            let countOfItemInFinalList = finalListItem.length\r\n\r\n            finalListItems.pop()\r\n\r\n\r\n\r\n\r\n            let finalItemRecounted = [\r\n                itemTemplate[0],\r\n                itemTemplate[1],\r\n                itemTemplate[2],\r\n                itemTemplate[3],\r\n                itemTemplate[4],\r\n                newQuant\r\n            ]\r\n\r\n            finalListItems.push(finalItemRecounted)\r\n\r\n\r\n            let newList = [...finalListOthers, ...finalListItems]\r\n            let newListNoNegatives = newList.filter(i => i[5] !== 0)\r\n\r\n            setFinalItemList([...newListNoNegatives])\r\n\r\n            modifyCartCount((Number(subtractedQuant) * -1));\r\n            modifyTotalPrice(\r\n                (Number(itemTemplate[2]) * (Number(subtractedQuant) * -1))\r\n            )\r\n\r\n            console.log(finalListItems)\r\n\r\n            let moddedNumber = (Number(quantChosen + subtractedQuant))\r\n            document.getElementById(`${productNickName}${moddedNumber}`).selected = 'selected'\r\n            document.getElementById(`${productNickName}${moddedNumber}`).setAttribute('selected', 'selected')\r\n\r\n\r\n            // let i;\r\n            // for (i = 0; i < subtractedQuant; i++) {\r\n\r\n            // }\r\n        } else if (itemQuant < quantChosen) {\r\n            console.log(\"itemQuant > quantChosen\")\r\n            let addedQuant = Number(quantChosen - itemQuant)\r\n\r\n\r\n            let cartItem = [\r\n                itemTemplate[0],\r\n                [],\r\n                (Number(itemTemplate[2]) / 100),\r\n                [],\r\n                [],\r\n                itemTemplate[1]\r\n\r\n\r\n            ]\r\n            let colorArr = itemTemplate[4].split(\"_\")\r\n\r\n            let options = [itemTemplate[3], colorArr[0], colorArr[1], addedQuant]\r\n            // name - url - price - size - color\r\n            addToCart(cartItem, options)\r\n\r\n\r\n            let newQuant = Number(itemQuant + addedQuant)\r\n\r\n            let finalListItems = finalItemList.filter(i =>\r\n                (i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListOthers = finalItemList.filter(i =>\r\n                !(i[0] == itemTemplate[0]) &&\r\n                (i[1] == itemTemplate[1]) &&\r\n                (i[2] == itemTemplate[2]) &&\r\n                (i[3] == itemTemplate[3]) &&\r\n                (i[4] == itemTemplate[4]) &&\r\n                (i[5] == itemQuant)\r\n            )\r\n\r\n            let finalListItem = finalListItems[0]\r\n            let countOfItemInFinalList = finalListItem.length\r\n\r\n            finalListItems.pop()\r\n\r\n\r\n\r\n\r\n            let finalItemRecounted = [\r\n                itemTemplate[0],\r\n                itemTemplate[1],\r\n                itemTemplate[2],\r\n                itemTemplate[3],\r\n                itemTemplate[4],\r\n                newQuant\r\n            ]\r\n\r\n            finalListItems.push(finalItemRecounted)\r\n\r\n\r\n            let newList = [...finalListOthers, ...finalListItems]\r\n\r\n            let newListNoNegatives = newList.filter(i => i[5] !== 0)\r\n\r\n            setFinalItemList([...newListNoNegatives])\r\n\r\n            console.log(finalListItems)\r\n\r\n            modifyCartCount(Number(addedQuant));\r\n            modifyTotalPrice(\r\n                (Number(itemTemplate[2]) * (Number(addedQuant)))\r\n            )\r\n\r\n            let moddedNumber = (Number(quantChosen - addedQuant))\r\n            document.getElementById(`${productNickName}${moddedNumber}`).selected = 'selected'\r\n            document.getElementById(`${productNickName}${moddedNumber}`).setAttribute('selected', 'selected')\r\n\r\n        }\r\n        console.log(quantChosen)\r\n\r\n\r\n\r\n\r\n        //     if (itemQuant > quantChosen) {\r\n\r\n        //         let numDifference = Number(itemQuant - quantChosen)\r\n\r\n        //         let i;\r\n        //         for (i = 0; i < numDifference; i++)\r\n\r\n        //             removeFromCart(itemsOfNameColorSize[0])\r\n        //     } else if (itemQuant < quantChosen) {\r\n\r\n        //         let numDifference = Number(quantChosen - itemQuant)\r\n\r\n        //         let i;\r\n        //         for (i = 0; i < numDifference; i++) {\r\n        //             addToCart(itemsOfNameColorSize)\r\n        //         }\r\n\r\n        //     } else if (itemQuant === quantChosen)\r\n\r\n        //         console.log(\"Same quantity!\")\r\n    }\r\n\r\n\r\n\r\n\r\n    console.log(itemList)\r\n\r\n    console.log(finalItemList)\r\n\r\n\r\n    // handling item quantity :\r\n\r\n    useEffect(() => {\r\n\r\n        if (itemList.length > 0) {\r\n\r\n            let newItemList = []\r\n\r\n            itemList.forEach(item => {\r\n                // const itemQuantArray = itemList.filter(i => i == item)\r\n\r\n                let itemsOfKind = itemList.filter(i =>\r\n                    (\r\n                        (i[0] == item[0]) &&\r\n                        (i[1] == item[1]) &&\r\n                        (i[2] == item[2]) &&\r\n                        (i[3] == item[3]) &&\r\n                        (i[4] == item[4])\r\n                    )\r\n                )\r\n\r\n                console.log(itemsOfKind)\r\n\r\n                let itemsOfKindLength = itemsOfKind.length\r\n\r\n                let newItem = [...item, itemsOfKindLength]\r\n\r\n                let isNewItemInListAlready = newItemList.filter(i =>\r\n                    (\r\n                        (i[0] == newItem[0]) &&\r\n                        (i[1] == newItem[1]) &&\r\n                        (i[2] == newItem[2]) &&\r\n                        (i[3] == newItem[3]) &&\r\n                        (i[4] == newItem[4]) &&\r\n                        (i[5] == newItem[5])\r\n                    )\r\n                )\r\n\r\n                if (isNewItemInListAlready.length < 1) {\r\n                    newItemList.push(newItem)\r\n                }\r\n\r\n\r\n                console.log(item)\r\n                console.log(itemList)\r\n                console.log(newItemList)\r\n\r\n            })\r\n\r\n            console.log(newItemList)\r\n            setFinalItemList(newItemList)\r\n            console.log(finalItemList)\r\n            // let itemArray = itemList.filter\r\n        }\r\n    }, [itemList])\r\n\r\n    if (finalItemList.length > 0) {\r\n\r\n\r\n        return (\r\n            <Flexbox flexDirection=\"row\">\r\n                {\r\n                    finalItemList.map(item => {\r\n\r\n                        console.log(item)\r\n                        console.log(finalItemList)\r\n\r\n                        if ((item.length > 0) && (item[0])) {\r\n\r\n                            console.log(item)\r\n                            console.log(item[0])\r\n                            let productNameArray = item[0].split(\" \")\r\n                            let productNameLink = productNameArray.join(\"-\")\r\n                            let productNickName = productNameLink.toString()\r\n                            console.log(productNickName)\r\n\r\n                            let productFullColor = item[4]\r\n\r\n                            let productColorNameHex = item[4].split(\"_\")\r\n\r\n                            let colorName = productColorNameHex[0]\r\n                            let colorHex = productColorNameHex[1]\r\n                            let productSize = item[3]\r\n                            let productQuant = item[5]\r\n\r\n                            console.log(productSize, productQuant, productFullColor, productNameLink)\r\n\r\n                            productNickName.concat(productSize, productFullColor)\r\n                            // let productNickString = productNick.toString\r\n                            // let productNickFull = productNickString.concat(productFullColor)\r\n                            // let productNickFullString = productNickFull.toString\r\n\r\n                            console.log(`${productNickName.toString()}`);\r\n\r\n                            let numbersBeforeSelected = []\r\n                            // let numberAtSelected = []\r\n                            let numbersAfterSelected = []\r\n\r\n                            let i;\r\n                            for (i = 1; i < productQuant; i++) {\r\n                                numbersBeforeSelected.push(i)\r\n                            }\r\n                            for (i = (productQuant + 1); i < 11; i++) {\r\n                                numbersAfterSelected.push(i)\r\n                            }\r\n\r\n\r\n                            let sale = item[12]\r\n\r\n\r\n                            // function handleInitialQuant(productNickName, productQuant) {\r\n\r\n                            //     console.log(`${productNickName} ${productQuant}`)\r\n                            // }\r\n\r\n\r\n                            ////////////////////////////////////////////////\r\n\r\n                            return (\r\n                                <div>\r\n\r\n                                    <div\r\n                                        className=\"itemCard\"\r\n                                        style={{\r\n                                            \"width\": `${isLargeScreen ? \"10vw\" : \"30vw\"}`,\r\n                                            \"height\": \"14em\",\r\n                                            \"zIndex\": \"90\",\r\n                                            \"background-color\": \"black\",\r\n                                            \"box-shadow\": \"0px 0px 5px white\",\r\n                                            \"white-space\": \"nowrap\",\r\n                                            \"textAlign\": \"left\"\r\n                                        }}>\r\n                                        <Link to={`/product/${productNameLink}`}>\r\n                                            <img src={`${item[1]}`} width=\"35%\" height=\"auto\"></img>\r\n                                        </Link>\r\n                                        <Link to={`/product/${productNameLink}`}>\r\n                                            <h3\r\n                                                style={{ \"fontSize\": \"small\" }}\r\n                                                class=\"text-decoration-none\">{item[0]} ({productQuant})</h3>\r\n                                        </Link>\r\n                                        {(!sale) ?\r\n                                            <h3 style={{ \"fontSize\": \"small\" }}>${(Number(item[2]) / 100).toFixed(2)}</h3>\r\n                                            :\r\n                                            <h3 style={{ \"fontSize\": \"small\" }}>${(Number(sale) / 100).toFixed(2)}</h3>\r\n                                        }\r\n                                        {(productColorNameHex.length > 1) &&\r\n                                            <div className=\"row\">\r\n                                                <div\r\n                                                // className=\"column\"\r\n                                                >\r\n                                                    <button\r\n                                                        style={{\r\n                                                            \"background-color\": `${colorHex}`,\r\n                                                            \"padding\": \"1em\",\r\n                                                            \"border-radius\": \"50%\",\r\n                                                            \"border\": \"none\",\r\n                                                            \"display\": \"inline-block\",\r\n                                                            \"font-size\": \"9px\",\r\n                                                            \"padding-bottom\": \"1em\",\r\n                                                            \"max-height\": \"3em\",\r\n                                                            \"max-width\": \"2em\",\r\n                                                            \"margin-left\": \"2em\",\r\n                                                            \"box-shadow\": \"0px 0px 1px white\",\r\n                                                            // \"marginBottom\": \"2em\",\r\n                                                            // \"marginRight\": \"1em\"\r\n\r\n                                                        }}\r\n                                                        type=\"button\"\r\n                                                        className=\"colorButton\"\r\n                                                        id={`colorButton${colorName}`}\r\n                                                        name={`${colorName}`}></button>\r\n                                                    <h4\r\n                                                        style={{ \"fontSize\": \"small\", \"display\": \"inline-block\" }}\r\n                                                    // className=\"column\"\r\n                                                    >{colorName}</h4>\r\n                                                </div>\r\n                                                <br></br>\r\n                                            </div>\r\n                                        }\r\n                                        {(!productSize.includes(\"One-Size\")) &&\r\n                                            <h4\r\n                                                style={{ \"fontSize\": \"small\", \"bottom\": \"1em\" }}\r\n                                            >{productSize}</h4>}\r\n                                        {/* <h2 style={{ \"fontSize\": \"smaller\", \"bottom\": \"1em\" }}>Quantity: {productQuant}</h2> */}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        } else if (item.length === 0) {\r\n                            return <div></div>\r\n                        }\r\n                    })\r\n                }\r\n            </Flexbox>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div class=\"cart\">\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ShippingItemList\r\n\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport Checkout from \"./Checkout\"\r\nimport { Context } from \"./Context\"\r\nimport ShippingItemList from \"./ShippingItemList\"\r\nimport firebase from \"firebase\"\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport Flexbox from \"flexbox-react\"\r\nimport { Checkmark } from \"react-checkmark\"\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport 'react-phone-number-input/style.css'\r\nimport flags from 'react-phone-number-input/flags'\r\nimport PhoneInput, {\r\n    isPossiblePhoneNumber,\r\n    formatPhoneNumber,\r\n    formatPhoneNumberIntl\r\n} from 'react-phone-number-input'\r\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from 'react-country-region-selector';\r\nimport KeyboardedInput from 'react-touch-screen-keyboard';\r\nimport 'react-touch-screen-keyboard/lib/Keyboard.css'; // if you just want css\r\nimport FocusLock from 'react-focus-lock';\r\n\r\n\r\n\r\n\r\n\r\nfunction ShippingComponent() {\r\n\r\n\r\n\r\n    // state info\r\n    const {\r\n        userInfo,\r\n        modifyAddressSaved,\r\n        addressSaved,\r\n        prevAddressShipping,\r\n        prevAddressBilling,\r\n        routerString,\r\n        setRouterString,\r\n        setTermsDisplay,\r\n        taxAmount,\r\n        setTaxAmount,\r\n        costTaxShipping,\r\n        setCostTaxShipping,\r\n        totalCost,\r\n        anonUser,\r\n        setReceiptEmail,\r\n        receiptEmail,\r\n        tempShipAddress,\r\n        setTempShipAddress,\r\n        tempBillAddress,\r\n        setTempBillAddress,\r\n        itemList,\r\n        updateDatabaseOrders,\r\n        modifyCartCount,\r\n        setItemList,\r\n        setAnonList,\r\n        setFinalItemList,\r\n        modifyTotalPrice,\r\n        setOnCheckout,\r\n        itemsPurchased,\r\n        lastExchangeOrderCreditUsed,\r\n        uid,\r\n        addressHandled,\r\n        orderComplete,\r\n        setOrderComplete,\r\n        isLargeScreen,\r\n        setDisplayPayPal,\r\n        setSearchString,\r\n        stripeDisplayed,\r\n        setStripeDisplayed,\r\n        displayStripe,\r\n        enterPaymentAllowed,\r\n        setEnterPaymentAllowed,\r\n        setOnProductPage,\r\n        responsiveEmail,\r\n        setResponsiveEmail,\r\n        canResize,\r\n        setCanResize\r\n        // applePayDevice\r\n    } = useContext(Context)\r\n\r\n\r\n    const [shippingNotSet, setShippingNotSet] = useState(true)\r\n\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n\r\n    const [deliverDate, setDeliverDate] = useState('')\r\n    useEffect(() => {\r\n        setOnProductPage(false)\r\n        // convert timestamp to milliseconds, add two weeks, make abbreviated string of Date.\r\n        setSearchString(\"\")\r\n        const newDate = new Date(Date.now() + 12096e5)\r\n        const dateToString = newDate.toString().split(\" \")\r\n        const dateArr = [dateToString[0], dateToString[1], dateToString[2], dateToString[3]]\r\n        const newDateString = dateArr.join(' ')\r\n\r\n        setDeliverDate(newDateString)\r\n\r\n        setEnterPaymentAllowed(true)\r\n\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const [focusLocked, setFocusLocked] = useState(true)\r\n\r\n\r\n    useEffect(() => {\r\n        if (tempShipAddress[8]) {\r\n            setResponsiveEmail(tempShipAddress[8])\r\n        }\r\n    }, [tempShipAddress])\r\n\r\n    useEffect(() => {\r\n        if (userInfo.userEmail) {\r\n            setUserEmail(userInfo.userEmail)\r\n        }\r\n\r\n\r\n    }, [userInfo])\r\n\r\n    const [orderString, setOrderString] = useState(\"\")\r\n    // userinfo 1 is the uid\r\n    let userIDSubstring = uid.substring(0, 4)\r\n    let randNum = (Math.floor(Math.random() * 100000))\r\n    let semiUniqueString = `${userIDSubstring}${randNum}`\r\n    // make sure to pass this to the email as well.\r\n    useEffect(() => {\r\n        console.log(userIDSubstring)\r\n        console.log(semiUniqueString)\r\n\r\n        setOrderString(semiUniqueString)\r\n    }, [])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setOnCheckout(true)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        handleShipType(\"standard\")\r\n    }, [])\r\n\r\n\r\n    const [shippingCost, setShippingCost] = useState(0)\r\n    const [shippingInternational, setShippingInternational] = useState(false)\r\n\r\n    // const [] = useState(\"\")\r\n    // const [] = useState(\"\")\r\n\r\n\r\n    const [payPalCost, setPayPalCost] = useState(0)\r\n    const [payPalSuccess, setPayPalSuccess] = useState(false)\r\n    const [payPalFailure, setPayPalFailure] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let ppCost = ((Number(totalCost) / 100).toFixed(2))\r\n        setPayPalCost(ppCost)\r\n    }, [])\r\n\r\n    const [showEmailInput, setShowEmailInput] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (userInfo.userEmail && !anonUser && (!userInfo.prevAddressShipping)) {\r\n            setShowEmailInput(false)\r\n        }\r\n    }, [])\r\n\r\n    const [willSaveEmail, setWillSaveEmail] = useState(true)\r\n\r\n    // function toggleSaveEmail() {\r\n\r\n    //     if (willSaveEmail) {\r\n    //         // saveEmail WAS selected, now is not\r\n    //         document.getElementById('saveThisEmail').checked = false\r\n    //     } else {\r\n    //         document.getElementById('saveThisEmail').checked = true\r\n    //     }\r\n\r\n\r\n    //     setWillSaveEmail(!willSaveEmail)\r\n    // }\r\n\r\n\r\n    const [spinnerDisplayed, setSpinnerDisplayed] = useState(false)\r\n    function saveEmail() {\r\n        if (document.getElementById('emailInputText')) {\r\n            let emailVal = document.getElementById('emailInputText').value\r\n            setReceiptEmail(emailVal)\r\n            firebase.functions().httpsCallable('saveEmail')({ emailVal })\r\n\r\n            if (tempShipAddress && tempBillAddress) {\r\n                let userEmail = emailVal\r\n                setSpinnerDisplayed(true)\r\n                firebase.functions().httpsCallable('createAnonStripeCustomer')\r\n                    ({ userEmail, tempShipAddress, tempBillAddress })\r\n                    .then(result => {\r\n                        console.log(result)\r\n                        return setSpinnerDisplayed(false)\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setRouterString(\"shipping\")\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTermsDisplay(false);\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const [address2Shipping, setAddress2Shipping] = useState(false)\r\n    const [address2Billing, setAddress2Billing] = useState(false)\r\n    const [address2BillingButton, setAddress2BillingButton] = useState(\" Add Address 2\")\r\n    const [address2ShippingButton, setAddress2ShippingButton] = useState(\" Add Address 2\")\r\n    const [address2, setAddress2] = useState(\"none\")\r\n    const [addressCache, setAddressCache] = useState({})\r\n\r\n\r\n    const [americaBilling, setAmericaBilling] = useState(true)\r\n    const [americaShipping, setAmericaShipping] = useState(true)\r\n\r\n    const [deliverStandardDate, setDeliverStandardDate] = useState(\"\")\r\n    const [deliverExpeditedDate, setDeliverExpeditedDate] = useState(\"\")\r\n    const [deliverRushDate, setDeliverRushDate] = useState(\"\")\r\n\r\n    const [estDelivery, setEstDelivery] = useState([])\r\n    const [shipType, setShipType] = useState(\"\")\r\n\r\n    const [orderDate, setOrderDate] = useState(\"\")\r\n\r\n    const [errorShipping, setErrorShipping] = useState(false)\r\n    const [errorBilling, setErrorBilling] = useState(false)\r\n\r\n\r\n\r\n    const [billingAddress, setBillingAddress] = useState(false)\r\n\r\n    const [shippingSaved, setShippingSaved] = useState(false)\r\n    const [billingSaved, setBillingSaved] = useState(false)\r\n\r\n    const [usePrevShipping, setUsePrevShipping] = useState(false)\r\n    const [usePrevBilling, setUsePrevBilling] = useState(false)\r\n\r\n    const [displayAddressForm, setDisplayAddressForm] = useState(true)\r\n\r\n    const [enableOrderConfirm, setEnableOrderConfirm] = useState(false)\r\n\r\n    function saveThisEmail() {\r\n\r\n        let emailVal = document.getElementById('newEmail').value\r\n\r\n\r\n        setReceiptEmail(emailVal)\r\n\r\n        firebase.functions().httpsCallable('saveEmail')({ emailVal })\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (userInfo.prevAddressBilling !== undefined) {\r\n\r\n            if (userInfo.prevAddressBilling[0] && (userInfo.prevAddressBilling[0] !== undefined)) {\r\n                setBillingSaved(true)\r\n                setUsePrevBilling(true)\r\n            }\r\n        }\r\n        if (userInfo.prevAddressShipping) {\r\n            if (userInfo.prevAddressShipping[0]) {\r\n                setShippingSaved(true)\r\n                setUsePrevShipping(true)\r\n                setDisplayAddressForm(false)\r\n            }\r\n        }\r\n    }, [userInfo])\r\n\r\n\r\n    const inputErrorMessage = \"Please Complete All Required Fields: \"\r\n\r\n\r\n\r\n    ///////////////////////////\r\n\r\n    useEffect(() => {\r\n        if (billingSaved && shippingSaved) {\r\n            modifyAddressSaved(true)\r\n            setEnableOrderConfirm(true)\r\n        } else {\r\n            modifyAddressSaved(false)\r\n        }\r\n\r\n    }, [billingSaved, shippingSaved])\r\n\r\n    ////////////////////////////\r\n\r\n    // set estimated delivery date for each of 3 shipping options, based on current date:\r\n    useEffect(() => {\r\n\r\n        const currentDate = new Date(Date.now())\r\n        setOrderDate(currentDate)\r\n\r\n\r\n        const twoWeeksAway = 12096e5\r\n        const oneWeekAway = 6.04e+8\r\n        const fiveDaysAway = 4.32e+8\r\n\r\n\r\n\r\n        // standard delivery: two weeks from date. USPS takes 3-5 days, typical total 14 days\r\n        const standardDate = new Date(Date.now() + twoWeeksAway)\r\n        const standardDateString = standardDate.toString().split(\" \")\r\n        const dateArr = [\r\n            standardDateString[0],\r\n            standardDateString[1],\r\n            standardDateString[2],\r\n            standardDateString[3]\r\n        ]\r\n        const StandardDateStringJoined = dateArr.join(' ')\r\n        setDeliverStandardDate(StandardDateStringJoined)\r\n\r\n        // expedited delivery: one week from date. USPS takes 2-3 days, typical total 10 days\r\n\r\n        const expeditedDate = new Date(Date.now() + oneWeekAway)\r\n        const expeditedDateString = expeditedDate.toString().split(\" \")\r\n        const dateArr2 = [\r\n            expeditedDateString[0],\r\n            expeditedDateString[1],\r\n            expeditedDateString[2],\r\n            expeditedDateString[3]\r\n        ]\r\n        const ExpeditedDateStringJoined = dateArr2.join(' ')\r\n        setDeliverExpeditedDate(ExpeditedDateStringJoined)\r\n\r\n        // rush delivery: five days from date. USPS takes 1-2 days, typical total 3-5 days\r\n\r\n        const rushDate = new Date(Date.now() + fiveDaysAway)\r\n        const rushDateString = rushDate.toString().split(\" \")\r\n        const dateArr3 = [\r\n            rushDateString[0],\r\n            rushDateString[1],\r\n            rushDateString[2],\r\n            rushDateString[3]\r\n        ]\r\n        const RushDateStringJoined = dateArr3.join(' ')\r\n        setDeliverRushDate(RushDateStringJoined)\r\n\r\n\r\n    }, [])\r\n    ///////////////////////////////\r\n\r\n    function handleUsePrevAddress(bool) {\r\n        if (bool == true) {\r\n            setEnableOrderConfirm(true)\r\n            setDisplayAddressForm(false)\r\n        } else if (bool == false) {\r\n            setDisplayAddressForm(true)\r\n            setEnableOrderConfirm(false)\r\n        }\r\n    }\r\n\r\n\r\n    const [sameAsBilling, setSameAsBilling] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setDisplayPayPal(false)\r\n    }, [])\r\n\r\n\r\n\r\n    // useEffect(() => {\r\n\r\n    //     if (billingAddress) {\r\n    //         setSameAsBilling(false)\r\n    //     } else {\r\n    //         setSameAsBilling(true)\r\n    //     }\r\n\r\n    // }, [billingAddress, sameAsBilling])\r\n\r\n    // is billing address different?\r\n    function toggleBillingAddress() {\r\n        setBillingAddress(!billingAddress)\r\n\r\n        if (sameAsBilling) {\r\n            // setSameAsBilling(false)\r\n            setBillingSaved(false)\r\n        } else {\r\n            // setSameAsBilling(true)\r\n        }\r\n\r\n        setUsePrevBilling(!usePrevBilling);\r\n    }\r\n\r\n\r\n    /////////////////////////\r\n\r\n    // const [bothAddressesSaved, setBothAddressesSaved] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n        if (shippingSaved && billingSaved) {\r\n            setEnableOrderConfirm(true)\r\n        }\r\n    }, [shippingSaved, billingSaved])\r\n\r\n    const [eachLoaded, setEachLoaded] = useState(false)\r\n\r\n    const [displayEmailCheckmark, setDisplayEmailCheckmark] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n        let checkmark = document.getElementById('displayEmailCheckmark')\r\n        setEachLoaded(true)\r\n        if (eachLoaded) {\r\n\r\n\r\n            if (displayEmailCheckmark) {\r\n                checkmark.style.visibility = \"visible\"\r\n                checkmark.setAttribute(\"visibility\", \"visible\")\r\n            } else {\r\n                checkmark.style.visibility = \"hidden\"\r\n                checkmark.setAttribute(\"visibility\", \"hidden\")\r\n            }\r\n\r\n        }\r\n    }, [displayEmailCheckmark])\r\n\r\n    const [displaySaveShipAddressCheckmark, setDisplaySaveShipAddressCheckmark] = useState(false)\r\n    const [displaySaveBillAddressCheckmark, setDisplaySaveBillAddressCheckmark] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let checkmark = document.getElementById('saveShipAddressCheck')\r\n        setEachLoaded(true)\r\n        if (eachLoaded) {\r\n\r\n\r\n\r\n            if (displaySaveShipAddressCheckmark) {\r\n                checkmark.style.visibility = \"visible\"\r\n                checkmark.setAttribute(\"visibility\", \"visible\")\r\n            } else {\r\n                checkmark.style.visibility = \"hidden\"\r\n                checkmark.setAttribute(\"visibility\", \"hidden\")\r\n            }\r\n        }\r\n\r\n    }, [displaySaveShipAddressCheckmark])\r\n\r\n    useEffect(() => {\r\n\r\n        setEachLoaded(true)\r\n        if (eachLoaded) {\r\n\r\n\r\n            let checkmark = document.getElementById('saveBillAddressCheck')\r\n\r\n            if (checkmark) {\r\n\r\n                if (displaySaveBillAddressCheckmark) {\r\n                    checkmark.style.visibility = \"visible\"\r\n                    checkmark.setAttribute(\"visibility\", \"visible\")\r\n                } else {\r\n                    checkmark.style.visibility = \"hidden\"\r\n                    checkmark.setAttribute(\"visibility\", \"hidden\")\r\n                }\r\n            }\r\n        }\r\n    }, [displaySaveBillAddressCheckmark])\r\n\r\n\r\n\r\n    function handleUsePrevEmail() {\r\n        // if useprevemail, change the other values, then flip useprevemail\r\n        if (!usePrevEmail) {\r\n            setShowEmailInput(false);\r\n            setDisplayEmailCheckmark(true);\r\n        } else {\r\n            setShowEmailInput(true);\r\n            setDisplayEmailCheckmark(false);\r\n        }\r\n\r\n        setUsePrevEmail(!usePrevEmail);\r\n    }\r\n\r\n\r\n    const [phoneNumber, setPhoneNumber] = useState(\"\")\r\n\r\n    function handleFocus(addressType) {\r\n        let firstName = document.getElementById(`firstName${addressType}`).value\r\n        console.log(firstName)\r\n\r\n        let lastName = document.getElementById(`lastName${addressType}`).value\r\n\r\n\r\n        let countryElement = document.getElementById(`country${addressType}`);\r\n        let country = countryElement.options[countryElement.selectedIndex].value;\r\n        let address1 = document.getElementById(`address1${addressType}`).value\r\n\r\n        if (document.getElementById(`address2${addressType}`) !== null) {\r\n\r\n            let value = document.getElementById(`address2${addressType}`).value\r\n            setAddress2(value)\r\n            console.log(address2)\r\n        } else {\r\n            setAddress2(\"none\")\r\n            console.log(address2)\r\n        }\r\n        console.log(address2)\r\n        let city = document.getElementById(`city${addressType}`).value\r\n        let phone = document.getElementById(`phone${addressType}`).value\r\n        let zipCode = document.getElementById(`zipCode${addressType}`).value\r\n\r\n        setPhoneNumber(phone)\r\n\r\n        let phone2 = phone\r\n\r\n        let natNumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\n        let phoneNumbers = phone2.split(\"\").filter(i => natNumbers.includes(i))\r\n\r\n        if (firstName && lastName && country && address1 && city && phone && zipCode) {\r\n\r\n            setFocusLocked(false)\r\n\r\n\r\n            if (addressType == \"shipping\") {\r\n\r\n                // handleSaveAddress(\"shipping\");\r\n                handleButtonsEnabled(\"shipping\");\r\n                setShippingNotSet(false);\r\n                setShipSaveModal(true);\r\n                document.getElementById('shipSavedModal')\r\n                    .style.display = \"initial\";\r\n                document.getElementById('shipSavedModal')\r\n                    .setAttribute(\"display\", \"initial\")\r\n            }\r\n\r\n            else {\r\n\r\n                handleButtonsEnabled(\"billing\");\r\n                setShipSaveModal(true);\r\n                document.getElementById('shipSavedModal')\r\n                    .style.display = \"initial\"\r\n\r\n\r\n            }\r\n            handleSaveAddress(addressType)\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    function handleSaveAddress(addressType) {\r\n        console.log(addressType)\r\n\r\n        if (addressType == \"shipping\" && document.getElementById('shipNextButton')) {\r\n            setShippingSaved(true)\r\n            setShipNextDisabled(false);\r\n            document.getElementById('shipNextButton').disabled(false);\r\n            document.getElementById('shipNextButton').setAttribute(\"disabled\", \"false\");\r\n        } else if (addressType == \"billing\" && document.getElementById('billNextButton')) {\r\n            setBillingSaved(true)\r\n            setBillNextDisabled(false);\r\n            document.getElementById('billNextButton').disabled(false);\r\n            document.getElementById('billNextButton').setAttribute(\"disabled\", \"false\");\r\n        }\r\n        // get the user's input based on address type\r\n\r\n        console.log(`handleSaveAddress executed. addressType: ${addressType}`)\r\n\r\n        let firstName = document.getElementById(`firstName${addressType}`).value\r\n        console.log(firstName)\r\n\r\n        let lastName = document.getElementById(`lastName${addressType}`).value\r\n\r\n\r\n        let countryElement = document.getElementById(`country${addressType}`);\r\n        let country = countryElement.options[countryElement.selectedIndex].value;\r\n        let address1 = document.getElementById(`address1${addressType}`).value\r\n\r\n        if (document.getElementById(`address2${addressType}`) !== null) {\r\n\r\n            let value = document.getElementById(`address2${addressType}`).value\r\n            setAddress2(value)\r\n            console.log(address2)\r\n        } else {\r\n            setAddress2(\"none\")\r\n            console.log(address2)\r\n        }\r\n        console.log(address2)\r\n        let city = document.getElementById(`city${addressType}`).value\r\n        let phone = document.getElementById(`phone${addressType}`).value\r\n        let zipCode = document.getElementById(`zipCode${addressType}`).value\r\n\r\n        // required fields incomplete for shipping?\r\n        if (\r\n            ((firstName == null)\r\n                ||\r\n                (lastName == null)\r\n                ||\r\n                (country == null)\r\n                ||\r\n                (address1 == null)\r\n                ||\r\n                (city == null)\r\n                ||\r\n                (phone == null))\r\n            && (addressType == \"shipping\")\r\n        ) {\r\n\r\n            setErrorShipping(true)\r\n            goToError(\"shipping\")\r\n            console.log(\"error with shipping.\")\r\n\r\n            // required fields incomplete for billing?\r\n        } else if (\r\n            ((firstName == null)\r\n                ||\r\n                (lastName == null)\r\n                ||\r\n                (country == null)\r\n                ||\r\n                (address1 == null)\r\n                ||\r\n                (city == null)\r\n                ||\r\n                (phone == null))\r\n            && (addressType == \"billing\")\r\n        ) {\r\n\r\n            setErrorBilling(true)\r\n            goToError(\"billing\")\r\n            console.log(\"error with billing\")\r\n\r\n            // is this address in america?\r\n        } else if (\r\n            ((addressType == \"shipping\") && americaShipping)\r\n            ||\r\n            ((addressType == \"billing\") && americaBilling)\r\n        ) {\r\n            let stateElement = document.getElementById(`state${addressType}`);\r\n            let state = stateElement.options[stateElement.selectedIndex].value;\r\n\r\n            // has the user not selected their state?\r\n            if ((state == null) && addressType == \"shipping\") {\r\n\r\n                setErrorShipping(true)\r\n                goToError(\"shipping\")\r\n                console.log(\"error with shipping\")\r\n            } else if ((state == null) && addressType == \"billing\") {\r\n\r\n                setErrorBilling(true)\r\n                goToError(\"billing\")\r\n                console.log(\"error with billing\")\r\n            } else {\r\n\r\n                if (addressType == \"shipping\") {\r\n                    setErrorShipping(false)\r\n                } else if (addressType == \"billing\") {\r\n                    setErrorBilling(false)\r\n                }\r\n\r\n                let addressInfo = {\r\n                    addressType,\r\n                    firstName,\r\n                    lastName,\r\n                    country,\r\n                    address1,\r\n                    address2,\r\n                    city,\r\n                    state,\r\n                    zipCode,\r\n                    phone,\r\n                    sameAsOtherAddress: !billingAddress\r\n                }\r\n                console.log(addressInfo)\r\n\r\n                let tempInfo = [\r\n                    addressType,\r\n                    firstName,\r\n                    lastName,\r\n                    country,\r\n                    address1,\r\n                    address2,\r\n                    city,\r\n                    state,\r\n                    zipCode,\r\n                    phone,\r\n                    !billingAddress\r\n                ]\r\n\r\n                console.log(tempInfo)\r\n\r\n                firebase.functions().httpsCallable('saveUserAddress')({ addressInfo })\r\n                if (addressType == \"shipping\") {\r\n                    // save temp shipping address\r\n                    setTempShipAddress(tempInfo)\r\n                } else if (addressType == \"billing\") {\r\n                    setTempBillAddress(tempInfo)\r\n                }\r\n\r\n\r\n                if (addressType == \"shipping\") {\r\n                    setShippingSaved(true)\r\n                    console.log(shippingSaved)\r\n                    setDisplaySaveShipAddressCheckmark(true)\r\n                } else if (addressType == \"billing\") {\r\n                    setBillingSaved(true)\r\n                    console.log(billingSaved)\r\n                    setDisplaySaveBillAddressCheckmark(true)\r\n                }\r\n\r\n            }\r\n            // Is this address not in america?\r\n        } else if (\r\n            ((addressType == \"shipping\") && !americaShipping)\r\n            ||\r\n            ((addressType == \"billing\") && !americaBilling)\r\n        ) {\r\n            let state = document.getElementById(`state${addressType}`).value\r\n\r\n            // has the user not selected their state?\r\n            if ((state == null) && addressType == \"shipping\") {\r\n\r\n                setErrorShipping(true)\r\n                goToError(\"shipping\")\r\n                console.log(\"error shipping\")\r\n            } else if ((state == null) && addressType == \"billing\") {\r\n\r\n                setErrorBilling(true)\r\n                goToError(\"billing\")\r\n                console.log(\"error billing\")\r\n            } else {\r\n\r\n                if (addressType == \"shipping\") {\r\n                    setErrorShipping(false)\r\n                    console.log(\"no error shipping\")\r\n                } else if (addressType == \"billing\") {\r\n                    setErrorBilling(false)\r\n                    console.log(\"no error shipping\")\r\n                }\r\n\r\n\r\n                let addressInfo = {\r\n                    addressType,\r\n                    firstName,\r\n                    lastName,\r\n                    country,\r\n                    address1,\r\n                    address2,\r\n                    city,\r\n                    state,\r\n                    zipCode,\r\n\r\n                    phone,\r\n                    sameAsOtherAddress: !billingAddress\r\n                }\r\n\r\n                let tempInfo = [\r\n                    addressType,\r\n                    firstName,\r\n                    lastName,\r\n                    country,\r\n                    address1,\r\n                    address2,\r\n                    city,\r\n                    state,\r\n                    zipCode,\r\n                    phone,\r\n                    !billingAddress\r\n                ]\r\n\r\n                console.log(tempInfo)\r\n\r\n                setAddressCache(addressInfo)\r\n\r\n                console.log(addressInfo)\r\n                // if (!anonUser) {\r\n                firebase.functions().httpsCallable('saveUserAddress')({ addressInfo })\r\n                if (addressType == \"shipping\") {\r\n                    // save temp shipping address\r\n                    setTempShipAddress(tempInfo)\r\n                } else if (addressType == \"billing\") {\r\n                    setTempBillAddress(tempInfo)\r\n                }\r\n                // }\r\n\r\n                if (addressType == \"shipping\") {\r\n                    setShippingSaved(true)\r\n                    console.log(\"shipping saved\")\r\n                    setDisplaySaveShipAddressCheckmark(true)\r\n                } else if (addressType == \"billing\") {\r\n                    setBillingSaved(true)\r\n                    console.log(\"billing saved\")\r\n                    setDisplaySaveBillAddressCheckmark(true)\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        console.log(\"save address finished. Address cache: \" + addressCache)\r\n    }\r\n\r\n    const [shipSaveModal, setShipSaveModal] = useState(false)\r\n\r\n\r\n    /////////////////////\r\n    // const [stripeDisplayed, setStripeDisplayed] = useState(false)\r\n\r\n    // function displayStripe() {\r\n    //     // document.getElementById(\"shipRush\").setAttribute('disabled', \"true\")\r\n    //     // document.getElementById(\"shipRush\").disabled = true\r\n    //     // document.getElementById(\"shipExpedited\").setAttribute('disabled', \"true\")\r\n    //     // document.getElementById(\"shipExpedited\").disabled = true\r\n    //     // document.getElementById(\"shipStandard\").setAttribute('disabled', \"true\")\r\n    //     // document.getElementById(\"shipStandard\").disabled = true\r\n    //     // document.getElementById(\"shippingInput\").setAttribute('display', 'none')\r\n\r\n    //     setStripeDisplayed(true)\r\n\r\n    // }\r\n\r\n\r\n\r\n\r\n    // should we display address line two for this address type?\r\n    function handleAddress2(addressType) {\r\n\r\n        if (addressType == \"shipping\") {\r\n\r\n            setAddress2Shipping(!address2Shipping)\r\n        } else if (addressType == \"billing\") {\r\n\r\n            setAddress2Billing(!address2Billing)\r\n        }\r\n\r\n        address2Shipping ?\r\n            setAddress2ShippingButton(\" Add Address Line 2\")\r\n            :\r\n            setAddress2ShippingButton(\" Remove Address Line 2\")\r\n\r\n\r\n        address2Billing ?\r\n            setAddress2BillingButton(\" Add Address Line 2\")\r\n            :\r\n            setAddress2BillingButton(\" Remove Address Line 2\")\r\n    }\r\n\r\n    //////////////////////////////\r\n\r\n\r\n\r\n    function handleCountry(addressType) {\r\n\r\n        let e = document.getElementById(`country${addressType}`);\r\n        let selectedCountry = e.options[e.selectedIndex].value;\r\n\r\n        if (addressType == \"shipping\") {\r\n\r\n            if ((selectedCountry == \"United States of America\") && !americaShipping) {\r\n                setAmericaShipping(true)\r\n            }\r\n            else if ((selectedCountry !== \"United States of America\") && americaShipping) {\r\n                setAmericaShipping(false)\r\n                setShippingInternational(true)\r\n            } else {\r\n                return\r\n            }\r\n        } else if (addressType == \"billing\") {\r\n\r\n            if ((selectedCountry == \"United States of America\") && !americaBilling) {\r\n                setAmericaBilling(true)\r\n            }\r\n            else if ((selectedCountry !== \"United States of America\") && americaBilling) {\r\n                setAmericaBilling(false)\r\n            } else {\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const [usePrevEmail, setUsePrevEmail] = useState(true)\r\n    const [notUsePrevEmail, setNotUsePrevEmail] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n        if (usePrevEmail) {\r\n            setNotUsePrevEmail(false)\r\n        } else {\r\n            setNotUsePrevEmail(true)\r\n        }\r\n    }, [usePrevEmail])\r\n\r\n\r\n    ///////////////////// calculate international shipping as necessary\r\n    useEffect(() => {\r\n        if (shippingInternational) {\r\n            let costWithTax = Number(totalCost * 1.05)\r\n            setShippingCost(2500)\r\n            setCostTaxShipping(Number(costWithTax + 2500))\r\n        }\r\n    }, [shippingInternational])\r\n\r\n\r\n    ///////////////////////////\r\n    // set automatic shipping and tax...\r\n    useEffect(() => {\r\n        let costWithTax = Number(totalCost * 1.05)\r\n        setTaxAmount(Number(costWithTax - totalCost))\r\n\r\n    }, [])\r\n\r\n\r\n    //////////////\r\n\r\n    const [finalCostDisplayed, setFinalCostDisplayed] = useState(false)\r\n    const [shippingSelected, setShippingSelected] = useState(true)\r\n\r\n    function handleShipType(input) {\r\n        // lousiana tax rate is just less than 5%. Shipping price is included in cents, as is cost\r\n        setShipType(input)\r\n        setFinalCostDisplayed(true)\r\n        setShippingSelected(true)\r\n        let costWithTax = Number(totalCost * 1.05)\r\n\r\n        if (input == \"standard\") {\r\n            setEstDelivery(deliverStandardDate)\r\n            setShippingCost(900)\r\n            setCostTaxShipping(Number(costWithTax + 900))\r\n        } else if (input == \"expedited\") {\r\n            setEstDelivery(deliverExpeditedDate)\r\n            setShippingCost(1200)\r\n            setCostTaxShipping(Number(costWithTax + 1200))\r\n        } else if (input == \"rush\") {\r\n            setEstDelivery(deliverRushDate)\r\n            setShippingCost(1600)\r\n            setCostTaxShipping(Number(costWithTax + 1600))\r\n        }\r\n    }\r\n\r\n    ////////////////////////////////\r\n\r\n    function goToError(addressType) {\r\n\r\n\r\n        var loc = document.location.toString().split('#')[0]\r\n        document.location = loc + '#' + `anchor${addressType}`\r\n        return false\r\n\r\n    }\r\n\r\n    ////////////////////////////////\r\n\r\n    const [value, setValue] = useState(\"\")\r\n    const [possibleNumber, setPossibleNumber] = useState(false)\r\n\r\n    const [country, setCountry] = useState(\"\")\r\n    const [region, setRegion] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        let bool = isPossiblePhoneNumber(value)\r\n        setPossibleNumber(bool)\r\n\r\n    }, [value])\r\n\r\n\r\n    useEffect(() => {\r\n        if (userInfo.prevAddressBilling) {\r\n            if (userInfo.prevAddressBilling[0] === undefined) {\r\n                setDisplayAddressForm(true)\r\n            }\r\n        } else {\r\n            setDisplayAddressForm(true)\r\n        }\r\n\r\n    }, [])\r\n\r\n    const [shipButtonDisabled, setShipButtonDisabled] = useState(false)\r\n    const [billButtonDisabled, setBillButtonDisabled] = useState(false)\r\n\r\n    function handleButtonsEnabled(addressType) {\r\n        console.log(addressType)\r\n        let first = document.getElementById(`firstName${addressType}`).value\r\n        console.log(first + first.length)\r\n        let last = document.getElementById(`lastName${addressType}`).value\r\n        console.log(last + last.length)\r\n        let add = document.getElementById(`address1${addressType}`).value\r\n        console.log(add + add.length)\r\n        let city = document.getElementById(`city${addressType}`).value\r\n        console.log(city + city.length)\r\n        let state = document.getElementById(`state${addressType}`).value\r\n        console.log(state + state.length)\r\n        let zip = document.getElementById(`zipCode${addressType}`).value\r\n        console.log(zip + zip.length)\r\n        let count = document.getElementById(`country${addressType}`).value\r\n        console.log(count + count.length)\r\n        let phone = document.getElementById(`phone${addressType}`).value\r\n        console.log(phone + phone.length)\r\n        let email = document.getElementById(\"emailInputText\").value\r\n        console.log(email + email.length)\r\n        let num = Number(email.length *\r\n            phone.length *\r\n            count.length *\r\n            zip.length *\r\n            state.length *\r\n            city.length *\r\n            add.length *\r\n            last.length *\r\n            first.length)\r\n        console.log(num)\r\n        console.log(num > 0)\r\n        let num2 = Number(phone.length *\r\n            count.length *\r\n            zip.length *\r\n            state.length *\r\n            city.length *\r\n            add.length *\r\n            last.length *\r\n            first.length)\r\n        console.log(num2)\r\n        console.log(num2 > 0)\r\n\r\n        if ((addressType == \"shipping\") && (num > 0)) {\r\n            console.log(\"shipping\")\r\n            console.log(num > 0)\r\n            let tempInfo = [\r\n                document.getElementById(`firstName${addressType}`).value,\r\n                document.getElementById(`lastName${addressType}`).value,\r\n                document.getElementById(`address1${addressType}`).value,\r\n                document.getElementById(`city${addressType}`).value,\r\n                document.getElementById(`state${addressType}`).value,\r\n                document.getElementById(`zipCode${addressType}`).value,\r\n                document.getElementById(`country${addressType}`).value,\r\n                document.getElementById(`phone${addressType}`).value,\r\n                document.getElementById(\"emailInputText\").value\r\n            ]\r\n            setTempShipAddress(tempInfo)\r\n            console.log(\"temp info: \" + tempInfo)\r\n            setShipButtonDisabled(false)\r\n            handleSaveAddress(\"shipping\")\r\n\r\n        } else if ((addressType == \"shipping\") && (num == 0)) {\r\n            setShipButtonDisabled(true)\r\n            console.log(\"disabled ship button\")\r\n            console.log(num)\r\n        }\r\n        else if ((addressType == \"billing\") && (num2 > 0)) {\r\n            console.log(\"billing\")\r\n            console.log(num2)\r\n\r\n            let tempInfo = [\r\n                document.getElementById(`firstName${addressType}`).value,\r\n                document.getElementById(`lastName${addressType}`).value,\r\n                document.getElementById(`address1${addressType}`).value,\r\n                document.getElementById(`city${addressType}`).value,\r\n                document.getElementById(`state${addressType}`).value,\r\n                document.getElementById(`zipCode${addressType}`).value,\r\n                document.getElementById(`country${addressType}`).value,\r\n                document.getElementById(`phone${addressType}`).value\r\n            ]\r\n            setTempBillAddress(tempInfo)\r\n            console.log(\"temp info: \" + tempInfo)\r\n            setBillButtonDisabled(false)\r\n            handleSaveAddress(\"billing\")\r\n\r\n        } else if ((addressType == \"billing\") && (num2 == 0)) {\r\n            console.log(num2)\r\n            setBillButtonDisabled(true)\r\n            console.log(\"disabled bill button\")\r\n        }\r\n    }\r\n\r\n\r\n    function AddressComponent(props) {\r\n        console.log(props)\r\n        console.log(`${props.addressType}`)\r\n        let addressType = props.addressType.toString()\r\n        let addressTypeBilling = (addressType == \"billing\")\r\n        let addressTypeShipping = (addressType == \"shipping\")\r\n        return (\r\n            <div\r\n                style={{\r\n                    \"width\": \"80%\",\r\n                    \"max-width\": \"80vw\",\r\n                    \"background-color\": \"black\",\r\n                    \"z-index\": \"89\",\r\n                    \"box-shadow\": \"0px 0px 5px white\",\r\n                    \"margin-top\": '1em',\r\n                    \"height\": `${isLargeScreen ? \"initial\" : \"100em\"}`\r\n                    // \"float\": `${isLargeScreen ? \"none\" : \"left\"}`,\r\n                    // \"right\": `${isLargeScreen ? \"none\" : \"25vw\"}`\r\n                    // \"height\": \"150em\"\r\n                }}\r\n                className=\"centered\"\r\n                id={`addressComponent${addressType}`}>\r\n                <a href={`/checkout/#${addressType}`}>\r\n                    <h1>\r\n                        {props.addressType.toString().charAt(0).toUpperCase() +\r\n                            props.addressType.toString().slice(1)} Details</h1>\r\n                </a>\r\n                <br></br>\r\n                <p className=\"subscript\" style={{ \"fontSize\": \"small\" }}>*required field</p>\r\n                {(addressTypeShipping && errorShipping) &&\r\n                    (<div className=\"centered\">\r\n                        <h2 className=\"error centered\">{inputErrorMessage}</h2>\r\n                    </div>)}\r\n                {(addressTypeBilling && errorBilling) &&\r\n                    (<div className=\"centered\">\r\n                        <h2 className=\"error centered\">{inputErrorMessage}</h2>\r\n                    </div>)}\r\n                <FocusLock disabled={(!focusLocked || isLargeScreen)}>\r\n                    <form\r\n\r\n                        onChange={() => { handleFocus(addressType) }}\r\n                        className=\"addressInfoForm centered2\"\r\n                        style={{\r\n                            \"margin-left\": `${isLargeScreen ? \"auto\" : \"none\"}`,\r\n                            \"margin-right\": `${isLargeScreen ? \"50vw\" : \"none\"}`\r\n                        }}>\r\n                        <div className=\"show-for-large\">\r\n\r\n                        </div>\r\n                        <div>\r\n                            <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"}\r\n                                style={{\r\n                                    \"width\": `${isLargeScreen ? \"46vw\" : \"70vw\"}`,\r\n                                    \"right\": \"20vw\"\r\n                                }}>\r\n\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"23vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\",\r\n                                }}>\r\n                                    <h4>First Name *</h4>\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => document.getElementById(`firstName${addressType}`).focus()}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        id={`firstName${addressType}`} type=\"text\" required></input>\r\n\r\n                                </span>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"23vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    <h4>Last Name *</h4>\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => document.getElementById(`lastName${addressType}`).focus()}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        id={`lastName${addressType}`} type=\"text\" required></input>\r\n                                </span>\r\n\r\n                            </Flexbox>\r\n                        </div>\r\n                        <div>\r\n                            <Flexbox\r\n                                flexDirection={isLargeScreen ? \"row\" : \"column\"}\r\n                                style={{ \"width\": `${isLargeScreen ? \"45vw\" : \"100vw\"}` }}>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"23vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    <h4 className=\"centered\">Address *</h4>\r\n\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        width={isLargeScreen ? \"22vw\" : \"70vw\"}\r\n                                        className=\"centered\"\r\n                                        id={`address1${addressType}`}\r\n                                        type=\"text\" required></input>\r\n\r\n\r\n                                    {(props.addressType == \"shipping\") &&\r\n                                        (<div className=\"centered\" style={{\r\n                                            \"display\": \"inline\",\r\n                                            // \"bottom\": \"-3.5em\",\r\n                                            // \"position\": \"absolute\",\r\n                                            // \"right\": \"30vw\",\r\n                                            \"width\": \"10vw\"\r\n                                        }}>\r\n                                            <button\r\n                                                style={{ \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}` }}\r\n                                                className=\"button primary\"\r\n                                                type=\"button\"\r\n                                                onClick={() => { handleAddress2(`${addressType}`) }}>{address2ShippingButton}</button>\r\n                                        </div>)}\r\n                                    {(props.addressType == \"billing\") &&\r\n                                        (<div className=\"centered\" style={{\r\n                                            \"display\": \"inline\",\r\n                                            // \"bottom\": \"-3.5em\",\r\n                                            // \"position\": \"absolute\",\r\n                                            // \"right\": \"30vw\",\r\n                                            \"width\": `${isLargeScreen ? \"10vw\" : \"20vw\"}`\r\n\r\n                                        }}>\r\n                                            <button\r\n                                                style={{ \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}` }}\r\n                                                className=\"button primary\"\r\n                                                type=\"button\"\r\n                                                onClick={() => { handleAddress2(`${addressType}`) }}>{address2BillingButton}</button>\r\n                                        </div>)}\r\n                                </span>\r\n                                <span style={{\r\n                                    \"width\": \"20vw\",\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    {(\r\n                                        (address2Shipping && addressTypeShipping)\r\n                                        ||\r\n                                        (address2Billing && addressTypeBilling)\r\n                                    ) &&\r\n                                        (<div>\r\n                                            <h4\r\n                                                style={{ \"whiteSpace\": \"nowrap\" }}\r\n                                                width=\"100%\">Address Line 2</h4>\r\n\r\n                                            <input\r\n                                                onClick={() => { setFocusLocked(true) }}\r\n                                                // onClick={() => setCanResize(false)}\r\n                                                // onBlur={() => setCanResize(true)}\r\n                                                style={{ \"width\": `${isLargeScreen ? \"20vw\" : \"70vw\"}` }}\r\n                                                className=\"centered\"\r\n                                                id={`address2${addressType}`}\r\n                                                type=\"text\"></input>\r\n\r\n                                        </div>)}\r\n                                </span>\r\n                            </Flexbox>\r\n                            <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"} style={{ \"width\": \"100vw\" }}>\r\n\r\n                                <span style={{\r\n                                    \"width\": \"20vw\",\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    <h4 className=\"centered\">City *</h4>\r\n\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        style={{ \"width\": `${isLargeScreen ? \"20vw\" : \"70vw\"}` }}\r\n                                        className=\"centered\"\r\n                                        id={`city${addressType}`}\r\n                                        type=\"text\" required></input>\r\n\r\n                                </span>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"20vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    <h4>Zip *</h4>\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        id={`zipCode${addressType}`} type=\"text\" required></input>\r\n                                </span>\r\n                            </Flexbox>\r\n                            <Flexbox\r\n                                onClick={() => { setFocusLocked(false) }}\r\n                                flexDirection={isLargeScreen ? \"row\" : \"column\"} style={{ \"width\": \"100vw\" }}>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"20vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\",\r\n                                    \"height\": \"6em\"\r\n                                }}>\r\n                                    <h4 className=\"centered\">Country *</h4>\r\n                                    {isLargeScreen\r\n                                        ?\r\n                                        <CountryDropdown\r\n                                            value={country}\r\n                                            id={`country${addressType}`}\r\n                                            onChange={(val) => setCountry(val)} />\r\n                                        :\r\n                                        <input\r\n                                            onClick={() => { setFocusLocked(true) }}\r\n                                            // onClick={() => setCanResize(false)}\r\n                                            // onBlur={() => setCanResize(true)}\r\n                                            id={`country${addressType}`} type=\"text\" required></input>\r\n                                    }\r\n\r\n                                </span>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"20vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    <h4>State/Province *</h4>\r\n                                    {isLargeScreen\r\n                                        ?\r\n                                        <RegionDropdown\r\n                                            id={`state${addressType}`}\r\n                                            country={country}\r\n                                            value={region}\r\n                                            onChange={(val) => setRegion(val)} />\r\n                                        :\r\n                                        <input\r\n                                            onClick={() => { setFocusLocked(true) }}\r\n                                            // onClick={() => setCanResize(false)}\r\n                                            // onBlur={() => setCanResize(true)}\r\n                                            id={`state${addressType}`} type=\"text\" required></input>\r\n                                    }\r\n                                </span>\r\n\r\n\r\n                            </Flexbox>\r\n                            <Flexbox\r\n                                flexDirection={isLargeScreen ? \"row\" : \"column\"}\r\n                                style={{ \"width\": `${isLargeScreen ? \"45vw\" : \"40vw\"}` }}>\r\n\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"23vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\",\r\n                                    \"marginTop\": \"1.3em\"\r\n                                }}>\r\n                                    <h4>Phone *</h4>\r\n                                    {/* <input className=\"centered\" id={`phone${addressType}`} type=\"text\"></input> */}\r\n                                    <input\r\n                                        onClick={() => { setFocusLocked(true) }}\r\n                                        // onClick={() => setCanResize(false)}\r\n                                        // onBlur={() => setCanResize(true)}\r\n                                        id={`phone${addressType}`} type=\"text\" required></input>\r\n\r\n                                </span>\r\n                                <span style={{\r\n                                    \"width\": `${isLargeScreen ? \"23vw\" : \"70vw\"}`,\r\n                                    \"display\": \"inline\",\r\n                                    \"margin\": \"1em\"\r\n                                }}>\r\n                                    {(showEmailInput) &&\r\n                                        <span className=\"centered\" style={{\r\n                                            \"width\": \"100%\",\r\n                                            \"bottom\": \"2em\",\r\n                                            \"left\": `${isLargeScreen && \".5em\"}`\r\n                                        }}>\r\n                                            <h3>Email *</h3>\r\n                                            <input\r\n                                                onClick={() => { setFocusLocked(true) }}\r\n                                                // onClick={() => setCanResize(false)}\r\n                                                // onBlur={() => setCanResize(true)}\r\n                                                width={isLargeScreen ? \"38vw\" : \"50vw\"} type=\"text\" id=\"emailInputText\"></input>\r\n\r\n                                            {/* <label style={{ \"color\": \"white\" }} for=\"saveThisEmail\">Save Email Address</label>\r\n                                        <input type=\"checkbox\" id=\"saveThisEmail\" selected\r\n                                            onClick={() => { toggleSaveEmail() }}\r\n                                        ></input> */}\r\n                                        </span>\r\n                                    }\r\n                                </span>\r\n\r\n                            </Flexbox>\r\n                        </div>\r\n                    </form>\r\n                    <div className=\" centered\" style={{\r\n                        \"position\": \"relative\",\r\n                        \"margin\": \"5em\",\r\n                        \"float\": `${isLargeScreen ? \"none\" : \"left\"}`,\r\n                        \"top\": `${isLargeScreen ? \"none\" : \"-5em\"}`\r\n                    }}>\r\n                        <Flexbox flexDirection=\"column\" style={{\r\n                            \"bottom\": `${isLargeScreen ? \"10em\" : \"12em\"}`,\r\n                            \"max-width\": \"50vw\",\r\n                            \"left\": `${isLargeScreen ? \"20vw\" : \"0vw\"}`\r\n                        }}>\r\n                            {addressTypeShipping &&\r\n                                (<div class={`${isLargeScreen ? \"switch centered\" : \"switch centered tiny\"}`}\r\n                                    style={{ \"margin\": `${isLargeScreen ? \"initial\" : \"0em\"}` }}>\r\n                                    <p>Same as Billing Address</p>\r\n                                    <input\r\n                                        name=\"keepMeSignedIn\"\r\n                                        class=\"switch-input\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"sameAsBilling\"\r\n                                        checked={sameAsBilling}\r\n                                        onClick={() => {\r\n                                            setSameAsBilling(!sameAsBilling);\r\n                                            setUsePrevBilling(!usePrevBilling);\r\n                                            setBillingAddress(!billingAddress)\r\n                                        }}\r\n                                    ></input>\r\n                                    <label class=\"switch-paddle\" for=\"sameAsBilling\">\r\n                                        <span\r\n                                            style={{ \"color\": \"white\" }}\r\n                                            class=\"show-for-sr\">Same as billing address</span>\r\n                                    </label>\r\n                                </div>)\r\n                            }\r\n\r\n                            <div style={{ \"height\": \"4em\" }}>\r\n\r\n                            </div>\r\n                            <div className=\"hide-for-large\" style={{ \"height\": \"1em\" }}></div>\r\n\r\n                            {(addressTypeShipping && !shipButtonDisabled && isLargeScreen) && (\r\n                                <div\r\n                                    style={{\r\n                                        \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`\r\n                                    }}>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"centered button primary fromRight\"\r\n                                        id=\"saveShipping\"\r\n                                        style={{\r\n                                            \"top\": `${isLargeScreen ? \"7em\" : \"15em\"}`,\r\n                                            \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                            \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`,\r\n                                            \"fontSize\": `${isLargeScreen ? \"medium\" : \"smaller\"}`,\r\n                                            \"left\": `${isLargeScreen ? \"initial\" : \"2em\"}`,\r\n\r\n                                        }}\r\n                                        onClick={\r\n                                            () => {\r\n                                                setFocusLocked(false);\r\n                                                // handleSaveAddress(\"shipping\");\r\n                                                handleButtonsEnabled(\"shipping\");\r\n                                                setShippingNotSet(false);\r\n                                                setShipSaveModal(true);\r\n                                                document.getElementById('shipSavedModal')\r\n                                                    .style.display = \"initial\";\r\n                                                document.getElementById('shipSavedModal')\r\n                                                    .setAttribute(\"display\", \"initial\")\r\n\r\n\r\n                                            }}>\r\n                                        {sameAsBilling ? \"Save Address\" : \"Save Shipping\"}</button>\r\n\r\n                                </div>)}\r\n                            {(addressTypeShipping && !shipButtonDisabled && !isLargeScreen) &&\r\n\r\n                                <Flexbox flexDirection=\"row\" style={{\r\n                                    \"top\": \"10em\", \"position\": \"relative\",\r\n                                    \"whiteSpace\": \"nowrap\", \"right\": \"2em\"\r\n                                }}>\r\n                                    <div\r\n                                        style={{\r\n                                            \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`\r\n                                        }}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"centered button primary fromRight\"\r\n                                            id=\"saveShipping\"\r\n                                            style={{\r\n                                                \"top\": `${isLargeScreen ? \"7em\" : \"15em\"}`,\r\n                                                \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                                \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`,\r\n                                                \"fontSize\": `${isLargeScreen ? \"medium\" : \"smaller\"}`,\r\n                                                \"left\": `${isLargeScreen ? \"initial\" : \"2em\"}`,\r\n\r\n                                            }}\r\n                                            onClick={\r\n                                                () => {\r\n                                                    setFocusLocked(false);\r\n                                                    // handleSaveAddress(\"shipping\");\r\n                                                    handleButtonsEnabled(\"shipping\");\r\n                                                    setShippingNotSet(false);\r\n                                                    setShipSaveModal(true);\r\n                                                    document.getElementById('shipSavedModal')\r\n                                                        .style.display = \"initial\";\r\n                                                    document.getElementById('shipSavedModal')\r\n                                                        .setAttribute(\"display\", \"initial\")\r\n\r\n\r\n                                                }}>\r\n                                            {sameAsBilling ? \"Save Address\" : \"Save Shipping\"}</button>\r\n\r\n                                    </div>\r\n                                    {/* <div className=\"shadowed\">\r\n                                        <button\r\n                                            // style={{\r\n                                            //     \"right\": `${isLargeScreen ? \"-8vw\" : \"40vw\"}`,\r\n                                            //     \"top\": `${isLargeScreen ? \"-9em\" : \"135em\"}`,\r\n                                            //     // \"bottom\": `${isLargeScreen ? \"inherit\" : \"20em\"}`,\r\n                                            //     \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                            //     \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                                            //     \"left\": `${isLargeScreen ? \"initial\" : \"11em\"}`\r\n                                            // }}\r\n                                            id='shipNextButton'\r\n                                            className=\"button primary narrowed centered\"\r\n                                            disabled={shipNextDisabled}\r\n                                            type=\"button\" onClick={() => { handleProgressShipAddress() }}>Next</button>\r\n                                    </div> */}\r\n                                </Flexbox>\r\n                            }\r\n                            {(addressTypeShipping && shipButtonDisabled && isLargeScreen) && (\r\n                                <div\r\n                                    style={{\r\n                                        \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`\r\n                                    }}>\r\n                                    <span data-tooltip class=\"has-tip top\" tabindex=\"2\" title=\"Make sure to complete all required fields.\">\r\n                                        <button\r\n                                            style={{\r\n                                                \"top\": `${isLargeScreen ? \"7em\" : \"15em\"}`,\r\n                                                \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                                \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`,\r\n                                                \"fontSize\": `${isLargeScreen ? \"medium\" : \"smaller\"}`,\r\n                                                \"left\": `${isLargeScreen ? \"initial\" : \"2em\"}`,\r\n                                            }}\r\n                                            type=\"button\"\r\n                                            className=\"centered button primary fromRight\"\r\n                                            id=\"saveShipping\"\r\n                                            style={{ \"top\": \"7em\" }}\r\n                                            onClick={\r\n                                                () => {\r\n                                                    setFocusLocked(false);\r\n                                                    // handleSaveAddress(\"shipping\");\r\n                                                    handleButtonsEnabled(\"shipping\");\r\n                                                    setShippingNotSet(false);\r\n                                                    // setShipSaveModal(true);\r\n\r\n                                                }}>\r\n                                            {sameAsBilling ? \"Save Address\" : \"Save Shipping\"} </button>\r\n                                    </span>\r\n\r\n                                </div>)}\r\n                            {(addressTypeShipping && shipButtonDisabled && !isLargeScreen) && (\r\n                                <Flexbox flexDirection=\"row\">\r\n                                    <div\r\n                                        style={{\r\n                                            \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`\r\n                                        }}>\r\n                                        <span data-tooltip class=\"has-tip top\" tabindex=\"2\" title=\"Make sure to complete all required fields.\">\r\n                                            <button\r\n                                                style={{\r\n                                                    \"top\": `${isLargeScreen ? \"7em\" : \"15em\"}`,\r\n                                                    \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                                    \"float\": `${isLargeScreen ? \"inherit\" : \"left\"}`,\r\n                                                    \"fontSize\": `${isLargeScreen ? \"medium\" : \"smaller\"}`,\r\n                                                    \"left\": `${isLargeScreen ? \"initial\" : \"2em\"}`,\r\n                                                }}\r\n                                                type=\"button\"\r\n                                                className=\"centered button primary fromRight\"\r\n                                                id=\"saveShipping\"\r\n                                                style={{ \"top\": \"7em\" }}\r\n                                                onClick={\r\n                                                    () => {\r\n                                                        setFocusLocked(false);\r\n                                                        // handleSaveAddress(\"shipping\");\r\n                                                        handleButtonsEnabled(\"shipping\");\r\n                                                        setShippingNotSet(false);\r\n                                                        // setShipSaveModal(true);\r\n\r\n                                                    }}>\r\n                                                {sameAsBilling ? \"Save Address\" : \"Save Shipping\"} </button>\r\n                                        </span>\r\n                                    </div>\r\n                                    {/* <div className=\"shadowed\">\r\n                                        <button\r\n                                            // style={{\r\n                                            //     \"right\": `${isLargeScreen ? \"-8vw\" : \"40vw\"}`,\r\n                                            //     \"top\": `${isLargeScreen ? \"-9em\" : \"135em\"}`,\r\n                                            //     // \"bottom\": `${isLargeScreen ? \"inherit\" : \"20em\"}`,\r\n                                            //     \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                            //     \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                                            //     \"left\": `${isLargeScreen ? \"initial\" : \"11em\"}`\r\n                                            // }}\r\n                                            id='shipNextButton'\r\n                                            className=\"button primary narrowed centered\"\r\n                                            disabled={shipNextDisabled}\r\n                                            type=\"button\" onClick={() => { handleProgressShipAddress() }}>Next</button>\r\n                                    </div> */}\r\n                                </Flexbox>)\r\n                            }\r\n                            {(addressTypeBilling && !billButtonDisabled) && (<button\r\n                                id=\"saveBilling\"\r\n                                type=\"button\"\r\n                                style={{\r\n                                    \"top\": `${isLargeScreen ? \"0em\" : \"10em\"}`,\r\n                                    \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                    \"fontSize\": `${isLargeScreen ? \"medium\" : \"smaller\"}`,\r\n                                    \"left\": `${isLargeScreen ? \"9em\" : \"2em\"}`,\r\n                                    \"position\": `${isLargeScreen ? \"relative\" : \"\"}`\r\n                                }}\r\n                                className=\"centered button primary fromRight\"\r\n                                onClick={\r\n                                    () => {\r\n                                        setFocusLocked(false);\r\n                                        handleButtonsEnabled(\"billing\");\r\n                                        setShipSaveModal(true);\r\n                                        document.getElementById('shipSavedModal')\r\n                                            .style.display = \"initial\"\r\n                                    }}>Save Billing</button>)\r\n                            }\r\n                            {(addressTypeBilling && billButtonDisabled) && (\r\n\r\n                                <span data-tooltip class=\"has-tip top\" tabindex=\"2\" title=\"Make sure to complete all required fields.\">\r\n                                    <button\r\n                                        style={{\r\n                                            \"top\": `${isLargeScreen ? \"7em\" : \"10em\"}`,\r\n                                            \"width\": `${isLargeScreen ? \"20vw\" : \"40vw\"}`,\r\n                                            \"left\": `${isLargeScreen ? \"initial\" : \"2em\"}`,\r\n                                        }}\r\n                                        id=\"saveBilling\"\r\n                                        type=\"button\"\r\n                                        style={{ \"top\": \"7em\" }}\r\n                                        className=\"centered button primary fromRight\"\r\n                                        onClick={\r\n                                            () => {\r\n                                                handleSaveAddress(\"billing\");\r\n                                                handleButtonsEnabled(\"billing\");\r\n                                                setFocusLocked(false);\r\n                                            }}>\r\n                                        {(shippingSaved) && \"\"} Save Billing </button>\r\n                                </span>)\r\n                            }\r\n\r\n                            {(((`${addressType}` == \"shipping\") && (shippingSaved))\r\n                                ||\r\n                                ((`${addressType}` == \"billing\") && (billingSaved))\r\n                            ) &&\r\n                                (\r\n                                    <div style={{\r\n                                        \"position\": \"relative\",\r\n                                        \"float\": \"right\",\r\n                                        \"bottom\": \"4em\"\r\n                                    }}>\r\n                                        <div className=\"addressModal\" id=\"shipSavedModal\" style={{\r\n                                            \"top\": `${isLargeScreen ? \"16.5vw\" : \"65vw\"}`,\r\n                                            \"left\": `${isLargeScreen ? \"30vw\" : \"5vw\"}`,\r\n                                            \"display\": `${shipSaveModal ? \"initial\" : \"none\"}`,\r\n                                            \"box-shadow\": \"0px 0px 5px white\",\r\n                                            \"zIndex\": \"99\",\r\n                                        }}>\r\n                                            <button\r\n                                                onClick={() => { setShipSaveModal(false) }}\r\n                                                class=\"close-button\">X</button>\r\n                                            <span id=\"saveShipAddressCheck\" style={{\r\n                                                \"zIndex\": \"96\",\r\n                                                // \"left\": \"24vw\",\r\n                                                // \"top\": `${addressType == \"shipping\" ?\r\n                                                //     (document.getElementById('saveShipping')c + 20)\r\n                                                //     : (document.getElementById('saveBilling').getBoundingClientRect().top + window.scrollY + 20)}`,\r\n                                                \"position\": \"relative\"\r\n                                            }}>\r\n\r\n                                                <Checkmark className=\"centered\" color=\"#3adb76\"\r\n                                                    size=\"large\" />\r\n                                            </span>\r\n                                            <span className=\"centered shadow\" style={{\r\n                                                \"max-width\": \"50vw\",\r\n                                                // \"background-color\": \"black\",\r\n                                                \"max-height\": \"4em\",\r\n                                                \"left\": \"24vw\"\r\n                                            }}>\r\n                                                <p style={{\r\n                                                    \"max-width\": \"200vw\", \"fontSize\": \"small\",\r\n                                                    \"margin\": '1em'\r\n                                                }}>\r\n                                                    Your address has been saved.</p>\r\n                                            </span>\r\n                                            {(`${addressType}` == \"shipping\") ? <button\r\n                                                type=\"button\"\r\n                                                className=\"functionalModalButton button primary\"\r\n                                                id=\"shipSaveModalButton\"\r\n                                                style={{ \"width\": \"5em\" }}\r\n                                                onClick={() => {\r\n                                                    setShipSaveModal(false)\r\n                                                    handleProgressShipAddress()\r\n                                                    // modalExecute();\r\n                                                    // turnOffModal()\r\n                                                }}>Next</button>\r\n                                                :\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    className=\"functionalModalButton button primary\"\r\n                                                    id=\"shipSaveModalButton\"\r\n                                                    style={{ \"width\": \"5em\" }}\r\n                                                    onClick={() => {\r\n                                                        setShipSaveModal(false)\r\n                                                        setTabIndex(3)\r\n                                                        // modalExecute();\r\n                                                        // turnOffModal()\r\n                                                    }}>Next</button>}\r\n                                        </div>\r\n\r\n\r\n\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            <div className=\"hide-for-large\" style={{ \"height\": \"7em\" }}></div>\r\n                        </Flexbox>\r\n                    </div>\r\n                </FocusLock>\r\n            </div >\r\n        )\r\n    }\r\n\r\n\r\n\r\n    const [undefinedAddress, setUndefinedAddress] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            if (userInfo.prevAddressShipping) {\r\n                if (userInfo.prevAddressShipping[0] === undefined) {\r\n                    setUndefinedAddress(true)\r\n                }\r\n            }\r\n        }\r\n        if (!userInfo.prevAddressShipping) {\r\n            setUndefinedAddress(true)\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n    const [displayAddressCheckmark, setDisplayAddressCheckmark] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let checkmark = document.getElementById(\"displayAddressCheckmark\")\r\n\r\n        if (eachLoaded && checkmark) {\r\n\r\n            if (displayAddressCheckmark) {\r\n                checkmark.style.visibility = \"visible\"\r\n                checkmark.setAttribute(\"visibility\", \"visible\")\r\n            } else {\r\n                checkmark.style.visibility = \"hidden\"\r\n                checkmark.setAttribute(\"visibility\", \"hidden\")\r\n            }\r\n        }\r\n    }, [displayAddressCheckmark])\r\n\r\n    /////////////////\r\n    ///////////////////\r\n    /////////////////////\r\n\r\n    // const [showSavedAddress, setShowSavedAddress] = useState(\"none\")\r\n\r\n    // function showPrevAddress() {\r\n\r\n    //     if (!(userInfo.prevAddressShipping && !undefinedAddress)) {\r\n    //         setShowSavedAddress(\"none\")\r\n    //     } else {\r\n    //         setShowSavedAddress(\"initial\")\r\n    //     }\r\n\r\n    // }\r\n\r\n\r\n    // function showPrevAddress() {\r\n\r\n    //     if (!(userInfo.prevAddressShipping && !undefinedAddress)) {\r\n    //         setShowSavedAddress(\"none\")\r\n    //     } else {\r\n    //         setShowSavedAddress(\"initial\")\r\n    //     }\r\n\r\n    // }\r\n\r\n    const [tabIndex, setTabIndex] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (!(userInfo.prevAddressShipping && !undefinedAddress)) {\r\n            setTabIndex(1)\r\n        }\r\n    }, [userInfo, undefinedAddress])\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, document.getElementById('headerHeight').getBoundingClientRect().top + window.scrollY);\r\n    }, [tabIndex])\r\n\r\n\r\n    function handleProgressPrevAddress() {\r\n        if (!usePrevShipping) {\r\n            setTabIndex(1)\r\n        } else {\r\n            setTabIndex(3)\r\n        }\r\n\r\n    }\r\n    function handleProgressShipAddress() {\r\n        if (billingAddress) {\r\n            setTabIndex(2)\r\n        } else {\r\n            setTabIndex(3)\r\n        }\r\n\r\n    }\r\n\r\n    const [prevNextDisabled, setPrevNextDisabled] = useState(true)\r\n    const [shipNextDisabled, setShipNextDisabled] = useState(true)\r\n    const [billNextDisabled, setBillNextDisabled] = useState(true)\r\n\r\n    const [directionString, setDirectionString] = useState(\"row\")\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (isLargeScreen) {\r\n            setDirectionString(\"row\")\r\n        } else {\r\n            setDirectionString(\"column\")\r\n        }\r\n\r\n    }, [isLargeScreen])\r\n\r\n\r\n\r\n    if (addressHandled) {\r\n\r\n\r\n        return (\r\n\r\n            <div>\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/cart\">Cart</Link></li>\r\n                        <li><Link to=\"/checkout\">Checkout</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Checkout</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div className=\"centered\">\r\n                    <Tabs\r\n                        defaultIndex={userInfo.prevAddressShipping ? 0 : 1}\r\n                        selectedIndex={tabIndex}\r\n                        onSelect={tabIndex => setTabIndex(tabIndex)}>\r\n                        <TabList >\r\n                            <Tab\r\n                                hidden={!(userInfo.prevAddressShipping && !undefinedAddress)}\r\n                                id=\"tabSavedAddress\"\r\n                                disabled={!(userInfo.prevAddressShipping && !undefinedAddress)}>Saved Address</Tab>\r\n                            <Tab\r\n                                id=\"tabShippingAddress\"\r\n                                hidden={!(displayAddressForm || undefinedAddress)}\r\n                                disabled={!(displayAddressForm || undefinedAddress)}\r\n                            >Shipping</Tab>\r\n                            <Tab\r\n                                id=\"tabBillingAddress\"\r\n                                hidden={!(billingAddress)}\r\n                                disabled={!(billingAddress)}>Billing</Tab>\r\n                            <Tab\r\n                                id=\"tabPayment\"\r\n                                hidden={!shippingSelected}\r\n                                disabled={\r\n                                    (!shippingSelected)\r\n                                    || shipButtonDisabled\r\n                                    || billButtonDisabled ||\r\n                                    shippingNotSet}>Payment</Tab>\r\n                            {/* <Tab disabled={!orderComplete}>Done</Tab> */}\r\n                        </TabList>\r\n\r\n                        <TabPanel>\r\n                            {(userInfo.prevAddressShipping && !undefinedAddress) &&\r\n                                <div class=\"form-row text-align-left\">\r\n                                    <div className=\"prevShipping\">\r\n                                        {(userInfo.prevAddressShipping[0]) &&\r\n                                            <div style={{\r\n                                                \"background-color\": \"black\",\r\n                                                \"box-shadow\": \"0px 0px 5px white\",\r\n                                                \"right\": \"10vw\",\r\n                                                \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`\r\n                                            }}>\r\n                                                <h4 id=\"shipToPrev\">Ship to address on file?</h4>\r\n\r\n\r\n                                                <span style={{\r\n                                                    \"maxWidth\": \"30vw\",\r\n                                                    \"textAlign\": \"left\"\r\n                                                }}>\r\n                                                    <p>Name: {`${userInfo.prevAddressShipping[0]} ${userInfo.prevAddressShipping[1]}`}</p>\r\n                                                    <p>Address: {`${userInfo.prevAddressShipping[3]}`}</p>\r\n                                                    <p>City: {`${userInfo.prevAddressShipping[5]}`}</p>\r\n                                                    <p>State: {`${userInfo.prevAddressShipping[6]}`}</p>\r\n                                                    <p>Zip: {`${userInfo.prevAddressShipping[7]}`}</p>\r\n                                                    <p>Email: {`${userInfo.prevAddressShipping[8]}`}</p>\r\n                                                </span>\r\n                                                <span>\r\n                                                    <div id=\"displayAddressCheckmark\">\r\n                                                        {/* <Checkmark\r\n                                                        style={{ \"visibility\": \"hidden\" }}\r\n                                                        size=\"xlarge\" /> */}\r\n                                                    </div>\r\n                                                </span>\r\n                                                <div style={{ \"height\": `${isLargeScreen ? \"initial\" : \"4em\"}` }}>\r\n                                                    <div style={{\r\n                                                        'float': `${isLargeScreen ? \"none\" : \"left\"}`,\r\n                                                        \"top\": `${isLargeScreen ? \"\" : \"7em\"}`\r\n                                                    }}>\r\n                                                        <button\r\n                                                            className=\"button primary\"\r\n                                                            type=\"button\"\r\n                                                            onClick={\r\n                                                                () => {\r\n                                                                    handleUsePrevAddress(true);\r\n                                                                    setDisplayAddressCheckmark(true);\r\n                                                                    setPrevNextDisabled(false);\r\n                                                                    setShippingNotSet(false)\r\n\r\n                                                                }} selected>\r\n                                                            Yes</button>\r\n                                                        <button className=\"button primary\" type=\"button\"\r\n                                                            onClick={\r\n                                                                () => {\r\n                                                                    handleUsePrevAddress(false);\r\n                                                                    setBillingSaved(false);\r\n                                                                    setShippingSaved(false);\r\n                                                                    setDisplayAddressCheckmark(false);\r\n                                                                    setTabIndex(1)\r\n                                                                }}>New Address</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>}\r\n                                        {(displayAddressCheckmark &&\r\n                                            userInfo.prevAddressShipping[0]) &&\r\n                                            <div className=\"addressModal\" style={{\r\n                                                \"top\": `${isLargeScreen ? \"16.5vw\" : \"65vw\"}`,\r\n                                                \"left\": `${isLargeScreen ? \"30vw\" : \"0vw\"}`,\r\n                                            }}>\r\n                                                <Checkmark className=\"centered narrowed3\" color=\"#3adb76\" size=\"large\"\r\n                                                    style={{\r\n                                                        \"top\": `${isLargeScreen ? \"5em\" : \"2em\"}`,\r\n                                                        \"position\": `${isLargeScreen && \"absolute\"}`\r\n                                                    }} />\r\n                                                <p>Shipping to your previous address.</p>\r\n                                                <button\r\n                                                    className=\"button primary\"\r\n                                                    onClick={() => {\r\n                                                        handleProgressPrevAddress();\r\n                                                        setDisplayAddressCheckmark(false)\r\n                                                    }}>Next</button>\r\n                                            </div>\r\n                                        }\r\n                                        {(userInfo.prevAddressShipping &&\r\n                                            (userInfo.prevAddressShipping[0] !== undefined)\r\n                                        ) &&\r\n                                            (<div class=\"switch\" style={{\r\n                                                \"position\": \"absolute\",\r\n                                                \"left\": \"75vw\",\r\n                                                \"top\": `${isLargeScreen ? \"26.5em\" : \"28em\"}`\r\n                                            }}>\r\n                                                <p>Same as Billing Address</p>\r\n                                                <input\r\n                                                    name=\"keepMeSignedIn\"\r\n                                                    class=\"switch-input\"\r\n                                                    type=\"checkbox\"\r\n                                                    id=\"usePrevBilling\" style={{\r\n                                                        \"bottom\": \"20em\",\r\n                                                        \"left\": \"20vw\",\r\n                                                    }}\r\n                                                    checked={sameAsBilling}\r\n                                                    onClick={() => {\r\n                                                        setSameAsBilling(!sameAsBilling);\r\n                                                        setUsePrevBilling(!usePrevBilling);\r\n                                                        setBillingAddress(!billingAddress)\r\n                                                    }}\r\n\r\n                                                ></input>\r\n                                                <label class=\"switch-paddle\" for=\"usePrevBilling\">\r\n                                                    <span\r\n                                                        style={{ \"color\": \"white\" }}\r\n                                                        class=\"show-for-sr\">Same as billing address</span>\r\n                                                </label>\r\n                                            </div>)\r\n                                        }\r\n\r\n\r\n\r\n                                        <div id=\"shippingInput\">\r\n\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>}\r\n                            <div className=\"centered\">\r\n                                {/* {(userInfo.userEmail) &&\r\n                                    <div\r\n                                        className=\"centered\"\r\n                                        style={{\r\n                                            \"background-color\": \"black\",\r\n                                            \"box-shadow\": \"0px 0px 5px white\",\r\n                                            \"height\": \"17em\"\r\n                                        }}\r\n                                    >\r\n                                        <h3>Send receipt to {userInfo.userEmail}?</h3>\r\n\r\n                                        <form>\r\n                                            <span>\r\n                                                <div class=\"switch\">\r\n                                                    <input\r\n                                                        name=\"keepMeSignedIn\"\r\n                                                        class=\"switch-input centered\"\r\n                                                        type=\"checkbox\"\r\n                                                        id=\"usePrevEmailSwitch\"\r\n                                                        checked={usePrevEmail}\r\n                                                        onClick={() => {\r\n                                                            handleUsePrevEmail();\r\n                                                            document.getElementById('prevNextButton').disabled(false);\r\n                                                            document.getElementById('prevNextButton').setAttribute(\"disabled\", \"false\");\r\n                                                        }}\r\n                                                    ></input>\r\n                                                    <label class=\"switch-paddle\" for=\"usePrevEmailSwitch\">\r\n                                                        <span class=\"show-for-sr\">Send receipt to {userInfo.userEmail}</span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </span>\r\n                                        </form>\r\n                                    </div>\r\n\r\n                                } */}\r\n                                {/* {usePrevEmail && <Checkmark\r\n                                    style={{ \"top\": \"10em\" }}\r\n                                    id=\"displayEmailCheckmark\"\r\n                                    size=\"large\"\r\n                                    className=\"centered\"\r\n                                    color=\"#1779ba\" />}\r\n                                {!usePrevEmail &&\r\n                                    <div style={{}}>\r\n                                        <h3>Email Address for Receipt:</h3>\r\n                                        <input id=\"newEmail\" type=\"text\" maxLength=\"50\"></input>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"button primary\"\r\n                                            style={{ \"width\": \"6em\" }}\r\n                                            onClick={() => { saveThisEmail() }}>Save Email</button>\r\n                                    </div>} */}\r\n                                {(spinnerDisplayed) &&\r\n                                    <div className=\"centered shadowed\">\r\n                                        <div className=\"loader\"></div>\r\n                                    </div>}\r\n                                <div style={{\r\n                                    \"bottom\": `${isLargeScreen ? \"44em\" : \"44em\"}`,\r\n                                    \"position\": \"relative\"\r\n                                }}>\r\n                                    <button\r\n                                        left={`${!isLargeScreen && \"5em\"}`}\r\n                                        // style={{\r\n                                        //     \"position\": `${isLargeScreen && \"absolute\"}`,\r\n                                        //     \"bottom\": `${isLargeScreen && \"50em\"}`\r\n                                        // }}\r\n                                        id=\"prevNextButton\"\r\n                                        className={`button primary ${isLargeScreen ? \"narrowed4\" : \"narrowed5\"}`}\r\n                                        disabled={prevNextDisabled} type=\"button\" onClick={() => { handleProgressPrevAddress() }}>Next</button>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n\r\n                            {(displayAddressForm || undefinedAddress) &&\r\n\r\n                                (<AddressComponent addressType=\"shipping\" style={{ \"right\": \"10vw\" }} />)\r\n                            }\r\n                            <div className=\"shadowed bottomed\">\r\n                                <button\r\n                                    style={{\r\n                                        \"right\": `${isLargeScreen ? \"-8vw\" : \"40vw\"}`,\r\n                                        \"top\": `${isLargeScreen ? \"-9em\" : \"135em\"}`,\r\n                                        // \"bottom\": `${isLargeScreen ? \"inherit\" : \"20em\"}`,\r\n                                        \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                        \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                                        \"left\": `${isLargeScreen ? \"initial\" : \"11em\"}`,\r\n                                        \"display\": `${isLargeScreen ? \"initial\" : \"none\"}`\r\n                                    }}\r\n                                    id='shipNextButton'\r\n                                    className=\"button primary narrowed centered\"\r\n                                    disabled={shipNextDisabled}\r\n                                    type=\"button\" onClick={() => { handleProgressShipAddress() }}>Next</button>\r\n                            </div>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            {(billingAddress) &&\r\n                                (<AddressComponent addressType=\"billing\" style={{ \"right\": \"10vw\" }} />)\r\n                            }\r\n                            <div className=\"shadowed bottomed\">\r\n                                <button\r\n                                    style={{\r\n                                        \"right\": `${isLargeScreen ? \"-8vw\" : \"10vw\"}`,\r\n                                        \"top\": `${isLargeScreen ? \"-9em\" : \"135em\"}`,\r\n                                        \"fontSize\": `${isLargeScreen ? \"medium\" : \"small\"}`,\r\n                                        \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                                        \"left\": `${isLargeScreen ? \"initial\" : \"11em\"}`\r\n                                    }}\r\n                                    id='billNextButton'\r\n                                    className=\"button primary narrowed centered3\"\r\n                                    disabled={billNextDisabled} type=\"button\" onClick={() => { setTabIndex(3) }}>Next</button>\r\n                            </div>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            <div className=\"centered\" style={{\r\n                                \"background-color\": \"black\",\r\n                                \"box-shadow\": \"0px 0px 5px white\",\r\n                                \"width\": \"90%\",\r\n                                \"height\": `${isLargeScreen ? \"initial\" : \"1100px\"}`,\r\n                                \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`,\r\n                            }}>\r\n                                <div\r\n                                    style={{\r\n                                        \"textAlign\": \"left\",\r\n                                        \"height\": `${isLargeScreen ? \"initial\" : \"120%\"}`\r\n                                    }}\r\n                                    className=\"costSummary centered\">\r\n                                    <Flexbox\r\n                                        flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                                        <span>\r\n                                            <span className=\"shadowed\" style={{\r\n                                                \"maxWidth\": `${isLargeScreen ? \"33vw\" : \"90vw\"}`,\r\n                                                // \"width\": `${isLargeScreen ? \"33vw\" : \"90vw\"}`,\r\n                                                \"minWidth\": \"20vw\",\r\n                                                \"textAlign\": \"left\",\r\n                                                \"display\": \"inline-block\",\r\n                                                \"marginRight\": `${isLargeScreen ? \"10vw\" : \"\"}`\r\n                                            }}>\r\n                                                {(tempShipAddress && (tempShipAddress[0] !== undefined)) &&\r\n                                                    <div>\r\n                                                        <h4>Shipping to...</h4>\r\n                                                        <p>Name: {`${tempShipAddress[0]} ${tempShipAddress[1]}`}</p>\r\n                                                        <p>Address: {`${tempShipAddress[2]}`}</p>\r\n                                                        <p>City: {`${tempShipAddress[3]}`}</p>\r\n                                                        <p>State: {`${tempShipAddress[4]}`}</p>\r\n                                                        <p>Zip: {`${tempShipAddress[5]}`}</p>\r\n                                                        {(tempShipAddress[6] !== \"United States\")\r\n                                                            && <p>Country: {`${tempShipAddress[6]}`}</p>}\r\n                                                        <p>Phone: {`${tempShipAddress[7]}`}</p>\r\n                                                        <p>Email: {`${tempShipAddress[8]}`}</p>\r\n                                                    </div>}\r\n                                                {(userInfo.prevAddressShipping && !tempShipAddress) &&\r\n                                                    <div>\r\n                                                        <h4>Shipping to...</h4>\r\n                                                        <p>Name: {`${userInfo.prevAddressShipping[0]} ${userInfo.prevAddressShipping[1]}`}</p>\r\n                                                        <p>Address: {`${userInfo.prevAddressShipping[3]}`}</p>\r\n                                                        <p>City: {`${userInfo.prevAddressShipping[5]}`}</p>\r\n                                                        <p>State: {`${userInfo.prevAddressShipping[6]}`}</p>\r\n                                                        <p>Zip: {`${userInfo.prevAddressShipping[7]}`}</p>\r\n                                                        <p>Phone: {`${userInfo.prevAddressShipping[8]}`}</p>\r\n                                                        <p>Email: {userEmail}</p>\r\n                                                    </div>}\r\n                                                {((userInfo.prevAddressShipping && tempShipAddress) &&\r\n                                                    (tempShipAddress[0] == undefined)) &&\r\n                                                    <div>\r\n                                                        <h4>Shipping to...</h4>\r\n                                                        <p>Name: {`${userInfo.prevAddressShipping[0]} ${userInfo.prevAddressShipping[1]}`}</p>\r\n                                                        <p>Address: {`${userInfo.prevAddressShipping[3]}`}</p>\r\n                                                        <p>City: {`${userInfo.prevAddressShipping[5]}`}</p>\r\n                                                        <p>State: {`${userInfo.prevAddressShipping[6]}`}</p>\r\n                                                        <p>Zip: {`${userInfo.prevAddressShipping[7]}`}</p>\r\n                                                        <p>Phone: {`${userInfo.prevAddressShipping[8]}`}</p>\r\n                                                        <p>Email: {userEmail}</p>\r\n                                                    </div>}\r\n\r\n                                            </span>\r\n                                        </span>\r\n                                        {isLargeScreen && <div width=\"100%\"></div>}\r\n                                        <Flexbox flexDirection=\"column\" style={{ \"marginRight\": `${isLargeScreen ? \"10vw\" : \"\"}` }}>\r\n                                            <span\r\n                                                className=\"shadowed\"\r\n                                                style={{\r\n                                                    \"maxWidth\": `${isLargeScreen ? \"29vw\" : \"90vw\"}`,\r\n                                                    // \"width\": `${isLargeScreen ? \"33vw\" : \"90vw\"}`\r\n                                                }}>\r\n                                                <div className=\"table-scroll graded\">\r\n                                                    <table>\r\n                                                        <ShippingItemList />\r\n                                                    </table>\r\n                                                </div>\r\n                                            </span>\r\n                                            <span style={{ \"white-space\": \"nowrap\" }}>\r\n                                                <p>Shipping Included</p>\r\n                                                <p>Tax Included</p>\r\n                                                <h4 style={{\r\n                                                    // \"background-color\": \"#565759\",\r\n                                                    \"background-color\": \"#1779ba\",\r\n                                                    \"padding\": \".25em\",\r\n                                                    \"border-radius\": \"13px\",\r\n                                                }}>Total: ${Number(totalCost / 100).toFixed(2)}</h4>\r\n                                            </span>\r\n                                        </Flexbox>\r\n                                        {isLargeScreen && <div width=\"100%\"></div>}\r\n                                        {shippingSelected &&\r\n                                            <div className={!isLargeScreen && \"centered\"}>\r\n                                                <textarea style={{\r\n                                                    \"maxWidth\": `${isLargeScreen ? \"25vw\" : \"75vw\"}`,\r\n                                                    \"top\": `${isLargeScreen ? \"-10em\" : \"\"}`\r\n                                                }}\r\n                                                    id=\"checkoutNote\"\r\n                                                    rows=\"4\"\r\n                                                    cols=\"50\"\r\n                                                    maxlength=\"150\"\r\n                                                    placeholder=\"(Optional) Special instructions for your order? 150 character limit\"></textarea>\r\n                                                <Flexbox flexDirection=\"column\">\r\n                                                    <Flexbox flexDirection=\"row\"\r\n                                                        className=\"centered\"\r\n                                                        style={{\r\n                                                            \"position\": \"relative\",\r\n                                                            \"left\": \"10%\",\r\n                                                            \"top\": \"7em\",\r\n                                                            \"marginBottom\": \"-3em\"\r\n                                                        }}>\r\n                                                        <img\r\n                                                            name=\"visa\"\r\n                                                            width=\"12%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/visa.png?alt=media&token=bbe2f764-b4ad-4dca-97ce-2497988fef46\"\r\n                                                        />\r\n                                                        <img\r\n                                                            name=\"mc\"\r\n                                                            width=\"12%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/mc.png?alt=media&token=3431d284-fc2e-4c99-ad50-aa837d7da85c\"\r\n                                                        />\r\n                                                        <img\r\n                                                            name=\"amex\"\r\n                                                            width=\"12%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/amex.png?alt=media&token=f957ce2c-720d-4cc0-b67e-4bd51082d878\"\r\n                                                        />\r\n                                                        <img\r\n                                                            name=\"disc\"\r\n                                                            width=\"12%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/disc.png?alt=media&token=782acf6e-58a9-4730-8d91-e87bbc6f6694\"\r\n                                                        />\r\n                                                        <img\r\n                                                            name=\"paypal\"\r\n                                                            width=\"12%\"\r\n                                                            style={{ \"margin\": \".5em\" }}\r\n                                                            height=\"auto\"\r\n                                                            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/paypal.png?alt=media&token=ffed4d97-5301-406a-a207-5fb65b1e6299\"\r\n                                                        />\r\n                                                    </Flexbox>\r\n                                                    <button\r\n                                                        disabled={!enterPaymentAllowed}\r\n                                                        className=\"centered button primary\"\r\n                                                        style={{\r\n                                                            \"top\": `${isLargeScreen ? \"10em\" : \"10em\"}`,\r\n                                                            \"width\": `${isLargeScreen ? \"100%\" : \"100%\"}`,\r\n                                                            // \"position\": `${isLargeScreen ? \"relative\" : \"\"}`,\r\n                                                            \"position\": \"relative\",\r\n                                                            \"fontSize\": \"large\"\r\n                                                        }}\r\n                                                        type=\"button\"\r\n                                                        onClick={() => {\r\n                                                            displayStripe();\r\n                                                            saveEmail()\r\n                                                        }}>Enter Payment Info</button>\r\n                                                </Flexbox>\r\n                                            </div>\r\n                                        }\r\n                                    </Flexbox>\r\n                                </div >\r\n                                {\r\n                                    stripeDisplayed &&\r\n                                    <div className=\"centered4\" style={{\r\n                                        \"width\": `${isLargeScreen ? \"50%\" : \" 110%\"}`,\r\n                                        \"background-color\": \"black\",\r\n                                        \"box-shadow\": \"0px 0px 5px white\",\r\n                                    }}>\r\n                                        <div className={`${isLargeScreen ? \"centered\" : \"centered4\"}`} style={{\r\n                                            \"width\": \"35vw\",\r\n                                        }}>\r\n                                            <Checkout />\r\n                                            {/* <PayPalButton\r\n                                                clientId=\"AQa6_jLL-SRpzQ2ZZdAhqBdnMQy80zfB7pHTO_URcvNcWqV3wjkCOuO9DHFNqRMYU6_vhHGEtC8wqFFJ\"\r\n                                                amount={`${payPalCost}`}\r\n                                                currency=\"USD\"\r\n                                                onSuccess={(details, data) => {\r\n                                                    let ppData = data\r\n                                                    setPayPalSuccess(true)\r\n                                                    firebase.functions().httpsCallable('payPalPayment')({ details, ppData })\r\n                                                        .then(result => {\r\n                                                            console.log(result)\r\n                                                            itemList.forEach(i => {\r\n\r\n\r\n                                                                // let singleItem = fullItem[0]\r\n                                                                // let itemPrice = singleItem[2]\r\n\r\n                                                                let item = i[0]\r\n                                                                let itemPrice = i[2]\r\n\r\n                                                                console.log(\"item: \" + item)\r\n                                                                console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                                                                updateDatabaseOrders(item)\r\n                                                                modifyTotalPrice(\r\n                                                                    (Number(itemPrice) * -1)\r\n                                                                )\r\n                                                                modifyCartCount(-1);\r\n                                                            })\r\n\r\n                                                            let newList = []\r\n                                                            setItemList([])\r\n                                                            setAnonList([])\r\n                                                            setFinalItemList(newList)\r\n                                                            setSpinnerDisplayed(false)\r\n                                                            setOnCheckout(false)\r\n                                                            return console.log(result)\r\n\r\n                                                        })\r\n                                                        .catch(error => {\r\n                                                            return console.log(\"Error sending receipt email: \" + error)\r\n                                                        })\r\n                                                    console.log(details)\r\n                                                    console.log(data)\r\n                                                }}\r\n                                                catchError={(error) => {\r\n                                                    console.log(error)\r\n                                                    setPayPalFailure(true)\r\n                                                }} /> */}\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                {\r\n                                    payPalSuccess &&\r\n                                    <Flexbox flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                                        <Checkmark size=\"large\" className=\"centered\" color=\"#3adb76\" />\r\n                                        <div className=\"centered\">\r\n                                            <h4>Your Exchange Order is Complete!</h4>\r\n                                            <p>Items Exchanged: {itemsPurchased}</p>\r\n                                            <p>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</p>\r\n                                            <p>Receipt email: {\r\n                                                receiptEmail || userEmail.toString()}</p>\r\n                                            <p>Estimated Arrival Date: {deliverDate.toString()}</p>\r\n                                            <p>Your Order Confirmation ID is {orderString}</p>\r\n                                            <br></br>\r\n                                            <Link to=\"/shop\">\r\n                                                <button type=\"button\">Continue Shopping</button>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </Flexbox>\r\n                                }\r\n                                {\r\n                                    payPalFailure &&\r\n                                    <div>\r\n                                        <h2\r\n                                            style={{\r\n                                                \"color\": \"red\"\r\n                                            }}>There was an error processing your payment. You have not been charged.</h2>\r\n                                    </div>\r\n                                }\r\n                            </div >\r\n                        </TabPanel >\r\n                        {/* <TabPanel>\r\n                            <Checkout />\r\n                            {payPalSuccess &&\r\n                                <Flexbox flexDirection=\"row\">\r\n                                    <Checkmark size=\"large\" className=\"centered\" color=\"#1779ba\" />\r\n                                    <div className=\"centered\">\r\n                                        <h1>Your Exchange Order is Complete!</h1>\r\n                                        <h2>Items Exchanged: {itemsPurchased}</h2>\r\n                                        <h2>Store Credit Used: ${(lastExchangeOrderCreditUsed / 100).toFixed(2)}</h2>\r\n                                        <h2>Receipt email: {\r\n                                            receiptEmail || userEmail.toString()}</h2>\r\n                                        <h2>Estimated Arrival Date: {deliverDate.toString()}</h2>\r\n                                        <h2>Your Order Confirmation ID is {orderString}</h2>\r\n                                    </div>\r\n                                </Flexbox>}\r\n                            {payPalFailure &&\r\n                                <div>\r\n                                    <h2>Error processing your paypal payment.</h2>\r\n                                </div>}\r\n                        </TabPanel> */}\r\n                    </Tabs >\r\n                </div >\r\n                <br></br>\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\" onLoad={() => { setEachLoaded(true) }}>\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/cart\">Cart</Link></li>\r\n                        <li><Link to=\"/checkout\">Checkout</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Checkout</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div >\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div >\r\n                <h3>One Moment Please...</h3>\r\n                <div className=\"loader\" style={{ \"left\": \"40w\", \"position\": \"relative\" }}></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n//////////////////////////////////////////////\r\n\r\nexport default ShippingComponent","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\nimport ReactImageMagnify from \"react-image-magnify\"\r\nimport Flexbox from \"flexbox-react\"\r\nimport ContentLoader, { Facebook } from \"react-content-loader\";\r\nimport RecentlyViewed from \"./RecentlyViewed\"\r\nimport AliceCarousel, { slidePrev, slideNext } from 'react-alice-carousel'\r\nimport 'react-alice-carousel/lib/alice-carousel.css'\r\n\r\n\r\n\r\n// to do:\r\n\r\n// multiple pictures\r\n// size chart (eventually...)\r\n\r\n\r\nfunction ProductPage(props) {\r\n\r\n    const {\r\n        wishlistItems,\r\n        setWishlistItems,\r\n        cartInfo,\r\n        setCartInfo,\r\n        addToWishlist,\r\n        addToCart,\r\n        removeFromWishlist,\r\n        allProducts,\r\n        modifyCartCount,\r\n        modifyTotalPrice,\r\n        modifyWishlistCount,\r\n        itemList,\r\n        productPageComponent,\r\n        setProductPageComponent,\r\n        setTermsDisplay,\r\n        productsLoaded,\r\n        setOnCheckout,\r\n        activateAddToWishlistModal,\r\n        activateAddToCartModal,\r\n        activateOptionsModal,\r\n        itemLoadedCount,\r\n        setItemLoadedCount,\r\n        isLargeScreen,\r\n        activateRemoveFromWishlistModal,\r\n        searchString,\r\n        setSearchString,\r\n        setPreviouslyViewed,\r\n        previouslyViewed,\r\n        onProductPage,\r\n        setOnProductPage,\r\n        setModalOpen\r\n    } = useContext(Context)\r\n\r\n\r\n    function handleContentLoader() {\r\n\r\n        if (document.getElementById('contentLoader')) {\r\n            document.getElementById('contentLoader').style.display = \"none\";\r\n            document.getElementById('contentLoader').style.visibility = \"hidden\";\r\n            document.getElementById('contentLoader').setAttribute(\"display\", \"none\");\r\n        }\r\n\r\n        setIncrementer(incrementer + 1)\r\n    }\r\n\r\n\r\n    const [incrementer, setIncrementer] = useState(0)\r\n\r\n    useEffect(() => {\r\n        setProductStock(item[10])\r\n    }, [incrementer])\r\n\r\n    useEffect(() => {\r\n\r\n        setSearchString(\"\")\r\n        setTermsDisplay(false)\r\n        setOnCheckout(false)\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    let item = props.item\r\n\r\n\r\n    const [quantSelected, setQuantSelected] = useState(1)\r\n\r\n    function handleQuantChoice() {\r\n        let quantChosen = Number(document.getElementById(\"quantityChosen\").value)\r\n        setQuantSelected(quantChosen)\r\n    }\r\n\r\n    // const [options, setOptions] = useState([])\r\n\r\n    // useEffect(() => {\r\n    //     if (chosenSize && chosenColor) {\r\n    //         setOptions([chosenColor, chosenSize])\r\n    //     }\r\n\r\n    // }, [chosenSize, chosenColor])\r\n\r\n    // Color Picker State:\r\n\r\n    const [chosenColor, setChosenColor] = useState(\"\")\r\n    const [chosenColorHex, setChosenColorHex] = useState(\"\")\r\n    const [oneColor, setOneColor] = useState(false)\r\n\r\n    const [colorArr, setColorArr] = useState([])\r\n\r\n\r\n    function handleColorChoiceRemix() {\r\n        let value = document.getElementById('colorChosen').value\r\n\r\n        let valueArr = value.split(\" \")\r\n        let colorName = valueArr[0]\r\n        let colorHex = valueArr[1]\r\n\r\n        setChosenColor(`${colorName}`)\r\n        setChosenColorHex(`${colorHex}`)\r\n    }\r\n\r\n\r\n    function handleColorChoice(colorName, colorHex) {\r\n        setChosenColor(`${colorName}`)\r\n        setChosenColorHex(`${colorHex}`)\r\n        // let colorButtons = document.getElementsByClassName(\"colorButton\")\r\n        // console.log(colorButtons)\r\n\r\n\r\n        colorArr.forEach(color => {\r\n            let colorSplit = color.split(\"_\")\r\n            let colorFirstPart = colorSplit[0]\r\n\r\n            if (colorFirstPart !== colorName) {\r\n                document.getElementById(`colorButton${colorName}`).style.boxShadow = \"none\"\r\n            }\r\n        })\r\n\r\n        // let otherButtons = Array.prototype.filter.call(colorButtons, function (colorButton) {\r\n        //     return !colorButton.name.includes(`${colorName}`);\r\n        // });\r\n\r\n        let chosenButton = document.getElementById(`colorButton${colorName}`)\r\n        chosenButton.style.boxShadow = \"white 2em\"\r\n\r\n    }\r\n\r\n\r\n\r\n    const [onSale, setOnSale] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (item[12]) {\r\n            setOnSale(true)\r\n        } else {\r\n            setOnSale(false)\r\n        }\r\n    }, [allProducts])\r\n\r\n    // Size Picker State:\r\n\r\n    const [oneSize, setOneSize] = useState(false)\r\n\r\n    const [chosenSize, setChosenSize] = useState(\"\")\r\n\r\n\r\n    useEffect(() => {\r\n        itemSizes.forEach(size => {\r\n            if (size == \"One Size\") {\r\n                setOneSize(true)\r\n                setChosenSize(\"One-Size\")\r\n            }\r\n        })\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n    }, [])\r\n\r\n    function handleSizeChoice() {\r\n        let e = document.getElementById(`sizeChosen`);\r\n        let selectedSize = e.options[e.selectedIndex].value;\r\n\r\n        setChosenSize(selectedSize)\r\n    }\r\n\r\n\r\n\r\n    let productInWishlistArray = wishlistItems.filter(i => i.includes(item[0]))\r\n    let productInCartArray = itemList.filter(i => i.includes(item[0]))\r\n\r\n    let itemColors = item[6]\r\n\r\n    let itemSizes = item[7]\r\n\r\n    let cosaAlMenudoCompradoCon = item[9]\r\n\r\n    let bestseller = item[11]\r\n\r\n    let posArray = []\r\n    let emptyString = \"\"\r\n\r\n\r\n    const [itemBoughtWith, setItemBoughtWith] = useState([])\r\n\r\n\r\n    const [productStock, setProductStock] = useState({})\r\n\r\n    const [choiceStockCount, setChoiceStockCount] = useState(0)\r\n    const [stockString, setStockString] = useState(\"\")\r\n    const [itemIsSelected, setItemIsSelected] = useState(false)\r\n    const [choiceStockDescriptor, setChoiceStockDescriptor] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        setOnProductPage(true)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setProductStock(item[10])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if (chosenColor && chosenSize) {\r\n            if (chosenSize == \"One-Size\" && chosenColor !== \"One-Color\") {\r\n                let selection = `${chosenColor}_oneSize`\r\n                setStockString(selection)\r\n\r\n            } else if (chosenSize !== \"One-Size\" && chosenColor == \"One-Color\") {\r\n                if (chosenSize.includes(\"/\")) {\r\n                    let formattedSize = chosenSize.split(\"/\").join(\"\").toLowerCase()\r\n                    let selection = `oneColor_${formattedSize}`\r\n                    setStockString(selection)\r\n                } else {\r\n                    let formattedSize = chosenSize.toLowerCase()\r\n                    let selection = `oneColor_${formattedSize}`\r\n                    setStockString(selection)\r\n                }\r\n\r\n            } else if (chosenSize == \"One-Size\" && chosenColor == \"One-Color\") {\r\n                setStockString(\"oneColor_oneSize\")\r\n            } else if (chosenSize.includes(\"/\")) {\r\n                let formattedSize = chosenSize.split(\"/\").join(\"\").toLowerCase()\r\n                let selection = `${chosenColor}_${formattedSize}`\r\n                setStockString(selection)\r\n            } else {\r\n                let formattedSize = chosenSize.toLowerCase()\r\n                let selection = `${chosenColor}_${formattedSize}`\r\n                setStockString(selection)\r\n            }\r\n        }\r\n\r\n    }, [chosenColor, chosenSize])\r\n\r\n    useEffect(() => {\r\n        if (stockString) {\r\n            setChoiceStockCount(productStock[stockString])\r\n            setItemIsSelected(true)\r\n        }\r\n    }, [stockString])\r\n\r\n    const [buttonDisabled, setButtonDisabled] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (itemIsSelected) {\r\n\r\n            if ((choiceStockCount <= 10) && (choiceStockCount > 0)) {\r\n                setChoiceStockDescriptor(`Order soon! Only ${choiceStockCount} left in stock.`)\r\n                setButtonDisabled(false)\r\n            } else if (choiceStockCount > 10) {\r\n                setChoiceStockDescriptor(\"In stock.\")\r\n                setButtonDisabled(false)\r\n            } else if (choiceStockCount <= 0) {\r\n                setChoiceStockDescriptor(\"Out of stock. Please check back soon.\")\r\n                setButtonDisabled(true)\r\n            }\r\n        } else {\r\n            setButtonDisabled(false);\r\n            setChoiceStockDescriptor(\"\")\r\n        }\r\n    }, [choiceStockCount, itemIsSelected])\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(cosaAlMenudoCompradoCon)\r\n        let storageArr = []\r\n        let storageArrAlt = []\r\n        let storageArrAlt2 = []\r\n        let newArr = cosaAlMenudoCompradoCon.map(itemName => {\r\n            console.log(itemName)\r\n            let fullItem = allProducts.find(item => item[0].includes(itemName))\r\n            console.log(fullItem)\r\n            let fullItem2 = allProducts.filter(item => item[0].includes(item))\r\n            fullItem2.forEach(i => { storageArr.push(i) })\r\n\r\n            let fullItemAlt = allProducts.filter(j => j[0] == itemName)\r\n            fullItemAlt.forEach(k => {\r\n                storageArrAlt.push(k)\r\n            })\r\n\r\n            let fullItemAlt2 = allProducts.filter(j => j.includes(itemName))\r\n            fullItemAlt2.forEach(k => {\r\n                storageArrAlt2.push(k)\r\n            })\r\n\r\n            return fullItem\r\n\r\n        })\r\n        console.log(storageArr)\r\n        console.log(storageArrAlt)\r\n        console.log(storageArrAlt2)\r\n        setItemBoughtWith(newArr)\r\n\r\n    }, [itemLoadedCount])\r\n\r\n    useEffect(() => {\r\n        console.log(itemBoughtWith)\r\n    }, [itemBoughtWith])\r\n\r\n    useEffect(() => {\r\n        let newColorArr = itemColors.filter(color => !color.includes(\"One Color\"))\r\n        setColorArr(newColorArr)\r\n\r\n        let oneColorArr = itemColors.filter(color => color.includes(\"One Color\"))\r\n\r\n        if (oneColorArr.length > 0) {\r\n            setOneColor(true)\r\n            setChosenColor(\"One-Color\")\r\n        }\r\n    }, [itemLoadedCount])\r\n\r\n\r\n\r\n    function bigButton(colorName) {\r\n        document.getElementById(`colorButton${colorName}`).style.fontSize = \"14px\"\r\n    }\r\n\r\n    function littleButton(colorName) {\r\n        document.getElementById(`colorButton${colorName}`).style.fontSize = \"12px\"\r\n    }\r\n\r\n\r\n    let modalItem = [\r\n        item[0],\r\n        item[5].toString(),\r\n        (Number(item[2]) * 100),\r\n        chosenSize,\r\n        `${chosenColor}_${chosenColorHex}`\r\n    ]\r\n\r\n    function turnOffModal() {\r\n        setModalOpen(false)\r\n    }\r\n\r\n    function handleAddToCart(item, options) {\r\n\r\n        let sale = item[12]\r\n\r\n        if (chosenSize && chosenColor) {\r\n\r\n            // let allColorString = itemColors.filter(color => color.includes(options[1]))\r\n            // let colorString = allColorString[0]\r\n\r\n            let itemQuant = Number(options[3]) || 1\r\n            // let newOptions = [colorString, options[1]]\r\n\r\n            addToCart(item, options);\r\n            modifyCartCount(itemQuant);\r\n\r\n            if (!sale) {\r\n                modifyTotalPrice(\r\n                    (Number(item[2]) * 100 * itemQuant)\r\n                )\r\n            } else {\r\n                modifyTotalPrice(\r\n                    (Number(item[12]) * 100 * itemQuant)\r\n                )\r\n            }\r\n\r\n\r\n            let options2 = [chosenSize, chosenColor, chosenColorHex, itemQuant]\r\n            console.log(item)\r\n            console.log(options)\r\n            console.log(modalItem)\r\n            console.log(options2)\r\n            activateAddToCartModal(modalItem, itemQuant);\r\n            /// ^ this also should be a modal :)\r\n        } else if ((chosenSize) && (!chosenColor)) {\r\n            // window.alert(\"Please select a color!\")\r\n            activateOptionsModal(\"color\")\r\n        } else if (!chosenSize && chosenColor) {\r\n            activateOptionsModal(\"size\")\r\n            // window.alert(\"Please select a size!\")\r\n        } else if (!chosenSize && !chosenColor) {\r\n            activateOptionsModal(\"colorSize\")\r\n            // window.alert(\"Please select a size and color!\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    let numberInCart = itemList.filter(i => i[0] == item[0])\r\n    let numInCart = numberInCart.length\r\n    console.log(numberInCart)\r\n    console.log(numInCart)\r\n    console.log(item[0])\r\n    // so item must be format: [name] [ ] [dollars] [] [] [trueUrl]\r\n    // options must be format: [size] [colorName] [colorHex] [quant]\r\n    // colorString is: [options[1], options[2]].join(\"_\")\r\n\r\n\r\n\r\n\r\n    // currently the url is the 5th element in the array\r\n    let itemString = item[5].toString()\r\n    let longDescript = item[4].toString()\r\n    let briefDescript = item[3].toString()\r\n\r\n    let moreImagesProto = item[13]\r\n\r\n    const [moreImages, setMoreImages] = useState([])\r\n\r\n    const [currentImage, setCurrentImage] = useState(\"\")\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (moreImagesProto) {\r\n            console.log(moreImagesProto)\r\n            setMoreImages([itemString, ...moreImagesProto])\r\n        } else {\r\n            setMoreImages([])\r\n        }\r\n    }, [incrementer])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setCurrentImage(itemString)\r\n        setBigPic(false)\r\n    }, [itemString])\r\n\r\n\r\n    function handlePicture(string) {\r\n        setCurrentImage(string)\r\n    }\r\n\r\n\r\n    const [bigPic, setBigPic] = useState(false)\r\n\r\n\r\n    function handleBigPic() {\r\n        if (isLargeScreen) {\r\n            setBigPic(!bigPic)\r\n        }\r\n    }\r\n\r\n    const [productPageLinkString, setProductPageLinkString] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if (item[0] && (item[0] !== undefined)) {\r\n\r\n            let itemString = item[0].split(\" \").join(\"-\")\r\n            setProductPageLinkString(itemString)\r\n        }\r\n    }, [itemList])\r\n\r\n\r\n    const [itemCategory, setItemCategory] = useState(\"\")\r\n    const [hasCategory, setHasCategory] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (item[8] == \"Top\") {\r\n            setItemCategory(\"tops\")\r\n        } else if (item[8] == \"Belt\") {\r\n            setItemCategory(\"belts\")\r\n        } else if (item[8] == \"Skirt\") {\r\n            setItemCategory(\"skirts\")\r\n        } else if (item[8] == \"Full Set\") {\r\n            setItemCategory(\"full-sets\")\r\n        } else {\r\n            setHasCategory(false)\r\n        }\r\n    }, [itemLoadedCount])\r\n\r\n\r\n    let emptyHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20trans%20white%20border%202.svg?alt=media&token=db6c4320-c1e5-4683-873b-8683e83a4f14\"\r\n    let filledHeartSource = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/heart%20pinkers.svg?alt=media&token=48f11612-1d2f-4564-8625-4c0821c9df4c\"\r\n\r\n    function handleHideHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"none\"\r\n            heartIcon.setAttribute(\"display\", \"none\")\r\n        }\r\n    }\r\n\r\n    function handleShowHeart(itemName) {\r\n        let heartIcon = document.getElementById(`heartIcon${itemName}`)\r\n\r\n        if (heartIcon.src == emptyHeartSource) {\r\n            heartIcon.style.display = \"initial\"\r\n            heartIcon.setAttribute(\"display\", \"initial\")\r\n        }\r\n\r\n    }\r\n\r\n    function handleWishlist(count, item) {\r\n        let putBackItem = [item[0], [], (Number(item[2]) / 100), [], [], `${item[1]}`]\r\n\r\n        if (count > 0) {\r\n            removeFromWishlist(item[0])\r\n            activateRemoveFromWishlistModal(putBackItem)\r\n            modifyWishlistCount(-1)\r\n        } else {\r\n            addToWishlist(item)\r\n            activateAddToWishlistModal(item[0])\r\n            modifyWishlistCount(1);\r\n        }\r\n    }\r\n\r\n\r\n    const [buyNowAllowed, setBuyNowAllowed] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n        if (chosenColor && chosenSize) {\r\n            setBuyNowAllowed(true)\r\n        } else {\r\n            setBuyNowAllowed(false)\r\n        }\r\n    }, [chosenColor, chosenSize])\r\n\r\n\r\n    function addToPrevious() {\r\n\r\n        if (item[0] && (item[0] !== undefined)) {\r\n\r\n            let itemLink = item[0].split(\" \").join(\"-\")\r\n            let itemLink2 = itemLink.split(\"/\")\r\n            let lastNumber = Number(itemLink2.length - 1)\r\n\r\n            let finalLink = itemLink2[lastNumber]\r\n\r\n            let arr = []\r\n\r\n            previouslyViewed.map(i => {\r\n                if (i[2].includes(finalLink) || i[2].includes(itemLink)) {\r\n                    arr.push(i)\r\n                }\r\n            })\r\n\r\n            if (arr.length == 0) {\r\n                // (!previouslyViewed.includes([item[0], itemString, finalLink]))\r\n                setPreviouslyViewed([...previouslyViewed, [item[0], itemString, finalLink]])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const [currentIndex, setCurrentIndex] = useState(0)\r\n\r\n\r\n    useEffect(() => {\r\n        let indexNum = moreImages.indexOf(currentImage)\r\n        setCurrentIndex(indexNum)\r\n    }, [currentImage])\r\n\r\n    function handleCurrentIndex(direction) {\r\n        if (direction == \"next\") {\r\n            if (currentIndex < Number(moreImages.length - 1)) {\r\n                setCurrentIndex(Number(currentIndex + 1))\r\n            } else {\r\n                setCurrentIndex(0)\r\n            }\r\n        } else {\r\n            if (currentIndex > 0) {\r\n                setCurrentIndex(Number(currentIndex - 1))\r\n            } else {\r\n                setCurrentIndex(Number(moreImages.length - 1))\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleOnDragStart(e) {\r\n        e.preventDefault()\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////\r\n    if (productsLoaded && item[0]) {\r\n        return (\r\n\r\n\r\n            <div className=\"row\">\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/shop\">Shop</Link></li>\r\n                        {hasCategory &&\r\n                            <li><Link to={`/shop/${itemCategory}`}>{itemCategory}</Link></li>\r\n                        }\r\n                        {hasCategory &&\r\n                            <li><Link to={`/product/${productPageLinkString}`}>{item[0]}</Link></li>\r\n                        }\r\n                        {!hasCategory &&\r\n                            <li><Link to={`/product/${productPageLinkString}`}>{item[0]}</Link></li>\r\n                        }\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: {itemCategory}</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <h1>{`${item[0]}`}</h1>\r\n                {/* <img\r\n                    className=\"arrow\"\r\n                    style={{\r\n                        \"padding\": \".5em\",\r\n                        \"left\": \"3vw\",\r\n                        // \"top\": `${toggleMenu ? \"35em\" : \"30em\"}`,\r\n                        \"borderRadius\": \"50px\",\r\n                        \"backgroundColor\": \"black\",\r\n                        \"opacity\": \"0.8\",\r\n                        \"position\": \"fixed\",\r\n                        \"display\": `${bigPic ? \"initial\" : \"none\"}`,\r\n                    }}\r\n                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/left%20arrow%20white.svg?alt=media&token=9f166f00-6ab3-4c6f-b889-64178ab8472a\"\r\n                    onClick={() => handleCurrentIndex(\"back\")}>\r\n                </img>\r\n                <img\r\n                    className=\"arrow\"\r\n                    style={{\r\n                        \"padding\": \".5em\",\r\n                        \"right\": \"3vw\",\r\n                        // \"top\": `${toggleMenu ? \"35em\" : \"30em\"}`,\r\n                        \"borderRadius\": \"50px\",\r\n                        \"backgroundColor\": \"black\",\r\n                        \"opacity\": \"0.8\",\r\n                        \"position\": \"fixed\",\r\n                        \"display\": `${bigPic ? \"initial\" : \"none\"}`,\r\n                    }}\r\n                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/right%20arrow%20white.svg?alt=media&token=b7965e38-9e56-485d-8ead-107068ad92c4\"\r\n                    onClick={() => handleCurrentIndex(\"next\")}>\r\n                </img>\r\n                <button\r\n                    style={{\r\n                        \"fontSize\": \"larger\",\r\n                        \"margin\": \"1em\",\r\n                        \"position\": \"fixed\",\r\n                        \"display\": `${bigPic ? \"initial\" : \"none\"}`,\r\n                        \"opacity\": \"0.8\",\r\n                        \"borderRadius\": \"50px\",\r\n                        // \"padding\": \"1em\",\r\n                        // \"bottom\": \"1em\",\r\n                        // \"left\": \"1em\"\r\n                    }}\r\n                    onClick={() => { setBigPic(!bigPic) }}\r\n                    class=\"close-button shadowed\">\r\n                    <img\r\n                        width=\"100px\"\r\n                        height=\"100px\"\r\n                        style={{\r\n                            \"top\": \"8em\",\r\n                            \"right\": \"3em\",\r\n                            \"marginRight\": \"4em\",\r\n                            \"marginTop\": \"5em\"\r\n                        }}\r\n                        src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/x%20button.svg?alt=media&token=8ea66b64-e26a-4a97-9441-0a3c029b72cc\" />\r\n                </button>\r\n                <div style={{\r\n                    \"position\": \"fixed\",\r\n                    \"left\": \"35%\"\r\n                }}>\r\n                    <AliceCarousel\r\n                        style={{\r\n                            \"position\": \"fixed\",\r\n                            \"display\": `${bigPic ? \"initial\" : \"none\"}`,\r\n                            \"zIndex\": '94',\r\n                            // 'display': `${isMobile ? \"none\" : \"initial\"}`\r\n                        }}\r\n                        buttonsDisabled={true}\r\n                        // dotsDisabled={true}\r\n                        slideToIndex={currentIndex}\r\n                        id=\"aliceCarousel\"\r\n                        mouseTrackingEnabled\r\n                        className=\"carousel\">\r\n                        {\r\n                            moreImages.map(image =>\r\n                                <img\r\n                                    style={{\r\n                                        \"top\": \"-10em\",\r\n                                        \"width\": \"500px\",\r\n                                        \"height\": \"700px\",\r\n                                        \"zIndex\": \"95\",\r\n                                        \"box-shadow\": \"0px 0px 5px white\",\r\n                                        // \"visibility\": `${bigPic ? \"visible\" : \"hidden\"}`\r\n                                        // \"position\": \"fixed\",\r\n                                        // \"display\": `${bigPic ? \"initial\" : \"none\"}`\r\n                                        // \"bottom\": \"10em\",\r\n                                        // \"left\": `${isLargeScreen ? \"initial\" : \"1em\"}`\r\n                                    }}\r\n                                    className=\"carouselDialogue thumbnail\"\r\n                                    src={`${image}`}\r\n                                    onDragStart={handleOnDragStart} className=\"yours-custom-class\" />\r\n                            )\r\n                        }\r\n                    </AliceCarousel>\r\n                </div> */}\r\n                {/* <div\r\n\r\n                    onClick={() => setBigPic(!bigPic)}\r\n                    style={{\r\n                        \"display\": `${bigPic ? \"initial\" : \"none\"}`,\r\n                        \"zIndex\": \"98\",\r\n                        \"width\": \"100vw\",\r\n                        \"height\": \"120vh\",\r\n                        // \"margin\": \"1em\"\r\n                        // \"box-shadow\": \"0px 10px 1000px 100px\"\r\n                        // \"backgroundColor\": \"black\",\r\n                        // \"opacity\": \"0.4\"\r\n                    }}> */}\r\n                {/* <div className=\"centered graded shadowed\"\r\n                        style={{\r\n                            \"position\": \"absolute\",\r\n                            \"marginRight\": \"12em\",\r\n                            \"marginBottom\": \"5em\",\r\n                            \"padding\": \"1em\",\r\n                            \"bottom\": \"-3em\",\r\n                            \"top\": \"15em\",\r\n                            \"height\": \"127vh\",\r\n                            \"right\": \"10vw\",\r\n                            // \"right\": \"5%\",\r\n                            // \"top\": \"10%\",\r\n                            \"zIndex\": \"99\",\r\n\r\n                        }}>\r\n                        <button\r\n                            style={{\r\n                                \"fontSize\": \"larger\",\r\n                                \"margin\": \"1em\"\r\n                                // \"padding\": \"1em\",\r\n                                // \"bottom\": \"1em\",\r\n                                // \"left\": \"1em\"\r\n                            }}\r\n                            onClick={() => { setBigPic(!bigPic) }}\r\n                            class=\"close-button shadowed\">X</button> */}\r\n                {/* <img\r\n                            // style={{ \"box-shadow\": \"0px 10px 1000px 100px\" }}\r\n                            width=\"500\"\r\n                            height=\"auto\"\r\n                            src={currentImage}></img> */}\r\n                {/* </div> */}\r\n                {/* </div> */}\r\n                <div className=\"productPage centered\" style={{\r\n                    \"width\": `${isLargeScreen ? \"initial\" : \"100vw\"}`,\r\n                    \"right\": `${isLargeScreen ? \"initial\" : \"19%\"}`,\r\n                    \"position\": `${isLargeScreen ? \"initial\" : \"relative\"}`\r\n                    // \"align\": \"left\",\r\n                    // \"right\": \"5vw\"\r\n                }}>\r\n                    <img\r\n                        onClick={() => {\r\n                            handleWishlist(productInWishlistArray.length, item);\r\n                        }}\r\n                        id={`heartIcon${item[0]}`}\r\n                        style={{\r\n                            \"top\": `${(posArray[1]) ? posArray[0] : emptyString}`,\r\n                            \"left\": \"36vw\",\r\n                            \"marginTop\": \"1em\",\r\n                            \"marginLeft\": \"-5em\",\r\n                            // \"left\": `${(rightArray[0]) ? rightArray[0] : emptyString}`,\r\n                            // \"left\": \"4em\",\r\n                            \"display\": \"initial\",\r\n                            // \"display\": `${(productInWishlistArray.length > 0) ? \"initial\" : \"none\"}`,\r\n                            \"position\": \"absolute\"\r\n                        }}\r\n                        width={`${isLargeScreen ? \"3%\" : \"3em\"}`}\r\n                        height=\"auto\"\r\n                        src={`${(productInWishlistArray.length > 0) ? filledHeartSource : emptyHeartSource}`} />\r\n                    <Flexbox\r\n                        className=\"shadowed centered\"\r\n                        style={{\r\n                            \"padding\": \"1em\",\r\n                            \"right\": \"2em\",\r\n                            \"margin-right\": \"5vw\",\r\n                            \"margin-left\": `${!isLargeScreen && \"3vw\"}`\r\n                        }}\r\n                        flexDirection={isLargeScreen ? \"row\" : \"column\"}>\r\n                        <div style={{ \"width\": \"100%\" }}>\r\n                            {bestseller &&\r\n                                <h4\r\n                                    className=\"bestseller2\"\r\n                                    style={{\r\n                                        \"bottom\": \"2em\",\r\n                                        \"top\": \"0em\",\r\n                                        \"left\": \".5em\"\r\n                                    }}>Bestseller</h4>}\r\n                            <div style={{\r\n                                \"align\": \"left\",\r\n                                \"width\": \"100%\"\r\n                            }}>\r\n                                <div >\r\n                                    <div\r\n                                        style={{ \"minWidth\": \"25vw\" }}\r\n                                        className={`column ${!isLargeScreen && \"centered\"}`}\r\n                                        // onMouseOver={() => { handleShowHeart(`${item[0]}`) }}\r\n                                        // onMouseOut={() => { handleHideHeart(`${item[0]}`) }}\r\n                                        onLoad={() => {\r\n\r\n                                            window.scroll(0, 130)\r\n                                            addToPrevious()\r\n                                            setItemLoadedCount(itemLoadedCount + 1);\r\n                                            posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().top + window.scrollY);\r\n                                            posArray.push(document.getElementById(`${item[0]}`).getBoundingClientRect().left);\r\n\r\n                                        }}>\r\n                                        {/* <div id={`contentLoader`}>\r\n                                            <ContentLoader\r\n                                                animate={false}\r\n                                                backgroundColor=\"white\"\r\n                                                style={{\r\n                                                    // \"background-Color\": \"#565759\",\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                    \"height\": \"800px\",\r\n                                                    \"position\": \"absolute\"\r\n                                                }}\r\n                                                onLoad={() => {\r\n                                                    // document.getElementById(`spinner${allProducts.indexOf(item)}`).style.display = \"none\"\r\n                                                    // document.getElementById(`spinner${allProducts.indexOf(item)}`).setAttribute(\"display\", \"none\")\r\n                                                }\r\n                                                }\r\n                                            >\r\n                                                <rect style={{\r\n                                                    // \"background-Color\": \"#565759\",\r\n                                                    \"zIndex\": \"85\",\r\n                                                    \"borderRadius\": \"25px\",\r\n                                                }} x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"400\" height=\"500\" />\r\n\r\n                                                <rect x=\"80\" y=\"17\" rx=\"4\" ry=\"4\" width=\"300\" height=\"13\" />\r\n                                                <rect x=\"80\" y=\"40\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\r\n                                            </ContentLoader>\r\n                                            <div\r\n                                                style={{ \"position\": \"relative\", \"top\": \"-600px\", \"zIndex\": \"86\" }}\r\n                                                className=\"loader centered\" id={`spinner${allProducts.indexOf(item)}`}></div>\r\n                                        </div> */}\r\n                                        <Flexbox flexDirection=\"column\">\r\n                                            <img\r\n                                                style={{ \"zIndex\": \"90\", \"marginRight\": \"5em\" }}\r\n                                                onClick={() => handleBigPic()}\r\n                                                onLoad={() => {\r\n                                                    handleContentLoader();\r\n                                                    setItemIsSelected(false)\r\n                                                }}\r\n                                                id={`${item[0]}`}\r\n                                                src={currentImage}\r\n                                                width=\"260px\"\r\n                                                height=\"auto\">\r\n                                            </img>\r\n                                            <Flexbox\r\n                                                flexDirection=\"row\"\r\n                                                style={{ \"maxWidth\": \"300px\", \"top\": \"5em\", \"zIndex\": \"91\" }}>\r\n                                                {moreImages.map(i =>\r\n                                                    <img\r\n                                                        src={i}\r\n                                                        height=\"auto\"\r\n                                                        width={isLargeScreen ? \"75px\" : \"50px\"}\r\n                                                        style={{\r\n                                                            \"margin\": \"1.5em\",\r\n                                                            \"marginLeft\": \"0em\"\r\n                                                        }}\r\n                                                        onClick={() => handlePicture(i)} />\r\n                                                )}\r\n                                            </Flexbox>\r\n                                        </Flexbox>\r\n                                        {/* <ReactImageMagnify\r\n                                            enlargedImagePosition=\"over\"\r\n                                           \r\n                                            // lensStyle={{ \"width\": \"15em\", \"height\": \"15em\" }}\r\n                                            style={{ \"z-index\": \"92\" }}  {...{\r\n                                                smallImage: {\r\n                                                    alt: briefDescript,\r\n                                                    isFluidWidth: true,\r\n                                                    width: 260,\r\n                                                    height: 390,\r\n                                                    src: itemString,\r\n\r\n                                                },\r\n                                                imageStyle:\r\n                                                {\r\n                                                    \"z-index\": \"30\",\r\n                                                    \"object-fit\": \"fill\"\r\n                                                    // \"position\": \"relative\"\r\n                                                },\r\n                                                isHintEnabled: true,\r\n                                                enlargedImageStyle: {\r\n                                                    \"z-index\": \"32\",\r\n                                                    \"object-fit\": \"fill\",\r\n                                                    \"width\": \"30em\",\r\n                                                    \"left\": \"10em\",\r\n                                                    \"bottom\": \"8em\",\r\n                                                    \"position\": \"relative\",\r\n                                                    // \"width\": \"20em\",\r\n                                                    // \"float\": \"right\"\r\n                                                },\r\n                                                enlargedImageContainerStyle: {\r\n                                                    \"object-fit\": \"fill\",\r\n                                                    // \"width\": \"20em\",\r\n                                                    // \"left\": \"3em\",\r\n                                                    //     \"z-index\": \"33\",\r\n                                                    // \"position\": \"relative\"\r\n                                                },\r\n                                                largeImage: {\r\n                                                    src: itemString,\r\n                                                    width: 1040,\r\n                                                    height: 1560,\r\n                                                    // isFluidWidth: true,\r\n\r\n                                                    // was 1040 x 1560\r\n\r\n                                                }\r\n                                            }} /> */}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"column\" style={{\r\n                                \"align\": \"right\",\r\n                                \"minWidth\": \"10vw\"\r\n                            }}>\r\n                                <div className=\"innerOptions\">\r\n\r\n                                    {!oneColor && <p style={{ \"margin-right\": \"10%\" }}>\r\n                                        {!oneColor && \"Color:\"} {chosenColor}</p>}\r\n                                    <div style={{ \"align\": \"center\" }}>\r\n                                        <div>\r\n                                            <div\r\n                                                className=\"column\"\r\n                                                style={{\r\n                                                    \"align\": \"right\",\r\n                                                    \"text-align\": \"right\",\r\n                                                    // \"background-color\": \"#565759\",\r\n                                                    // \"border-radius\": \"25px\"\r\n                                                }}>\r\n                                                <Flexbox\r\n                                                    className=\"row\"\r\n                                                    flexDirection=\"row\"\r\n                                                    style={{\r\n                                                        \"max-width\": \"14em\",\r\n                                                        \"max-height\": \"2em\"\r\n                                                    }}>\r\n                                                    <select\r\n                                                        style={{\r\n                                                            \"width\": `${isLargeScreen ? \"7.2em\" : \"14em\"}`,\r\n                                                            \"position\": \"relative\"\r\n                                                        }}\r\n                                                        id=\"colorChosen\"\r\n                                                        onClick={() => {\r\n                                                            handleColorChoiceRemix()\r\n                                                        }}>\r\n                                                        {colorArr.map(color => {\r\n                                                            let colorSplit = color.split(\"_\")\r\n                                                            let colorName = colorSplit[0]\r\n                                                            let colorHex = colorSplit[1]\r\n                                                            return (\r\n                                                                <option value={`${colorName} ${colorHex}`}\r\n                                                                >{colorName}\r\n                                                                </option>\r\n                                                            )\r\n                                                        })}\r\n                                                        {(colorArr.length == 0) &&\r\n                                                            <option>One Color</option>\r\n                                                        }\r\n\r\n                                                    </select>\r\n                                                </Flexbox>\r\n                                                <br></br>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <br></br>\r\n                                        {(!oneSize || itemSizes.length > 1)\r\n                                            ? <p style={{\r\n                                                \"marginTop\": \"1em\",\r\n                                                \"right\": `${isLargeScreen ? \"1vw\" : \"10vw\"}`,\r\n                                                \"position\": \"relative\",\r\n                                                \"whiteSpace\": \"nowrap\"\r\n                                            }}>Size: {chosenSize}</p>\r\n                                            : <p style={{\r\n                                                \"marginTop\": \"1em\",\r\n                                                \"right\": \"1vw\",\r\n                                                \"position\": \"relative\"\r\n                                            }}>One Size</p>}\r\n                                        <select id=\"sizeChosen\" onClick={() => { handleSizeChoice() }}>\r\n                                            {itemSizes.map(size => {\r\n                                                return (\r\n                                                    <option value={`${size}`}>{size}</option>\r\n                                                )\r\n                                            })}\r\n                                        </select>\r\n                                        {/* {oneSize && <h3>One Size</h3>} */}\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>Quantity: {quantSelected ? quantSelected : \"1\"}</p>\r\n                                        <select id=\"quantityChosen\" onChange={() => { handleQuantChoice() }}>\r\n                                            <option value=\"1\">1</option>\r\n                                            {((choiceStockCount > 1) || (choiceStockCount == 0))\r\n                                                && <option value=\"2\">2</option>}\r\n                                            {((choiceStockCount > 2) || (choiceStockCount == 0))\r\n                                                && <option value=\"3\">3</option>}\r\n                                            {((choiceStockCount > 3) || (choiceStockCount == 0))\r\n                                                && <option value=\"4\">4</option>}\r\n                                            {((choiceStockCount > 4) || (choiceStockCount == 0))\r\n                                                && <option value=\"5\">5</option>}\r\n                                            {((choiceStockCount > 5) || (choiceStockCount == 0))\r\n                                                && <option value=\"6\">6</option>}\r\n                                            {((choiceStockCount > 6) || (choiceStockCount == 0))\r\n                                                && <option value=\"7\">7</option>}\r\n                                            {((choiceStockCount > 7) || (choiceStockCount == 0))\r\n                                                && <option value=\"8\">8</option>}\r\n                                            {((choiceStockCount > 8) || (choiceStockCount == 0))\r\n                                                && <option value=\"9\">9</option>}\r\n                                            {((choiceStockCount > 9) || (choiceStockCount == 0))\r\n                                                && <option value=\"10\">10</option>}\r\n\r\n                                        </select>\r\n                                    </div>\r\n                                    {/* <h4>Quantity Selected: {quantSelected}</h4> */}\r\n                                    {itemIsSelected && <p>{choiceStockDescriptor}</p>}\r\n                                    <div >\r\n                                        {(numInCart > 0) &&\r\n                                            <p style={{\r\n                                                \"background-color\": \"#565759\",\r\n                                                \"padding\": \".25em\",\r\n                                                \"border-radius\": \"13px\",\r\n                                                \"fontSize\": \"large\",\r\n\r\n                                            }}>{numInCart} in cart</p>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            style={{ \"maxWidth\": `${isLargeScreen ? \"40vw\" : \"95vw\"}` }}\r\n                            className=\"shadowed\">\r\n                            <div className=\"productCard\">\r\n                                <div>\r\n                                    <span>\r\n                                        {!onSale ?\r\n                                            <p class=\"price\">${item[2]}.00</p>\r\n                                            :\r\n                                            <p class=\"price\">\r\n                                                <del>${item[2]}.00</del> SALE: ${item[12]}.00\r\n                                            </p>\r\n                                        }\r\n                                        {/* {onSale &&\r\n                                            <p class=\"price\"></p>} */}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <Link to={`${(buyNowAllowed) ? \"/cart\" : \"#\"}`}>\r\n                                <p>\r\n                                    <button\r\n                                        disabled={buttonDisabled}\r\n                                        style={{ \"width\": \"75%\" }}\r\n                                        className=\"button primary\"\r\n                                        type=\"button\"\r\n                                        onClick={() => {\r\n                                            handleAddToCart(item, [chosenSize, chosenColor, chosenColorHex, quantSelected]);\r\n                                            turnOffModal()\r\n                                        }\r\n                                        }>Buy Now</button>\r\n                                </p>\r\n                            </Link>\r\n                            <p><button\r\n                                style={{ \"width\": \"75%\" }}\r\n                                className=\"hollow button primary\"\r\n                                id=\"addCartButton\"\r\n                                type=\"button\"\r\n                                disabled={buttonDisabled}\r\n                                // disabled={buttonDisabled}\r\n                                onClick={() => {\r\n                                    handleAddToCart(item, [chosenSize, chosenColor, chosenColorHex, quantSelected]);\r\n\r\n\r\n                                }}>Add to Cart</button></p>\r\n\r\n                            <div class=\"table-scroll\" style={{\r\n                                \"width\": \"150%\",\r\n                                \"position\": \"relative\",\r\n                                \"right\": `${isLargeScreen ? \"8em\" : \"4em\"}`\r\n                            }}>\r\n                                <table>\r\n                                    <p\r\n                                        style={{\r\n                                            \"textAlign\": \"left\",\r\n                                            \"width\": \"130%\"\r\n                                        }}\r\n                                        className=\"description centered graded\">{longDescript}</p>\r\n                                </table>\r\n                            </div>\r\n                            {!isLargeScreen &&\r\n                                <p><button\r\n                                    style={{ \"width\": \"75%\" }}\r\n                                    className=\"hollow button primary\"\r\n                                    id=\"addCartButton\"\r\n                                    type=\"button\"\r\n                                    disabled={buttonDisabled}\r\n                                    // disabled={buttonDisabled}\r\n                                    onClick={() => {\r\n                                        handleWishlist(productInWishlistArray.length, item);\r\n                                    }}>Add to Favorites</button></p>}\r\n                            <h4>Frequently Bought With...</h4>\r\n                            <div className=\"row\" width=\"110%\">\r\n                                {itemBoughtWith.map(i => {\r\n                                    let linkString = i[0].split(\" \").join(\"-\")\r\n                                    console.log(i)\r\n                                    console.log(i[0])\r\n                                    console.log(linkString)\r\n\r\n                                    return (\r\n                                        <div className=\"column\">\r\n                                            <Link\r\n                                                onClick={() => {\r\n                                                    setChosenColor(\"\");\r\n                                                    setChosenSize(\"\")\r\n                                                }}\r\n                                                to={`/product/${linkString}`}>\r\n                                                <img\r\n                                                    src={`${i[5]}`}\r\n                                                    width={`${isLargeScreen ? \"100%\" : \"33%\"}`}\r\n                                                    height=\"auto\"></img>\r\n                                                <p>{i[0]}</p>\r\n                                            </Link>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div >\r\n                    </Flexbox >\r\n                    <div>\r\n                        <div>\r\n                            <h3>View our <Link to=\"/return-policy\">60-day Return Policy</Link></h3>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n                <RecentlyViewed />\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/shop\">Shop</Link></li>\r\n                        {hasCategory &&\r\n                            <li><Link to={`/shop/${itemCategory}`}>{itemCategory}</Link></li>\r\n                        }\r\n                        <li><Link to={`/product/${productPageLinkString}`}>{item[0]}</Link></li>\r\n\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: {itemCategory}</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div >\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h2>One moment please...</h2>\r\n                <div class=\"text-center\">\r\n                    <div class=\"spinner-border\" role=\"status\"></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductPage","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport firebase from \"firebase\"\r\nimport { Context } from \"./Context\"\r\nimport AllProducts from \"./AllProducts\"\r\n\r\nfunction MyOrders() {\r\n\r\n    const [showEarlier, setShowEarlier] = useState(false)\r\n\r\n    function toggleShowEarlier() {\r\n        setShowEarlier(!showEarlier)\r\n    }\r\n\r\n    const {\r\n        prevOrders,\r\n        ordersLoaded,\r\n        allProducts,\r\n        setOnCheckout,\r\n        setTermsDisplay,\r\n        isLargeScreen,\r\n        setSearchString,\r\n        setOnProductPage\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        setSearchString(\"\")\r\n        setOnCheckout(false)\r\n        setTermsDisplay(false)\r\n        setOnProductPage(false)\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n    }, [])\r\n\r\n\r\n    const reducedOrders = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n        prevOrders.map(order => {\r\n\r\n            let newOrder = []\r\n\r\n            order[1].map(item => {\r\n                let filtered = order[1].filter(i =>\r\n                    (\r\n                        (i.itemName == item.itemName) &&\r\n                        (i.itemColor == item.itemColor) &&\r\n                        (i.itemSize == item.itemSize)\r\n                    ))\r\n                let filtLength = filtered.length\r\n                let newItem = [item, filtLength]\r\n                console.log(\"iterated over item: \" + item)\r\n\r\n                let newOrderFiltered = newOrder.filter(i =>\r\n                    (\r\n                        (i.itemName == item.itemName) &&\r\n                        (i.itemColor == item.itemColor) &&\r\n                        (i.itemSize == item.itemSize)\r\n                    ))\r\n\r\n                if (newOrderFiltered.length == 0) {\r\n                    return newOrder.push(newItem)\r\n                }\r\n            })\r\n        })\r\n\r\n\r\n    }, [prevOrders])\r\n\r\n    const lastFiveOrders = [prevOrders[0], prevOrders[1], prevOrders[2], prevOrders[3], prevOrders[4]]\r\n\r\n    console.log(prevOrders)\r\n    console.log(lastFiveOrders)\r\n\r\n\r\n    if (((prevOrders.length > 0) && (prevOrders.length < 6)) && ordersLoaded) {\r\n        return (\r\n\r\n            <div>\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div\r\n                    className=\"shadowed\"\r\n                    style={{ \"margin\": \"1em\" }}>\r\n                    <h1>Your Orders({prevOrders.length})</h1>\r\n                    <div>\r\n                        {lastFiveOrders.map(order => {\r\n\r\n                            if (order) {\r\n\r\n                                let newOrder = []\r\n\r\n                                order[1].map(item => {\r\n                                    let filtered = order[1].filter(i =>\r\n                                        (\r\n                                            (i.itemName == item.itemName) &&\r\n                                            (i.itemColor == item.itemColor) &&\r\n                                            (i.itemSize == item.itemSize)\r\n                                        ))\r\n                                    let filtLength = filtered.length\r\n                                    let newItem = [item, filtLength]\r\n                                    console.log(\"iterated over item: \" + item)\r\n\r\n                                    let newOrderFiltered = newOrder.filter(i =>\r\n                                        (\r\n                                            (i[0].itemName == item.itemName) &&\r\n                                            (i[0].itemColor == item.itemColor) &&\r\n                                            (i[0].itemSize == item.itemSize)\r\n                                        ))\r\n\r\n                                    if (newOrderFiltered.length == 0) {\r\n                                        return newOrder.push(newItem)\r\n                                    }\r\n                                })\r\n\r\n                                // let finalOrder = newOrder.filter((item, index) => {\r\n                                //     return newOrder.indexOf(item) === index\r\n                                // })\r\n\r\n                                let finalOrder = [...new Set(newOrder)]\r\n                                console.log(\"finalOrder: \" + finalOrder)\r\n                                let orderQuant = order[1].length\r\n\r\n                                let emptyArr = []\r\n\r\n\r\n                                let amountPaid = ((Number(order[2]) / 100).toFixed(2))\r\n                                let dateObj = new Date(Number(order[0]) * 1000)\r\n                                let dateFull = dateObj.toString()\r\n                                let dateShort = dateFull.split(\" \")\r\n                                let briefDate = [\r\n                                    dateShort[0],\r\n                                    dateShort[1],\r\n                                    dateShort[2],\r\n                                    dateShort[3],\r\n                                    dateShort[4]].join(\" \")\r\n                                let orderType = order[3]\r\n                                let orderCreditUsed = ((Number(order[4]) / 100).toFixed(2))\r\n                                let orderStatus = order[5]\r\n                                let orderTracking = order[6]\r\n                                return (\r\n                                    <div className=\"graded\">\r\n                                        <div\r\n                                            className=\"row shadowed\"\r\n                                            style={{ \"margin\": `${isLargeScreen ? \"4em\" : \"0em\"}` }}>\r\n                                            <div className=\"centered\">\r\n                                                {(orderType !== \"exchange\") && <p>Order Total: ${amountPaid}</p>}\r\n                                                {(orderType == \"exchange\") &&\r\n\r\n                                                    <p>Exchange</p>\r\n\r\n                                                }\r\n                                                {(orderCreditUsed > 0) &&\r\n\r\n                                                    <p>Store Credit Used: ${orderCreditUsed}</p>\r\n                                                }\r\n\r\n                                                <p>{orderQuant} {(orderQuant == 1 ? \"item\" : \"items\")}</p>\r\n\r\n\r\n                                                <p>Order Date: {briefDate}</p>\r\n\r\n                                                {orderStatus &&\r\n                                                    <p>{orderStatus}</p>\r\n                                                }\r\n                                                {(orderTracking && (orderStatus == \"Shipped\")) &&\r\n\r\n                                                    <a\r\n                                                        href={`https://tools.usps.com/go/TrackConfirmAction?tRef=fullpage&tLc=2&text28777=&tLabels=${orderTracking}%2C`}>\r\n                                                        Track My Order</a>\r\n                                                }\r\n                                            </div>\r\n\r\n                                            {\r\n                                                finalOrder.map(item => {\r\n                                                    console.log(newOrder)\r\n                                                    let product = item[0]\r\n                                                    let productCount = item[1].toString()\r\n\r\n                                                    let boolArr = []\r\n                                                    let arrFilt = emptyArr.filter(i => i == item)\r\n                                                    let leCount = arrFilt.length\r\n                                                    if (leCount == 0) {\r\n                                                        emptyArr.push(item)\r\n                                                        boolArr.push(true)\r\n                                                    } else {\r\n                                                        boolArr.push(false)\r\n                                                    }\r\n\r\n                                                    if ((product.itemName)\r\n                                                        // && (boolArr[0] == true)\r\n                                                    ) {\r\n\r\n\r\n\r\n                                                        let linkString = product.itemName.split(\" \").join(\"-\")\r\n                                                        let itemColorArr = product.itemColor.split(\"_\")\r\n\r\n                                                        let itemColor = itemColorArr[0]\r\n\r\n                                                        let itemSize = product.itemSize\r\n                                                        let newArr = []\r\n                                                        if (itemSize === \"One-Size\") {\r\n                                                            newArr.push(\"One Size\")\r\n                                                        } else {\r\n                                                            newArr.push(itemSize)\r\n                                                        }\r\n\r\n                                                        let productSource = allProducts.find(item => item[0] === product.itemName)\r\n\r\n                                                        return (\r\n                                                            <div\r\n                                                                className=\"columnSmall shadowed\"\r\n                                                                style={{ \"width\": `${isLargeScreen ? \"25%\" : \"100%\"}` }}>\r\n                                                                <Link to={`/product/${linkString}`}>\r\n                                                                    <img src={`${productSource[5]}`} width=\"30%\" height=\"auto\"></img>\r\n                                                                    <p className=\"marginless\">{product.itemName}{(item[1] > 1) && ` (${productCount})`}</p>\r\n                                                                    <p className=\"marginless\">{newArr[0]}</p>\r\n                                                                    <p className=\"marginless\">{itemColor}</p>\r\n                                                                </Link>\r\n                                                            </div>\r\n                                                        )\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n    else if ((prevOrders.length >= 6) && ordersLoaded) {\r\n        return (\r\n            <div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div className=\"shadowed\"\r\n                    style={{ \"margin\": \"1em\" }}>\r\n                    <h1>Your Orders ({prevOrders.length})</h1>\r\n                    <div>\r\n                        {lastFiveOrders.map(order => {\r\n\r\n\r\n                            let newOrder = []\r\n\r\n\r\n\r\n                            let orderQuant = order[1].length\r\n                            console.log(newOrder)\r\n                            order[1].map(item => {\r\n                                let filtered = order[1].filter(i =>\r\n                                    (\r\n                                        (i.itemName == item.itemName) &&\r\n                                        (i.itemColor == item.itemColor) &&\r\n                                        (i.itemSize == item.itemSize)\r\n                                    ))\r\n                                let filtLength = filtered.length\r\n                                let newItem = [item, filtLength]\r\n                                console.log(\"iterated over item: \" + item)\r\n\r\n                                let newOrderFiltered = newOrder.filter(i =>\r\n                                    (\r\n                                        (i[0].itemName == item.itemName) &&\r\n                                        (i[0].itemColor == item.itemColor) &&\r\n                                        (i[0].itemSize == item.itemSize)\r\n                                    ))\r\n\r\n                                if (newOrderFiltered.length == 0) {\r\n                                    return newOrder.push(newItem)\r\n                                }\r\n                            })\r\n\r\n                            // let finalOrder = newOrder.filter((item, index) => {\r\n                            //     return newOrder.indexOf(item) === index\r\n                            // })\r\n                            let finalOrder = [...new Set(newOrder)]\r\n\r\n                            console.log(\"finalOrder: \" + finalOrder)\r\n\r\n                            let emptyArr = []\r\n\r\n                            let amountPaid = ((Number(order[2]) / 100).toFixed(2))\r\n                            let dateObj = new Date(Number(order[0]) * 1000)\r\n                            let dateFull = dateObj.toString()\r\n                            let dateShort = dateFull.split(\" \")\r\n                            let briefDate = [\r\n                                dateShort[0],\r\n                                dateShort[1],\r\n                                dateShort[2],\r\n                                dateShort[3]].join(\" \")\r\n                            let orderType = order[3]\r\n                            let orderCreditUsed = ((Number(order[4]) / 100).toFixed(2))\r\n                            let orderStatus = order[5]\r\n                            let orderTracking = order[6]\r\n                            return (\r\n                                <div className=\"graded\">\r\n                                    <div\r\n                                        className=\"row shadowed\"\r\n                                        style={{ \"margin\": `${isLargeScreen ? \"4em\" : \"1em\"}` }}>\r\n\r\n\r\n                                        <div className=\"centered\">\r\n                                            {(orderType !== \"exchange\") &&\r\n\r\n                                                <p>Order Total: ${amountPaid}</p>\r\n                                            }\r\n                                            {(orderType == \"exchange\") &&\r\n\r\n                                                <p>Exchange</p>\r\n\r\n                                            }\r\n                                            {(orderCreditUsed > 0) &&\r\n\r\n                                                <p>Store Credit Used: ${orderCreditUsed}</p>\r\n                                            }\r\n\r\n                                            <p>{orderQuant} {(orderQuant == 1 ? \"item\" : \"items\")}</p>\r\n\r\n\r\n                                            <p>Order Date: {briefDate}</p>\r\n\r\n                                            {orderStatus &&\r\n                                                <p>{orderStatus}</p>\r\n                                            }\r\n                                            {(orderTracking && (orderStatus == \"Shipped\")) &&\r\n\r\n                                                <a\r\n                                                    href={`https://tools.usps.com/go/TrackConfirmAction?tRef=fullpage&tLc=2&text28777=&tLabels=${orderTracking}%2C`}>\r\n                                                    Track My Order</a>\r\n                                            }\r\n                                        </div>\r\n\r\n                                        {\r\n                                            finalOrder.map(item => {\r\n                                                console.log(newOrder)\r\n                                                let product = item[0]\r\n                                                let productCount = item[1].toString()\r\n                                                console.log(product)\r\n\r\n                                                let boolArr = []\r\n                                                let arrFilt = emptyArr.filter(i => i == item)\r\n                                                let leCount = arrFilt.length\r\n                                                if (leCount == 0) {\r\n                                                    emptyArr.push(item)\r\n                                                    boolArr.push(true)\r\n                                                } else {\r\n                                                    boolArr.push(false)\r\n                                                }\r\n\r\n\r\n                                                let linkString = product.itemName.split(\" \").join(\"-\")\r\n                                                let itemColorArr = product.itemColor.split(\"_\")\r\n\r\n                                                let itemColor = itemColorArr[0]\r\n\r\n                                                let itemSize = product.itemSize\r\n                                                let newArr = []\r\n                                                if (itemSize === \"One-Size\") {\r\n                                                    newArr.push(\"One Size\")\r\n                                                } else {\r\n                                                    newArr.push(itemSize)\r\n                                                }\r\n\r\n                                                let productSource = allProducts.find(item => item[0] === product.itemName)\r\n\r\n\r\n                                                if (\r\n                                                    (productSource !== undefined)\r\n                                                    //    && (boolArr[0] == true)\r\n                                                ) {\r\n\r\n                                                    return (\r\n                                                        <div\r\n                                                            className=\"columnSmall shadowed\"\r\n                                                            style={{ \"width\": `${isLargeScreen ? \"25%\" : \"100%\"}` }}\r\n                                                        >\r\n                                                            <Link to={`/product/${linkString}`}>\r\n                                                                <img src={`${productSource[5]}`} width=\"30%\" height=\"auto\"></img>\r\n                                                                <p className=\"marginless\">{product.itemName}{(item[1] > 1) && ` (${productCount})`}</p>\r\n                                                                <p className=\"marginless\">{newArr[0]}</p>\r\n                                                                <p className=\"marginless\">{itemColor}</p>\r\n                                                            </Link>\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    width=\"6em\"\r\n                    className=\"button primary\"\r\n                    type=\"button\"\r\n                    onClick={() => toggleShowEarlier()}\r\n                >{showEarlier ? \"Hide Earlier\" : \"Show Earlier\"}</button>\r\n                {\r\n                    showEarlier &&\r\n                    <div\r\n                        className=\"shadowed\"\r\n                        style={{ \"margin\": \"1vw\" }}>\r\n                        {prevOrders.map(order => {\r\n                            if (prevOrders.indexOf(order) > 4) {\r\n\r\n\r\n                                let newOrder = []\r\n\r\n                                order[1].map(item => {\r\n                                    let filtered = order[1].filter(i =>\r\n                                        (\r\n                                            (i.itemName == item.itemName) &&\r\n                                            (i.itemColor == item.itemColor) &&\r\n                                            (i.itemSize == item.itemSize)\r\n                                        ))\r\n                                    let filtLength = filtered.length\r\n                                    let newItem = [item, filtLength]\r\n                                    console.log(\"iterated over item: \" + item)\r\n\r\n                                    let newOrderFiltered = newOrder.filter(i =>\r\n                                        (\r\n                                            (i[0].itemName == item.itemName) &&\r\n                                            (i[0].itemColor == item.itemColor) &&\r\n                                            (i[0].itemSize == item.itemSize)\r\n                                        ))\r\n\r\n                                    if (newOrderFiltered.length == 0) {\r\n                                        return newOrder.push(newItem)\r\n                                    }\r\n                                })\r\n\r\n                                console.log(newOrder)\r\n\r\n                                let orderQuant = order[1].length\r\n                                console.log(newOrder)\r\n\r\n                                // let finalOrder = newOrder.filter((item, index) => {\r\n                                //     return newOrder.indexOf(item) === index\r\n                                // })\r\n\r\n                                let emptyArr = []\r\n\r\n                                let finalOrder = [...new Set(newOrder)]\r\n                                // let finalOrder = [...orderSet]\r\n                                // let orderQuant = order[1].length\r\n                                console.log(\"finalOrder: \" + finalOrder)\r\n\r\n                                let amountPaid = ((Number(order[2]) / 100).toFixed(2))\r\n                                let dateObj = new Date(Number(order[0]) * 1000)\r\n                                let dateFull = dateObj.toString()\r\n                                let dateShort = dateFull.split(\" \")\r\n                                let briefDate = [\r\n                                    dateShort[0],\r\n                                    dateShort[1],\r\n                                    dateShort[2],\r\n                                    dateShort[3]].join(\" \")\r\n                                let orderType = order[3]\r\n                                let orderCreditUsed = ((Number(order[4]) / 100).toFixed(2))\r\n                                let orderStatus = order[5]\r\n                                let orderTracking = order[6]\r\n                                return (\r\n                                    <div className=\"shadowed graded\">\r\n\r\n\r\n                                        <div className=\"centered\">\r\n                                            {(orderType !== \"exchange\") &&\r\n\r\n                                                <p>Order Total: ${amountPaid}</p>\r\n                                            }\r\n                                            {(orderType == \"exchange\") &&\r\n\r\n                                                <p>Exchange</p>\r\n                                            }\r\n                                            {(orderCreditUsed > 0) &&\r\n\r\n                                                <p>Store Credit Used: ${orderCreditUsed}</p>\r\n                                            }\r\n\r\n                                            <p>{orderQuant} {(orderQuant == 1 ? \"item\" : \"items\")}</p>\r\n\r\n                                            <p>Order Date: {briefDate}</p>\r\n\r\n                                            {orderStatus &&\r\n                                                <p>{orderStatus}</p>\r\n                                            }\r\n                                            {(orderTracking && (orderStatus == \"Shipped\")) &&\r\n\r\n                                                <a\r\n                                                    href={`https://tools.usps.com/go/TrackConfirmAction?tRef=fullpage&tLc=2&text28777=&tLabels=${orderTracking}%2C`}>\r\n                                                    Track My Order</a>\r\n                                            }\r\n                                        </div>\r\n\r\n                                        <div\r\n                                            className=\"row\"\r\n                                            style={{ \"margin\": `${isLargeScreen ? \"4em\" : \"0em\"}` }}>\r\n                                            {finalOrder.map(item => {\r\n\r\n                                                let boolArr = []\r\n                                                let arrFilt = emptyArr.filter(i => i == item)\r\n                                                let leCount = arrFilt.length\r\n                                                if (leCount == 0) {\r\n                                                    emptyArr.push(item)\r\n                                                    boolArr.push(true)\r\n                                                } else {\r\n                                                    boolArr.push(false)\r\n                                                }\r\n\r\n\r\n\r\n\r\n                                                console.log(newOrder)\r\n                                                let product = item[0]\r\n                                                let productCount = item[1].toString()\r\n\r\n                                                // sameItemArray.push(product)\r\n\r\n                                                // let sameExactItem = sameItemArray.filter(item => item === product)\r\n                                                // let exactItemCount = sameExactItem.length\r\n\r\n                                                let linkString = product.itemName.split(\" \").join(\"-\")\r\n                                                let itemColorArr = product.itemColor.split(\"_\")\r\n\r\n                                                let itemColor = itemColorArr[0]\r\n\r\n                                                let itemSize = product.itemSize\r\n                                                let newArr = []\r\n                                                if (itemSize === \"One-Size\") {\r\n                                                    newArr.push(\"One Size\")\r\n                                                } else {\r\n                                                    newArr.push(itemSize)\r\n                                                }\r\n\r\n                                                let productSource = allProducts.find(item => item[0] === product.itemName)\r\n                                                console.log(productSource)\r\n\r\n                                                if (\r\n                                                    (productSource !== undefined)\r\n                                                    //  &&   (boolArr[0] == true)\r\n                                                ) {\r\n                                                    return (\r\n                                                        <div\r\n                                                            className=\"columnSmall shadowed\"\r\n                                                            style={{ \"width\": `${isLargeScreen ? \"25%\" : \"100%\"}` }}>\r\n                                                            <Link to={`/product/${linkString}`}>\r\n                                                                <img src={`${productSource[5]}`} width=\"30%\" height=\"auto\"></img>\r\n                                                                <p className=\"marginless\">{product.itemName}{(item[1] > 1) && ` (${productCount})`}</p>\r\n                                                                <p className=\"marginless\">{newArr[0]}</p>\r\n                                                                <p className=\"marginless\">{itemColor}</p>\r\n                                                            </Link>\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                )\r\n\r\n                            }\r\n                        })}\r\n                    </div>\r\n                }\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    } else if (!ordersLoaded) {\r\n        return (\r\n            <div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div\r\n                    className=\"shadowed centered\"\r\n                    style={{ \"margin\": \"1em\" }}>\r\n                    <h4>Orders Loading...</h4>\r\n                    <div className=\"loader\"></div>\r\n                </div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    else if (ordersLoaded && (prevOrders.length < 1)) {\r\n        return (\r\n            <div>\r\n                <nav style={{ \"marginTop\": \"1em\" }}\r\n                    className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div\r\n                    className=\"shadowed centered\"\r\n                    style={{\r\n                        \"margin\": \"1em\",\r\n                        \"height\": \"7em\"\r\n                    }}>\r\n                    <h4>You haven't placed any orders yet.</h4>\r\n                    <Link to=\"/account\">\r\n                        <div className=\"userAccount\">\r\n                            <div className=\"itemCard\">\r\n                                <button\r\n                                    className=\"userButton button primary\"\r\n                                    style={{ \"height\": \"3em\" }}>Back to Account</button>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                    <ul class=\"breadcrumbs\">\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/account\">Account</Link></li>\r\n                        <li><Link to=\"/my-orders\">Orders</Link></li>\r\n                        <li>\r\n                            <span class=\"show-for-sr\">Current: Your Orders</span>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MyOrders\r\n\r\n","import React, { useEffect, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { Context } from \"./Context\"\r\n\r\nfunction Blog() {\r\n\r\n    const {\r\n        setOnCheckout,\r\n        setTermsDisplay\r\n    } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        if (document.getElementById(\"firebaseui-auth-container\")) {\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n            setOnCheckout(false)\r\n\r\n\r\n        }\r\n\r\n        setTermsDisplay(false)\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\r\n        // document.getElementById('smallSearch').style.display = \"none\"\r\n        // document.getElementById('largeSearch').style.display = \"none\"\r\n\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/blog\">Blog</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Blog</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <h1>Blog</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Blog","import React, { useState, useEffect, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"./Context\"\r\nimport Wishlist from \"./Wishlist\"\r\n\r\nfunction Favorites() {\r\n\r\n\r\n    const {\r\n        wishlistItemCount,\r\n        isLargeScreen,\r\n        setOnProductPage\r\n    } = useContext(Context)\r\n\r\n\r\n    useEffect(() => {\r\n        setOnProductPage(false)\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div >\r\n            <nav style={{ \"marginTop\": \"1em\" }}\r\n                className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/account\">Account</Link></li>\r\n                    <li><Link to=\"/favorites\">Favorites</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Favorites</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <div className=\"shadowed centered\">\r\n                <h4>Your Favorites</h4>\r\n                <div className=\"productCard\">\r\n                    <div className=\"row\">\r\n                        <Wishlist />\r\n                    </div>\r\n                </div>\r\n                <p\r\n                    className=\"grayBlock centered\"\r\n                    style={{\r\n                        \"width\": `${isLargeScreen && \"33%\"}`,\r\n                        \"maxHeight\": \"3em\"\r\n                    }}>Favorited Items: {wishlistItemCount}</p>\r\n            </div>\r\n            <nav className=\"darkNav\" aria-label=\"You are here:\" role=\"navigation\">\r\n                <ul class=\"breadcrumbs\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li><Link to=\"/account\">Account</Link></li>\r\n                    <li><Link to=\"/favorites\">Favorites</Link></li>\r\n                    <li>\r\n                        <span class=\"show-for-sr\">Current: Favorites</span>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Favorites","import React, { useContext, useEffect, useState } from \"react\";\nimport { Elements, useStripe, useElements } from \"@stripe/react-stripe-js\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport Foundation, { Menu, TopBar, Accordion } from \"react-foundation\"\n// import NavBar from \"./components/navbar\";\nimport \"./App.css\";\nimport Header from \"./Header\"\nimport { Link, Switch, Route } from \"react-router-dom\"\nimport Cart from \"./Cart\"\nimport CartSignIn from \"./CartSignIn\"\nimport About from \"./About\"\nimport Checkout from \"./Checkout\"\nimport Contact from \"./Contact\"\nimport Shop from \"./Shop\"\nimport Account from \"./Account\"\nimport Home from \"./Home\"\n// import CardSection from \"./CardSection\"\nimport SignInSuccessful from \"./SignInSuccessful\"\nimport SignInSuccessEmail from \"./SignInSuccessEmail\"\nimport PrivacyPolicy from \"./PrivacyPolicy\"\nimport TermsOfService from \"./TermsOfService\"\nimport { Context, ContextProvider } from \"./Context\"\nimport firebase from \"firebase\"\nimport * as firebaseui from \"firebaseui\"\nimport SignInWithEmail from \"./SignInWithEmail\";\nimport OrderSuccess from \"./OrderSuccess\"\nimport ShippingComponent from \"./ShippingOrderReview\"\nimport ProductPage from \"./ProductPage\"\nimport MyOrders from \"./MyOrders\"\nimport Dropdown from \"react-dropdown\"\nimport 'react-dropdown/style.css';\nimport ReactModal from \"react-modal\"\nimport MultiSelect from \"react-multi-select-component\"\nimport usePortal from \"react-cool-portal\"\nimport FullSets from \"./FullSets\";\nimport Tops from \"./Tops\"\nimport Skirts from \"./Skirts\"\nimport Belts from \"./Belts\"\nimport ExpressCheckout from \"./ExpressCheckout\"\nimport Blog from \"./Blog\"\nimport ReturnPolicy from \"./ReturnPolicy\"\nimport Flexbox from \"flexbox-react\"\nimport Wishlist from \"./Wishlist\";\nimport Favorites from \"./Favorites\"\nimport Sidebar from \"react-sidebar\"\nimport RecentlyViewed from \"./RecentlyViewed\"\n\n\nfunction App() {\n\n\n  const options = [\n    'one', 'two', 'three'\n  ];\n  const defaultOption = options[0];\n\n\n  const { userInfo,\n    setUserInfo,\n    anonUser,\n    setAnonUser,\n    itemList,\n    setItemList,\n    signInUiLoaded,\n    routerString,\n    setRouterString,\n    productPageComponent,\n    termsDisplay,\n    allProducts,\n    setItemCategory,\n    modalExecute,\n    modalOpen,\n    setModalOpen,\n    modalText,\n    optionsModalText,\n    closeOptionsModal,\n    activateOptionsModal,\n    accountName,\n    accountTitleString,\n    setAccountTitleString,\n    handleAllCredit,\n    modStoreCredit,\n    storeCredit,\n    totalCost,\n    onCheckout,\n    wishlistTempCache,\n    categorySearch,\n    setCategorySearch,\n    topCategory,\n    beltCategory,\n    fullSetCategory,\n    productsLoaded,\n    skirtCategory,\n    displayNumber,\n    allNumber,\n    itemString,\n    setAllNumber,\n    setDisplayNumber,\n    setItemString,\n    handleSignOut,\n    setWishlistString,\n    wishlistString,\n    setWishlistDisplayed,\n    isLargeScreen,\n    searchString,\n    setSearchString,\n    storeCreditExceedsCost,\n    setStoreCreditExceedsCost,\n    changeAmount,\n    setChangeAmount,\n    sidebarOpen,\n    setSidebarOpen,\n    homeIncrement\n  } = useContext(Context)\n\n\n  const [selected, setSelected] = useState([]);\n\n\n  const [productPageLinkString, setProductPageLinkString] = useState(\"\")\n  const [modalOpenBool, setModalOpenBool] = useState(false)\n  const [mouseOverModal, setMouseOverModal] = useState(false)\n\n\n  function closeExpressModal() {\n    document.getElementById('expressModal').style.display = \"none\"\n  }\n\n  function handleDelayedCloseModal() {\n    setTimeout(() => {\n      if (!mouseOverModal) {\n        setModalOpenBool(false)\n      }\n    }, 1000)\n  }\n  function handleDelayedOpenModal() {\n    setTimeout(() => {\n      if (mouseOverModal) {\n        setModalOpenBool(true)\n      }\n    }, 1000)\n  }\n\n\n  useEffect(() => {\n    if (modalOpen) {\n\n      document.getElementById(\"functionalModalButton\").disabled = false\n\n      setTimeout(() => {\n\n        setModalOpen(false)\n      }, 4000)\n    }\n  }, [modalOpen])\n\n  useEffect(() => {\n    document.getElementById(\"firebaseui-auth-container\").style.display = \"none\"\n  }, [])\n\n\n  // firebase auth ui:\n  useEffect(() => {\n    if (((!firebase.auth().currentUser) || (firebase.auth().currentUser.isAnonymous))) {\n\n      var data = null;\n      var anonymousUser = firebase.auth().currentUser\n      var ui = new firebaseui.auth.AuthUI(firebase.auth());\n      ui.start('#firebaseui-auth-container', {\n        credentialHelper: firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM,\n        autoUpgradeAnonymousUsers: true,\n        signInFlow: 'popup',\n        signInSuccessUrl: 'https://www.jivasoriginals.com/account',\n        signInOptions: [\n          firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n          firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n          firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n        ],\n        callbacks: {\n\n          // signInFailure callback must be provided to handle merge conflicts which\n          // occur when an existing credential is linked to an anonymous user.\n          signInFailure: function (error) {\n            // For merge conflicts, the error.code will be\n            // 'firebaseui/anonymous-upgrade-merge-conflict'.\n            if (error.code != 'firebaseui/anonymous-upgrade-merge-conflict') {\n              return Promise.resolve();\n            }\n            // The credential the user tried to sign in with.\n            var cred = error.credential;\n            // Copy data from anonymous user to permanent user and delete anonymous\n            // user.\n            // ...\n            // Finish sign-in after data is copied.\n            return firebase.auth().signInWithCredential(cred);\n          }\n\n\n        }\n        // Other config options...\n\n      });\n\n      // setSignInUiLoaded(true)\n\n      // <div className=\"authEmailButton\"><Link to='/sign-in-with-email' onClick={() => handleReload()}>Sign in with Email</Link></div>\n      // <Link to='/sign-in-with-email-v2' onClick={() => handleReload()}>Sign In With Email</Link>\n    }\n  }, [])\n\n\n\n\n\n\n  const storage = firebase.storage()\n  const storageRef = storage.ref()\n\n  // get cart item number icon url:\n\n  const [urlString, setUrlString] = useState(\"\")\n  const [listShow, setListShow] = useState(\"hidden\")\n\n  useEffect(() => {\n\n\n    if (!firebase.auth().currentUser && (itemList.length == 0)) {\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-0.svg?alt=media&token=349f4672-ab05-4512-bf25-6a11cc359ff3\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 0) {\n      // storageRef.child(\"cart-no-0.svg\").getDownloadURL().then(function (url) {\n      // })\n\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-0.svg?alt=media&token=349f4672-ab05-4512-bf25-6a11cc359ff3\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 1) {\n      // storageRef.child(\"cart-no-1.svg\").getDownloadURL().then(function (url) {\n      // })\n      // let img = document.getElementById('headerCartIcon');\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-1.svg?alt=media&token=8e7705fa-f341-4faa-aa93-ee5aab9b93be\"\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 2) {\n      // storageRef.child(\"cart-no-2.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-2.svg?alt=media&token=125e4744-73ad-4c5a-ad3b-4dd722b45660\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 3) {\n      // storageRef.child(\"cart-no-3.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-3.svg?alt=media&token=bf0d8caa-794d-4a01-bb04-766e6ed4ce4b\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 4) {\n      // storageRef.child(\"cart-no-4.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-4.svg?alt=media&token=b501c8b9-58d7-4a65-acc8-7840ae4d70c2\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 5) {\n      // storageRef.child(\"cart-no-5.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-5.svg?alt=media&token=a58819db-3949-45f9-883e-ed58c49909eb\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 6) {\n      // storageRef.child(\"cart-no-6.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-6.svg?alt=media&token=07d2df3e-a1eb-41ce-bed0-48fd53f2702a\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 7) {\n      // storageRef.child(\"cart-no-7.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-7.svg?alt=media&token=2a0eaf81-d66c-4b6a-9c84-a7557b5bf8a7\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 8) {\n      // storageRef.child(\"cart-no-8.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-8.svg?alt=media&token=c3ffa2a2-9a93-4cee-abb4-bfcace36b9c9\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 9) {\n      // storageRef.child(\"cart-no-9.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-9.svg?alt=media&token=2233e015-be3b-40bb-8e95-f1e1d67b8d2d\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 10) {\n      // storageRef.child(\"cart-no-10.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-10.svg?alt=media&token=28683a46-fc3a-4203-ab37-b3cfe7b9f4fe\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 11) {\n      // storageRef.child(\"cart-no-11.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-11.svg?alt=media&token=0a058425-e317-4205-bdca-6850f882bddd\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 12) {\n      // storageRef.child(\"cart-no-12.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-12.svg?alt=media&token=693a69bb-661f-4f79-be65-20e790bd594d\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length == 13) {\n      // storageRef.child(\"cart-no-13.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-no-13.svg?alt=media&token=a1833ae8-9b07-46d8-a158-66979419cae0\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n\n    } else if (itemList.length > 13) {\n\n      // storageRef.child(\"cart-smiley-2.svg\").getDownloadURL().then(function (url) {\n      // })\n      let url = \"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/cart-smiley-2.svg?alt=media&token=c7a10c41-e1c3-4d3b-a1f5-53412023754e\"\n      // let img = document.getElementById('headerCartIcon');\n      // console.log(url)\n      // img.src = url;\n      setUrlString(url)\n    }\n\n  }, [itemList, userInfo])\n\n\n  // useEffect(function anonSignIn() {\n  //   firebase.auth().onAuthStateChanged(function (user) {\n  //     if (user && (user.isAnonymous == false) && (userInfo !== user)) {\n  //       setUserInfo(user)\n  //       setAnonUser(false)\n  //       console.log(userInfo)\n  //       // User is signed in. No need to sign in anonymously\n\n  //     } else if (!user) {\n  //       firebase.auth().signInAnonymously()\n  //         .then(() => {\n  //           console.log(\"Anonymous user: \" + userInfo)\n  //           setUserInfo(user)\n  //           setAnonUser(true)\n  //         }\n  //         ).catch(function (error) {\n  //           // Handle Errors here.\n  //           var errorCode = error.code;\n  //           var errorMessage = error.message;\n  //           // ...\n  //         });\n  //       // No user is signed in\n  //       console.log(\"No user signed in.\")\n  //     }\n  //   });\n  // }, [])\n\n  const [updatesBool, setUpdatesBool] = useState(true)\n\n  useEffect(() => {\n\n    let bool = updatesBool\n\n    if (userInfo.length > 1) {\n      firebase.functions().httpsCallable('allowNotifications')({ bool })\n    }\n\n  }, [updatesBool])\n\n  function PrivacyAndTermsAgreement() {\n\n\n    document.getElementById(\"firebaseui-auth-container\").style.display = \"initial\"\n\n\n    return (\n      <div style={{ \"z-index\": \"87\" }}>\n        <p>By signing up, you agree to our <Link to=\"/privacy-policy\">Privacy Policy</Link> and our <Link to=\"/terms-of-service\">Terms of Service</Link></p>\n      </div>\n    )\n\n  }\n\n  function dropDownChanges() {\n    document.getElementById(\"dropId\").onselect()\n  }\n\n  function handleRefresh() {\n    if (\n      (!firebase.auth().currentUser.email || !firebase.auth().currentUser)) {\n      window.location.reload()\n    }\n  }\n\n  const [mouseOverShop, setMouseOverShop] = useState(false)\n\n  useEffect(() => {\n    if (!mouseOverModal && !mouseOverShop) {\n      setModalOpenBool(false)\n    }\n    else {\n      // setTimeOutMS(0)\n      setModalOpenBool(true)\n    }\n  },\n    [mouseOverModal, mouseOverShop])\n\n\n  // useEffect(() => {\n  //   if (modalOpenBool) {\n  //     document.getElementById('categoryModal').style.display = \"initial\"\n  //   } else {\n  //     document.getElementById('categoryModal').style.display = \"none\"\n  //   }\n  // }, [modalOpenBool])\n\n\n\n  useEffect(() => {\n    if (modalOpen) {\n      document.getElementById('functionalModal').style.display = \"initial\"\n    } else {\n      document.getElementById('functionalModal').style.display = \"none\"\n    }\n  }, [modalOpen])\n\n\n  // const [timeOutMS, setTimeOutMS] = useState(10000)\n\n  /// List of product categories to render:\n\n  // useEffect(() => {\n  //   if (modalOpenBool) {\n  //     setTimeout(() => {\n  //       setModalOpenBool(false)\n  //     }, 4000)\n  //   }\n\n  // }, [modalOpenBool])\n\n  function handleOverModal(bool) {\n    if (bool === true) {\n      setMouseOverModal(true)\n    }\n    else if (bool === false) {\n      setTimeout(() => {\n      }, 1000)\n      setMouseOverModal(false)\n    }\n  }\n\n  function handleOverShop(bool) {\n    if (bool === true) {\n      setMouseOverShop(true)\n    } else if (bool === false) {\n      setTimeout(() => {\n        setMouseOverShop(false)\n      }, 1000)\n    }\n  }\n\n  const stripePromise = loadStripe(\"pk_test_vSUOdXUItkZoDH7AA0LQppyq00W7RQlEuV\")\n\n\n  useEffect(() => {\n    if (accountName) {\n      if (!accountName.includes(\"@\")) {\n        let newArr = accountName.split(\" \")\n        let firstName = newArr[0]\n        setAccountTitleString(`${firstName}'s Account`)\n      }\n\n    }\n    console.log(accountName)\n  }, [accountName])\n\n\n\n\n\n  const [navString, setNavString] = useState(\"\")\n  const [leaveCheckoutModal, setLeaveCheckoutModal] = useState(false)\n\n  const [toggleMenu, setToggleMenu] = useState(false)\n  const [toggleString, setToggleString] = useState(\"none\")\n  // false here means not opened.\n\n  function handleToggleMenu() {\n    if (!toggleMenu) {\n      setToggleMenu(true)\n      setToggleString(\"initial\")\n      // document.getElementById('accordionMenu').foundation('showAll');\n    } else {\n      setToggleMenu(false)\n      setToggleString(\"none\")\n      // document.getElementById('accordionMenu').foundation('hideAll');\n    }\n  }\n\n\n  useEffect(() => {\n    document.getElementById('checkoutModal').setAttribute(\"display\", \"none\")\n    document.getElementById('checkoutModal').style.display = \"none\"\n    // document.getElementById('accordionMenu').foundation('hideAll');\n  }, [])\n\n  useEffect(() => {\n    if (leaveCheckoutModal) {\n      document.getElementById('checkoutModal').setAttribute(\"display\", \"initial\")\n      document.getElementById('checkoutModal').style.display = \"initial\"\n    } else {\n      document.getElementById('checkoutModal').setAttribute(\"display\", \"none\")\n      document.getElementById('checkoutModal').style.display = \"none\"\n    }\n  }, [leaveCheckoutModal])\n\n  function turnOffModal() {\n    setModalOpen(false)\n  }\n\n\n\n  /////////////////////////////////////////////////////////////////\n  // <   AutoComplete Code Section >\n  /////////////////////////////////////////////////////////\n\n  function autocomplete(inp, arr) {\n    /*the autocomplete function takes two arguments,\n    the text field element and an array of possible autocompleted values:*/\n    var currentFocus;\n    /*execute a function when someone writes in the text field:*/\n    inp.addEventListener(\"input\", function (e) {\n      var a, b, i, val = this.value;\n      /*close any already open lists of autocompleted values*/\n      closeAllLists();\n      if (!val) { return false; }\n      currentFocus = -1;\n      /*create a DIV element that will contain the items (values):*/\n      a = document.createElement(\"DIV\");\n      a.setAttribute(\"id\", this.id + \"autocomplete-list\");\n      a.setAttribute(\"class\", \"autocomplete-items\");\n      /*append the DIV element as a child of the autocomplete container:*/\n      this.parentNode.appendChild(a);\n      /*for each item in the array...*/\n      for (i = 0; i < arr.length; i++) {\n        /*check if the item starts with the same letters as the text field value:*/\n        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\n          /*create a DIV element for each matching element:*/\n          b = document.createElement(\"DIV\");\n          /*make the matching letters bold:*/\n          b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\n          b.innerHTML += arr[i].substr(val.length);\n          /*insert a input field that will hold the current array item's value:*/\n          b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\n          /*execute a function when someone clicks on the item value (DIV element):*/\n          b.addEventListener(\"click\", function (e) {\n            /*insert the value for the autocomplete text field:*/\n            inp.value = this.getElementsByTagName(\"input\")[0].value;\n            /*close the list of autocompleted values,\n            (or any other open lists of autocompleted values:*/\n            closeAllLists();\n          });\n          a.appendChild(b);\n        }\n      }\n    });\n    /*execute a function presses a key on the keyboard:*/\n    inp.addEventListener(\"keydown\", function (e) {\n      var x = document.getElementById(this.id + \"autocomplete-list\");\n      if (x) x = x.getElementsByTagName(\"div\");\n      if (e.keyCode == 40) {\n        /*If the arrow DOWN key is pressed,\n        increase the currentFocus variable:*/\n        currentFocus++;\n        /*and and make the current item more visible:*/\n        addActive(x);\n      } else if (e.keyCode == 38) { //up\n        /*If the arrow UP key is pressed,\n        decrease the currentFocus variable:*/\n        currentFocus--;\n        /*and and make the current item more visible:*/\n        addActive(x);\n      } else if (e.keyCode == 13) {\n        /*If the ENTER key is pressed, prevent the form from being submitted,*/\n        e.preventDefault();\n        if (currentFocus > -1) {\n          /*and simulate a click on the \"active\" item:*/\n          if (x) x[currentFocus].click();\n        }\n      }\n    });\n    function addActive(x) {\n      /*a function to classify an item as \"active\":*/\n      if (!x) return false;\n      /*start by removing the \"active\" class on all items:*/\n      removeActive(x);\n      if (currentFocus >= x.length) currentFocus = 0;\n      if (currentFocus < 0) currentFocus = (x.length - 1);\n      /*add class \"autocomplete-active\":*/\n      x[currentFocus].classList.add(\"autocomplete-active\");\n    }\n    function removeActive(x) {\n      /*a function to remove the \"active\" class from all autocomplete items:*/\n      for (var i = 0; i < x.length; i++) {\n        x[i].classList.remove(\"autocomplete-active\");\n      }\n    }\n    function closeAllLists(elmnt) {\n      /*close all autocomplete lists in the document,\n      except the one passed as an argument:*/\n      var x = document.getElementsByClassName(\"autocomplete-items\");\n      for (var i = 0; i < x.length; i++) {\n        if (elmnt != x[i] && elmnt != inp) {\n          x[i].parentNode.removeChild(x[i]);\n        }\n      }\n    }\n    /*execute a function when someone clicks in the document:*/\n    document.addEventListener(\"click\", function (e) {\n      closeAllLists(e.target);\n    });\n  }\n\n\n  /////////////////////////////////////////////////////////////////\n  // </  AutoComplete Code Section >\n  /////////////////////////////////////////////////////////\n\n\n\n  const [tops, setTops] = useState([])\n  const [belts, setBelts] = useState([])\n  const [sets, setSets] = useState([])\n  const [skirts, setSkirts] = useState([])\n  const [productsArray, setProductsArray] = useState([])\n\n\n  useEffect(() => {\n\n    const topNames = topCategory.map(item => {\n      return item[0]\n    })\n    setTops(topNames)\n  }, [topCategory])\n\n  useEffect(() => {\n    const beltNames = beltCategory.map(item => {\n      return item[0]\n    })\n    setBelts(beltNames)\n  }, [beltCategory])\n\n  useEffect(() => {\n    const setNames = fullSetCategory.map(item => {\n      return item[0]\n    })\n    setSets(setNames)\n  }, [fullSetCategory])\n\n  useEffect(() => {\n\n    const productNames = allProducts.map(item => {\n      return item[0]\n    })\n    setProductsArray(productNames)\n  }, [productsLoaded])\n\n\n  useEffect(() => {\n    const skirtNames = skirtCategory.map(item => {\n      return item[0]\n    })\n    setSkirts(skirtNames)\n  }, [skirtCategory])\n\n  const [searchArray, setSearchArray] = useState([])\n  const [searchClass, setSearchClass] = useState(\"\")\n\n\n  useEffect(() => {\n\n    if (categorySearch == \"belt\") {\n      setSearchArray(belts)\n      setSearchClass('belts')\n      setSearchString(\"Belts\")\n    }\n    else if (categorySearch == \"skirt\") {\n      setSearchArray(skirts)\n      setSearchClass('skirts')\n      setSearchString(\"Skirts\")\n    }\n    else if (categorySearch == \"top\") {\n      setSearchArray(tops)\n      setSearchClass('tops')\n      setSearchString(\"Tops\")\n    }\n    else if (categorySearch == \"fullSet\") {\n      setSearchArray(sets)\n      setSearchClass('fullSets')\n      setSearchString(\"Sets\")\n    }\n    else if (categorySearch == \"all\") {\n      setSearchArray(productsArray)\n      setSearchClass('allProducts')\n      setSearchString(\"Shop\")\n    }\n\n  }, [categorySearch])\n\n\n\n\n  function handleSearchShop(prop) {\n    let input = document.getElementById(`${prop}`).value\n    console.log(input)\n    let filt1 = input.toUpperCase()\n    let filter = filt1.split(\" \").join(\"\")\n    let filtArr = filt1.split(\" \")\n    let filtSplit1 = filtArr[0]\n\n    let filtSplit2Arr = []\n    if (filtArr.length > 1) {\n      let filtSplit2 = filtArr[1]\n      filtSplit2Arr.push(filtSplit2)\n    }\n\n\n\n    let all = document.getElementsByClassName(`${searchClass}`)\n    console.log(all)\n    console.log(all.length)\n    console.log(all[0])\n    console.log(all[0].id)\n\n    let allArray = Array.prototype.slice.call(all, 0, all.length + 1)\n    console.log(allArray)\n    console.log(allArray.length)\n\n    let newArr = []\n\n    allArray.forEach(prod => {\n      console.log(prod)\n      console.log(newArr)\n      let prodID = prod.id\n      console.log(prodID)\n\n      if (prodID.includes(filter)\n        || prodID.includes(filt1)\n        || prodID.includes(filtSplit1)\n        || ((prodID.includes(filtSplit2Arr[0]) &&\n          (prodID.includes(filtSplit1))\n        ))\n      ) {\n        document.getElementById(prodID).style.display = \"initial\"\n        document.getElementById(prodID).setAttribute(\"display\", \"initial\")\n        newArr.push(prodID)\n        console.log(newArr)\n      } else {\n        document.getElementById(prodID).style.display = \"none\"\n        document.getElementById(prodID).setAttribute(\"display\", \"none\")\n        console.log(newArr)\n      }\n    })\n\n    // let i\n    // for (i = 0; i < fullSetsArray.length; i++) {\n    //     return (function handleIterate() {\n\n    // console.log(i)\n    // let fullSet = fullSetsArray[i]\n    // console.log(fullSet)\n    // })()\n    // }\n\n    let searchQuant = newArr.length\n    setAllNumber(searchQuant)\n    console.log(searchQuant)\n    console.log(newArr)\n\n    if (input.length > 0) {\n      setDisplayNumber(true)\n    } else {\n      setDisplayNumber(false)\n    }\n\n    if (newArr.length == 1) {\n      setItemString(\"item matches your search\")\n    } else {\n      setItemString(\"items match your search\")\n    }\n\n\n  }\n\n\n  const [mobileBrowsing, setMobileBrowsing] = useState(false)\n  const [hamburgerDisplayString, setHamburgerDisplayString] = useState(\"visible\")\n  const [listItemDisplay, setListItemDisplay] = useState(\"visible\")\n\n  const [verticalMenuString, setVerticalMenuString] = useState(\"hidden\")\n  const [positionSetting, setPositionSetting] = useState(\"fixed\")\n\n\n\n  function handleVerticalMenu() {\n    if (verticalMenuString == \"hidden\") {\n      setPositionSetting(\"sticky\")\n      setVerticalMenuString(\"visible\")\n    } else if (verticalMenuString == \"visible\") {\n      setVerticalMenuString(\"hidden\")\n      setPositionSetting(\"fixed\")\n    }\n  }\n\n\n\n  // useEffect(() => {\n  //   if (mobileBrowsing) {\n  //     setHamburgerDisplayString(\"visible\")\n  //     setListItemDisplay(\"hidden\")\n  //   } else {\n  //     setHamburgerDisplayString(\"hidden\")\n  //     setListItemDisplay(\"visible\")\n  //   }\n\n  // }, [mobileBrowsing])\n\n  // useEffect(() => {\n\n  //   window.mobileCheck = function () {\n  //     let check = false;\n  //     (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\n\n  //     if (check == true) {\n  //       setMobileBrowsing(true)\n\n  //     } else if (check == false) {\n  //       setMobileBrowsing(false)\n  //     }\n\n  //     return check;\n  //   };\n  // }, [])\n  // to decide if the viewport is mobile or not:\n\n  // window.onscroll = function () { scrollSet() };\n\n  // function scrollSet() {\n  //   var winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n  //   var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n  //   var scrolled = (winScroll / height) * 100;\n  //   document.getElementById(\"progressBar\").value = scrolled;\n  // }\n  const [toggleShopCategory, setToggleShopCategory] = useState(\"none\")\n\n  // let elem = new Foundation.Sticky(element, options)\n\n  function handleToggleShopCategory() {\n    if (toggleShopCategory == \"initial\") {\n      setToggleShopCategory(\"none\")\n    } else if (toggleShopCategory == \"none\") {\n      setToggleShopCategory(\"initial\")\n    }\n  }\n\n\n\n  useEffect(() => {\n    if (isLargeScreen) {\n      setSidebarOpen(false)\n    }\n  }, [isLargeScreen])\n\n  useEffect(() => {\n\n    if (document.getElementById('sidebar')) {\n\n\n      if (!sidebarOpen) {\n        setTimeout(() => {\n          document.getElementById('sidebar').style.display = \"none\"\n          document.getElementById('sidebar').setAttribute(\"display\", \"none\")\n        }, 1500)\n      } else {\n        document.getElementById('sidebar').style.display = \"initial\"\n        document.getElementById('sidebar').setAttribute(\"display\", \"initial\")\n      }\n    }\n\n  }, [sidebarOpen])\n\n  function handleSidebar() {\n    if (!isLargeScreen) {\n      setSidebarOpen(!sidebarOpen)\n    }\n\n  }\n\n\n  return (\n    <div className=\"App\" id=\"App\" style={{\n      // \"maxWidth\": `$100%`,\n      // \"maxWidth\": `${window.innerWidth}`,\n      \"maxWidth\": `${isLargeScreen ? \"99.55%\" : \"100%\"}`,\n      // \"overflow\": \"hidden\"\n    }}>\n      < progress id=\"progressBar\" max=\"100\" value=\"0\" width=\"100%\" style={{\n        // \"position\": \"fixed\",\n        \"z-index\": \"99\",\n        \"width\": \"100%\",\n        \"bottom\": \"5em\",\n        \"top\": \"0em\",\n        \"position\": \"sticky\",\n        \"overflow-x\": \"visible\",\n        \"transition\": \"value .5s\"\n      }}></progress >\n      <TopBar style={{\n        \"background-color\": \"black\",\n        \"color\": 'white',\n        \"max-height\": \"4em\",\n        \"position\": \"sticky\",\n        \"overflow-x\": \"visible\",\n        \"top\": \"0\",\n        \"z-index\": \"98\",\n        \"float\": \"top\"\n      }}>\n      </TopBar>\n      <header style={{\n        \"max-height\": \"8em\",\n        \"bottom\": \"7em\",\n        \"background-color\": \"black\",\n        // \"position\": \"sticky\",\n        // \"top\": \"5em\"\n      }}>\n        <div>\n          <div id=\"headerHeight\">\n            <Header />\n          </div>\n        </div>\n      </header>\n      <div\n        // data-toggle=\"example-menu\"\n        onMouseOut={() => setListShow(\"hidden\")}\n        data-sticky-container data-stick-to=\"top\" style={{\n          \"position\": \"sticky\",\n          \"overflow-x\": \"visible\",\n          \"top\": \"1em\",\n          \"z-index\": \"99\"\n        }} >\n\n        <div\n          // main sticky responsive bar\n          style={{ \"maxHeight\": \"3.5em\", \"zIndex\": \"96\" }}\n          id=\"example-menu\"\n          className=\"title-bar\"\n          data-responsive-toggle=\"example-menu\"\n          hideFor=\"medium\">\n\n          <div\n            style={{ \"whiteSpace\": \"nowrap\" }}\n            className=\"title-bar-title show-for-large\">\n            <Link to=\"/\">\n              <Flexbox flexDirection=\"row\">\n                <img\n                  width=\"100vw\"\n                  height=\"auto\"\n                  src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\n                <h1 style={{\n                  \"position\": \"relative\",\n                  // \"top\": \"2em\",\n                  \"marginTop\": \".3em\",\n                  \"marginRight\": \"-.7em\",\n                  \"marginLeft\": \"-.2em\",\n                  \"color\": \"white\",\n                  \"textDecoration\": \"none\"\n                }}>Jiva</h1>\n              </Flexbox>\n            </Link>\n          </div>\n\n          <button\n            onClick={() => { handleSidebar() }}\n            style={{\n              \"visibility\": `${hamburgerDisplayString}`,\n              \"z-index\": \"99\",\n              \"font-size\": \"larger\",\n              \"top\": \".75em\",\n              \"width\": \"8vw\",\n              \"height\": \"10vw\",\n              \"position\": \"absolute\"\n            }}\n            data-toggle=\"example-menu\"\n            // hideFor=\"medium\"\n            className=\"hide-for-large menu-icon\" type=\"button\" ></button>\n          <Link\n            style={{\n              \"whiteSpace\": \"nowrap\",\n              \"margin\": \"0em\",\n              \"zIndex\": \"99\"\n            }}\n            className=\"hide-for-large\"\n            to=\"/\">\n            <img\n              width=\"100vw\"\n              height=\"auto\"\n              src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/logo%20rose%20finished.svg?alt=media&token=d4f6fc6b-cec1-4832-adcb-440dae63563b\"></img>\n          </Link>\n\n          <div\n            className=\"hide-for-large\"\n            style={{\n              \"float\": \"left\",\n              \"display\": \"inline-block\",\n              // \"left\": \"50%\",\n              \"top\": \"5em\",\n              // \"margin-top\": \"15em\"\n            }}>\n            <Flexbox flexDirection=\"row\" style={{ \"maxWidth\": \"100%\" }}>\n              <form\n                // this is the search box for mobile\n                className=\"hide-for-large\"\n                autocomplete=\"off\"\n                style={{\n                  // \"top\": \"10em\",\n                  // \"bottom\": \"-10em\",\n                  \"float\": \"left\",\n                  \"visibility\": `${listItemDisplay}`,\n                  \"display\": \"inline-block\",\n                  \"margin-left\": \"34vw\",\n                  \"margin-top\": \"10em\",\n                  \"margin-bottom\": \"1.3em\"\n                }}\n              >\n                <div className=\"autocomplete\" style={{\n                  // \"top\": \"10em\",\n                  // \"right\": \"12em\",\n                  // \"bottom\": \"1em\",\n                  \"float\": \"left\"\n                }}>\n                  {(!searchString)\n                    ?\n                    <Link to=\"/shop\">\n                      <input\n                        style={{\n                          // \"top\": \"10em\",\n                          \"left\": \"20em\",\n                          \"width\": \"40vw\",\n                          \"fontSize\": \"small\"\n                        }}\n                        type=\"text\"\n                        id=\"menuSearch\"\n                        onKeyPress={() => { handleSearchShop(\"menuSearch\") }}\n                        onKeyUp={() => {\n                          handleSearchShop(\"menuSearch\");\n                          autocomplete(document.getElementById(`menuSearch`), searchArray)\n                        }}\n                        placeholder={`Search ${searchString ? searchString : \"Jiva\"}...`}\n                      ></input>\n                    </Link>\n                    :\n                    <input\n                      style={{\n                        // \"top\": \"10em\",\n                        \"left\": \"20em\",\n                        \"width\": \"40vw\",\n                        \"fontSize\": \"small\"\n                      }}\n                      type=\"text\"\n                      id=\"menuSearch\"\n                      onKeyPress={() => { handleSearchShop(\"menuSearch\") }}\n                      onKeyUp={() => {\n                        handleSearchShop(\"menuSearch\");\n                        autocomplete(document.getElementById(`menuSearch`), searchArray)\n                      }}\n                      placeholder={`Search ${searchString ? searchString : \"Jiva\"}...`}\n                    ></input>\n                  }\n\n                </div>\n              </form>\n              <div style={{\n                \"display\": \"inline-block\",\n                \"float\": \"right\",\n                \"top\": \"15em\",\n                // \"margin-bottom\": `${!isLargeScreen && \"10em\"}`,\n                \"margin-left\": \"5vw\",\n                \"margin-top\": \"6em\",\n                \"marginBottom\": \"-1.7em\"\n              }}>\n                <Link to=\"/cart\" className=\"cartIcon\">\n                  <img src={`${urlString}`}\n                    style={{ \"minWidth\": \"40px\" }}\n                    id='headerCartIcon4'\n                    width={`${isLargeScreen ? \"50em\" : \"40em\"}`} height=\"auto\"></img>\n                </Link>\n              </div>\n            </Flexbox>\n          </div>\n          <ul\n            className=\"dropdown menu\"\n            hideFor=\"medium\"\n            style={{\n\n              \"position\": \"static\",\n              \"max-height\": \"3.5em\"\n            }}\n            data-dropdown-menu>\n            <li className=\"menu-text\">\n              {/* Jiva Fashions */}\n            </li>\n            {/* <li\n              style={{ \"visibility\": `${listItemDisplay}` }}\n              className=\"show-for-large\">\n              <Link to=\"/blog\" className=\"li\" style={{\n                \"max-width\": \"4em\",\n                \"left\": \"25%\",\n              }}>Blog</Link></li> */}\n            <li style={{ \"right\": \"4em\" }}\n            >\n              <li\n                style={{\n                  // \"float\": \"right\",\n                  \"left\": \"20em\"\n                }}\n              >  <Link\n                style={{\n                  \"float\": \"left\",\n                  \"max-width\": \"7em\",\n                  // \"top\": \"2em\",\n                  \"left\": \"10%\",\n                  \"right\": \"3em\",\n                  \"top\": \".3em\",\n                  \"overflow-x\": \"hidden\",\n                  \"visibility\": `${listItemDisplay}`,\n                  \"font-size\": \"larger\",\n                  \"position\": \"relative\"\n                }}\n                to=\"/shop\"\n                className=\"show-for-large\"\n                id=\"shopId\"\n              // onMouseOver={() => setListShow(\"visible\")}\n              >Shop</Link>\n              </li>\n            </li>\n\n            {/* <li\n              // blank list item to take up room\n              style={{ \"minWidth\": \"32em\" }}\n              className=\"show-for-large\"\n            ></li> */}\n            <li\n              style={{\n                \"right\": \"4em\",\n                // \"float\": \"left\",\n                \"top\": \"20em\",\n                \"bottom\": \"-5em\",\n                \"margin-left\": \"40vw\",\n                \"margin-top\": \"4.5em\"\n\n              }}>\n              <form\n                className=\"show-for-large\"\n                autocomplete=\"off\"\n                style={{\n                  \"position\": \"relative\",\n                  \"bottom\": \".4em\",\n                  \"right\": \"1.8em\",\n                  // \"right\": \"4em\",\n                  // \"top\": \"5em\",\n                  // \"bottom\": \"-20em\",\n                  \"float\": \"left\",\n                  \"visibility\": `${listItemDisplay}`\n                }}\n              >\n                <div className=\"autocomplete\" style={{\n                  \"right\": \"12em\",\n                  \"bottom\": \"-10em\",\n                  \"float\": \"left\"\n                }}>\n                  {(!searchString)\n                    ?\n                    <Link to=\"/shop\">\n                      <input\n                        style={{\n                          \"right\": \"4em\",\n                          \"float\": \"left\"\n                        }}\n                        type=\"text\"\n                        id=\"menuSearch2\"\n                        onKeyPress={() => { handleSearchShop(\"menuSearch2\") }}\n                        onKeyUp={() => {\n                          handleSearchShop(\"menuSearch2\");\n                          autocomplete(document.getElementById(`menuSearch2`), searchArray)\n                        }}\n                        placeholder={`Search in ${searchString ? searchString : \"Shop\"}...`}\n                      ></input>\n                    </Link>\n                    :\n                    <input\n                      style={{\n                        \"right\": \"4em\",\n                        \"float\": \"left\"\n                      }}\n                      type=\"text\"\n                      id=\"menuSearch2\"\n                      onKeyPress={() => { handleSearchShop(\"menuSearch2\") }}\n                      onKeyUp={() => {\n                        handleSearchShop(\"menuSearch2\");\n                        autocomplete(document.getElementById(`menuSearch2`), searchArray)\n                      }}\n                      placeholder={`Search in ${searchString}...`}\n                    ></input>\n                  }\n\n                </div>\n              </form>\n            </li>\n\n            <li\n              className=\"show-for-large\"\n              style={{\n                \"visibility\": `${listItemDisplay}`,\n                \"position\": \"relative\",\n                \"top\": \".3em\",\n                \"right\": \"1.9em\"\n              }}\n            ><Link to=\"/account\" className=\"li row align-right\">{accountTitleString}</Link></li>\n            <li\n              style={{\n                // \"float\": \"right\",\n                \"left\": \"90%\",\n                \"white-space\": \"nowrap\"\n                // \"visibility\": `${listItemDisplay}`\n              }}\n            ><Link to=\"/cart\" className=\"cartIcon show-for-large\"\n              style={{\n                \"bottom\": \".2em\",\n                \"right\": \"2.1em\",\n                \"position\": \"relative\",\n                \"marginRight\": \"-.5em\",\n                \"paddingRight\": \"-.5em\",\n                \"display\": \"inline\",\n                \"white-space\": \"nowrap\"\n                // \"margin-bottom\": \"2em\"\n              }}\n            >\n                <img src={`${urlString}`} id='headerCartIcon3' width=\"45em\" height=\"45em\"></img>\n              </Link>\n            </li>\n\n          </ul>\n        </div>\n\n        <ul\n          id=\"accordionMenu\"\n          class={`menu accordion-menu show-for-large darkGraded`}\n          style={{\n            // \"background-color\": \"black\",\n            \"overflow\": \"hidden\",\n            \"transition\": \"height 1s\",\n            \"box-shadow\": \"0px 3px 1px 0px white\"\n          }}\n          data-accordion-menu>\n          <li>\n            <li\n              style={{\n                \"max-height\": \"2em\",\n                \"font-size\": \"large\",\n                \"z-index\": \"99\",\n                // \"width\": \"90vw\",\n                \"borderRadius\": \"25px\"\n                // \n\n\n              }}\n              onClick={() => { handleToggleMenu() }}\n            >{(toggleString == \"none\") ?\n              <img\n                className=\"darkGraded2\"\n                width=\"20em\" height=\"auto\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/down%20arrow%20white.svg?alt=media&token=fcb0d61e-854b-4a14-ab9c-5f7f5105d769\">\n              </img> : \"_\"}</li>\n          </li>\n          {/* ahhhhhhhhhh */}\n          <ul\n            onClick={() => { handleToggleMenu() }}\n            class=\"menu vertical nested\" style={{\n              \"display\": `${toggleString}`,\n              \"top\": \"-2.3em\",\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n              <Link className=\"smallText\" to=\"/\">\n                <button style={{\n                  \"padding\": '.5em',\n\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"1em\",\n                  \"marginTop\": \"0em\",\n\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Home</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\",\n              // \"position\": \"relative\",\n              // \"top\": \"1em\"\n            }}>\n              <Link className=\"smallText\" to=\"/privacy-policy\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"1em\",\n                  \"marginTop\": \"1em\",\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Privacy Policy</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n              <Link className=\"smallText\" to=\"/terms-of-service\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"2em\",\n                  \"marginTop\": \"2em\"\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Terms of Service</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\",\n            }}>\n              <Link className=\"smallText\" to=\"/contact\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"1em\",\n                  \"marginTop\": \"3em\"\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Contact Us</button>\n              </Link>\n            </li>\n          </ul>\n          <ul\n            onClick={() => { handleToggleMenu() }}\n            class=\"menu vertical nested\" style={{\n              \"display\": `${toggleString}`,\n              \"top\": \"-2.3em\",\n              \"left\": \"-17em\",\n              \"position\": \"relative\"\n            }}>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n              <Link className=\"smallText\" to=\"/shop/full-sets\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"2em\",\n                  \"marginTop\": \"0em\"\n\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Sets</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n              <Link className=\"smallText\" to=\"/shop/tops\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"1em\",\n                  \"marginTop\": \"1em\"\n\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Tops</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\"\n            }}>\n              <Link className=\"smallText\" to=\"/shop/skirts\">\n                <button style={{\n                  \"padding\": '.5em',\n                  \"margin\": \".5em\",\n                  \"marginLeft\": \"0em\",\n                  \"marginRight\": \"0em\",\n                  \"marginBottom\": \"1em\",\n                  \"marginTop\": \"2em\"\n\n                }}\n                  type=\"button\" className=\"button primary hollow small\">Skirts</button>\n              </Link>\n            </li>\n            <li style={{\n              \"left\": \"3em\",\n              \"float\": \"left\",\n            }}>\n              <Link className=\"smallText\" to=\"/shop/belts\">\n                <button\n                  style={{\n                    \"padding\": '.5em',\n                    \"margin\": \".5em\",\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"3em\"\n\n                  }}\n                  type=\"button\" className=\"button primary hollow small\">Belts</button>\n              </Link>\n            </li>\n            {/* <li style={{\n              \"float\": \"right\",\n              \"left\": \"10em\"\n            }} onClick={() => { handleToggleMenu() }}></li> */}\n\n          </ul>\n          {/* oh my godddddddd */}\n          {(accountTitleString == \"Your Account\")\n            ?\n            <ul\n              onClick={() => { handleToggleMenu() }}\n              class=\"menu vertical nested\" style={{\n                \"display\": `${toggleString}`,\n                \"top\": \"-2.3em\",\n                \"left\": \"15em\"\n              }}>\n              <li style={{\n                \"left\": \"3em\",\n                \"float\": \"left\"\n              }}>\n                <Link className=\"smallText\" to=\"/account\">\n                  <button style={{\n                    \"padding\": '.5em',\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"1em\"\n                  }}\n                    type=\"button\" className=\"button primary hollow small\">Sign In</button>\n                </Link>\n              </li>\n            </ul>\n            :\n            <ul\n              onClick={() => { handleToggleMenu() }}\n              class=\"menu vertical nested\" style={{\n                \"display\": `${toggleString}`,\n                \"top\": \"-2.3em\",\n                \"left\": \"12em\"\n              }}>\n              <li style={{\n                \"left\": \"3em\",\n                \"float\": \"left\"\n              }}>\n                <Link className=\"smallText\" to=\"/account\" onClick={() => {\n                  setWishlistDisplayed(true);\n                  setWishlistString(\"Hide Favorites\")\n\n                }}>\n                  <button style={{\n                    \"padding\": '.5em',\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"0em\"\n                  }}\n                    type=\"button\" className=\"button primary hollow small\">Favorites</button>\n                </Link>\n              </li>\n              <li style={{\n                \"left\": \"3em\",\n                \"float\": \"left\"\n              }}>\n                <Link className=\"smallText\" to=\"/cart\">\n                  <button style={{\n                    \"padding\": '.5em',\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"1em\"\n                  }}\n                    type=\"button\" className=\"button primary hollow small\">Cart</button>\n                </Link>\n              </li>\n              <li style={{\n                \"left\": \"3em\",\n                \"float\": \"left\"\n              }}>\n                <Link className=\"smallText\" to=\"/my-orders\">\n                  <button style={{\n                    \"padding\": '.5em',\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"2em\"\n                  }}\n                    type=\"button\" className=\"button primary hollow small\">Orders</button>\n                </Link>\n              </li>\n              <li style={{\n                \"left\": \"3em\",\n                \"float\": \"left\",\n              }}>\n                <Link className=\"smallText\" to=\"/account\" onClick={() => handleSignOut()}>\n                  <button style={{\n                    \"padding\": '.5em',\n                    \"marginLeft\": \"0em\",\n                    \"marginRight\": \"0em\",\n                    \"marginBottom\": \"1em\",\n                    \"marginTop\": \"3em\"\n                  }}\n                    type=\"button\" className=\"button primary hollow small\">Sign Out</button>\n                </Link>\n              </li>\n            </ul>\n          }\n          <li\n            style={{\n              \"max-height\": \"2em\",\n              \"font-size\": \"large\",\n              \"z-index\": \"99\",\n              \"float\": \"none\"\n            }}\n            onClick={() => { handleToggleMenu() }}>{(toggleString == \"none\") ? \"\" :\n              <img width=\"16em\" height=\"auto\"\n                width={`${isLargeScreen ? \"16em\" : \"12em\"}`}\n                style={{\n                  \"box-shadow\": \"0px 5px 14px 0px white\",\n                  \"borderRadius\": \"25px\",\n                  \"float\": `${isLargeScreen ? \"none\" : \"right\"}`\n                  //  \"left\": `${isLargeScreen && \"15vw\"}`\n                }}\n                className=\"darkGraded2\"\n                src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/up%20arrow%20white.svg?alt=media&token=8d26e945-e708-41c1-a6fc-8cadb2545964\">\n              </img>}</li>\n        </ul>\n      </div>\n      {/* <div style={{\n        \"display\": `${sidebarOpen ? \"initial\" : \"none\"}`,\n        \"position\": \"sticky\",\n        \"top\": \"1em\",\n        \"height\": \"100vh\"\n      }}> */}\n      <div\n        id=\"sidebar\"\n        className=\"sidebar\"\n        // onSetOpen={setSidebarOpen(true)}\n        style={{\n\n          \"background\": \"black\",\n          \"opacity\": \"0.89\",\n          \"position\": \"fixed\",\n          \"zIndex\": \"99\",\n          \"top\": \"0em\",\n          \"left\": \"0em\",\n          \"width\": \"65%\",\n          \"marginTop\": \"1em\",\n          \"height\": \"250vh\",\n          \"display\": `${sidebarOpen ? \"initial\" : \"none\"}`\n\n        }}>\n        <div class=\"table-scroll\">\n          <table>\n            <Flexbox\n              flexDirection=\"row\"\n              style={{\n                \"position\": \"fixed\",\n                \"top\": \"1.3em\"\n              }}>\n\n              <Flexbox flexDirection=\"column\"\n                onLoad={() => { setSidebarOpen(false) }}\n                style={{\n                  \"top\": \"0.4em\",\n                  \"position\": \"relative\",\n                  \"left\": \"2em\",\n                  \"textAlign\": \"left\"\n                }}>\n\n                <Link onClick={() => { homeIncrement() }}\n                  className=\"largeText smushed\" to=\"/\"\n                  onClick={() => {\n                    handleSidebar();\n                    // \n                  }}>\n                  <button\n                    type=\"button\" className=\"button success hollow small\">Home</button>\n                </Link>\n                {/* <Link className=\"largeTexts smushed\" to=\"/privacy-policy\">\n                  <button\n                    type=\"button\" className=\"button primary hollow small\">Privacy Policy</button>\n                </Link>\n                <Link className=\"largeText smushed\" to=\"/terms-of-service\">\n                  <button\n                    type=\"button\" className=\"button primary hollow small\">Terms of Service</button>\n                </Link> */}\n                <Link className=\"largeText smushed\" to=\"/contact\">\n                  <button\n                    type=\"button\" className=\"button primary hollow small\"\n                    onClick={() => { handleSidebar() }}>Contact Us</button>\n                </Link>\n                <br></br>\n                <Link className=\"largeText smushed\" to=\"/shop\"\n                  onClick={() => { handleSidebar() }}>\n                  <button\n                    type=\"button\" className=\"button success hollow small\">Shop All</button>\n                </Link>\n                <Link className=\"largeText smushed\" to=\"/shop/full-sets\"\n                  onClick={() => { handleSidebar() }}>\n                  <button\n                    type=\"button\" className=\"button primary hollow small\"\n                    onClick={() => { handleSidebar() }}>Sets</button>\n                </Link>\n                <Link className=\"largeText smushed\" to=\"/shop/tops\"\n                  onClick={() => { handleSidebar() }}>\n                  <button\n                    type=\"button\" className=\"button primary hollow small\">Tops</button>\n                </Link>\n                <Link className=\"largeText smushed\" to=\"/shop/skirts\"\n                  onClick={() => { handleSidebar() }}>\n                  <button\n                    type=\"button\" className=\"button primary hollow small\">Skirts</button>\n                </Link>\n                <Link className=\"largeText smushed\" to=\"/shop/belts\"\n                  onClick={() => { handleSidebar() }}>\n                  <button\n                    type=\"button\" className=\"button primary hollow small\"\n                    onClick={() => { handleSidebar() }}>Belts</button>\n                </Link>\n                <br></br>\n                {(accountTitleString == \"Your Account\")\n                  ?\n                  <Link className=\"largeText smushed\" to=\"/account\"\n                    onClick={() => { handleSidebar() }}>\n                    <button\n                      type=\"button\" className=\"button success hollow small\">Sign In</button>\n                  </Link>\n                  :\n                  <Flexbox flexDirection=\"column\">\n                    <Link className=\"largeText smushed\" to=\"/account\"\n                      onClick={() => { handleSidebar() }}>\n                      <button\n                        type=\"button\" className=\"button success hollow small\">{accountTitleString}</button>\n                    </Link>\n                    <Link className=\"largeText smushed\" to=\"/favorites\"\n                      onClick={() => { handleSidebar() }}>\n                      <button\n                        type=\"button\" className=\"button primary hollow small\"\n                      >Favorites</button>\n                    </Link>\n\n                    <Link className=\"largeText smushed\" to=\"/cart\"\n                      onClick={() => { handleSidebar() }}>\n                      <button\n                        type=\"button\" className=\"button primary hollow small\">Cart</button>\n                    </Link>\n                    <Link className=\"largeText smushed\" to=\"/my-orders\"\n                      onClick={() => { handleSidebar() }}>\n                      <button\n                        type=\"button\" className=\"button primary hollow small\">Orders</button>\n                    </Link>\n                    <Link className=\"largeText smushed\" to=\"/account\"\n                      onClick={() => {\n                        handleSignOut();\n                        handleSidebar()\n                      }}>\n                      <button\n                        type=\"button\" className=\"button primary hollow small\">Sign Out</button>\n                    </Link>\n                  </Flexbox>\n                }\n                {/* {(toggleString !== \"none\") &&\n                  <img width=\"16em\" height=\"auto\"\n                    width={`${isLargeScreen ? \"16em\" : \"12em\"}`}\n                    style={{\n                      \"box-shadow\": \"0px 5px 14px 0px white\",\n                      \"float\": `${isLargeScreen ? \"none\" : \"right\"}`\n                      //  \"left\": `${isLargeScreen && \"15vw\"}`\n                    }}\n                    src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/up%20arrow%20white.svg?alt=media&token=8d26e945-e708-41c1-a6fc-8cadb2545964\">\n                  </img>} */}\n              </Flexbox>\n              <button\n                style={{\n                  \"position\": \"relative\",\n                  \"top\": \"50%\",\n                  \"left\": \"10vw\"\n                }}\n                onClick={() => { handleSidebar() }}\n                type=\"button\">\n                <img\n                  width=\"32em\"\n                  height=\"auto\"\n                  src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/left%20arrow%20white.svg?alt=media&token=9f166f00-6ab3-4c6f-b889-64178ab8472a\" />\n              </button>\n            </Flexbox>\n          </table>\n        </div>\n      </div>\n\n      {/* <button\n          onClick={() => { handleSidebar() }}\n          type=\"button\">\n          <img src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/right%20arrow%20white.svg?alt=media&token=b7965e38-9e56-485d-8ead-107068ad92c4\"\n            width=\"16em\"\n            height=\"auto\"\n            style={{\n              \"display\": \"inline\",\n              \"white-space\": \"nowrap\",\n              \"left\": \"7em\",\n              \"down\": \"7em\"\n            }}\n\n          ></img>\n        </button> */}\n      {/* </div> */}\n      {/* <div className=\"verticalMenu hide-for-large\" style={{\n        \"visibility\": `${verticalMenuString}`,\n        \"position\": `${positionSetting}`,\n        // this next part i added to test the sidebar:\n        \"display\": \"none\",\n        \"margin-top\": \"-4em\",\n        \"font-size\": \"larger\",\n        \"width\": \"33vw\"\n        // \"float\": \"left\"\n      }}>\n\n      </div> */}\n      {/* <div className=\"verticalMenu vertical menu hide-for-large accordion-menu\"\n        data-accordion-menu\n        style={{\n          \"visibility\": `${verticalMenuString}`,\n          \"position\": \"sticky\",\n          \"margin-top\": \"-4em\",\n          \"left\": \"25vw\",\n          \"font-size\": \"larger\",\n          \"display\": `${toggleShopCategory}`,\n          \"top\": \"7em\",\n          \"bottom\": \"5em\",\n          \"background-color\": \"black\",\n          \"float\": \"left\",\n          \"z-index\": \"99\"\n        }}> */}\n      {/* <ul class=\"menu vertical nested\">\n          <li><Link to=\"/shop\"\n            onClick={() => {\n              handleToggleShopCategory();\n              handleVerticalMenu()\n            }}>All</Link></li>\n          <li><Link to=\"/shop/full-sets\"\n            onClick={() => {\n              handleToggleShopCategory();\n              handleVerticalMenu()\n            }}>Sets</Link></li>\n          <li><Link to=\"/shop/tops\"\n            onClick={() => {\n              handleToggleShopCategory();\n              handleVerticalMenu()\n            }}>Tops</Link></li>\n          <li><Link to=\"/shop/skirts\"\n            onClick={() => {\n              handleToggleShopCategory();\n              handleVerticalMenu()\n            }}>Skirts</Link></li>\n          <li><Link to=\"/shop/belts\"\n            onClick={() => {\n              handleToggleShopCategory();\n              handleVerticalMenu()\n            }}>Belts</Link></li>\n        </ul> */}\n      {/* </div> */}\n\n      <div className=\"functionalModal\" id=\"functionalModal\" style={{\n        \"top\": `${isLargeScreen ? \"40vw\" : \"80vw\"}`,\n        \"left\": `${isLargeScreen ? \"63vw\" : \"5vw\"}`,\n        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\n        \"display\": \"none\",\n        \"box-shadow\": \"0px 0px 5px white\"\n      }}>\n        <p style={{\n          \"left\": `${isLargeScreen ? \"initial\" : \"-5vw\"}`\n        }}>{modalText}</p>\n        <button\n          type=\"button\"\n          className=\"functionalModalButton button primary small\"\n          id=\"functionalModalButton\"\n          style={{ \"width\": \"5em\", \"marginRight\": \"1em\" }}\n          onClick={() => {\n            turnOffModal()\n          }}>OK</button>\n        <button\n          type=\"button\"\n          className=\"functionalModalButton button primary small\"\n          id=\"functionalModalButton\"\n          style={{ \"width\": \"5em\" }}\n          onClick={() => {\n            modalExecute();\n            turnOffModal()\n          }}>Undo</button>\n      </div>\n      <div className=\"itemOptionsModal\" id=\"itemOptionsModal\" style={{\n        \"top\": `${isLargeScreen ? \"16.5vw\" : \"75vw\"}`,\n        \"left\": `${isLargeScreen ? \"30vw\" : \"5vw\"}`,\n        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\n        \"display\": \"none\",\n        \"box-shadow\": \"0px 0px 5px white\"\n      }}>\n        <p style={{\n          \"left\": `${isLargeScreen ? \"initial\" : \"-5vw\"}`\n        }}>{optionsModalText}</p>\n        <button\n          type=\"button\"\n          className=\"itemOptionsModalButton button primary small\"\n          id=\"itemOptionsModalButton\"\n          onClick={() => closeOptionsModal()}>OK</button>\n      </div>\n      <div className=\"itemOptionsModal\" id=\"expressModal\" style={{\n        \"top\": `${isLargeScreen ? \"16.5vw\" : \"50vw\"}`,\n        \"left\": `${isLargeScreen ? \"30vw\" : \"5vw\"}`,\n        \"fontSize\": `${isLargeScreen ? \"initial\" : \"small\"}`,\n        \"display\": \"none\",\n        \"box-shadow\": \"0px 0px 5px white\"\n      }}>\n        <p style={{\n          \"left\": `${isLargeScreen ? \"initial\" : \"-5vw\"}`\n        }}>Sign in to use Express Checkout</p>\n        <Link to=\"/account\">\n          <button\n            type=\"button\"\n            className=\"itemOptionsModalButton button primary small\"\n            id=\"expressModalYes\"\n            onClick={() => closeExpressModal()}>Sign In</button>\n        </Link>\n        <button\n          type=\"button\"\n          className=\"itemOptionsModalButton button primary small\"\n          id=\"expressModalNo\"\n          onClick={() => closeExpressModal()}>No Thanks</button>\n      </div>\n      <div className=\"itemOptionsModal\" id=\"checkoutModal\" style={{\n        \"display\": \"none\",\n        \"box-shadow\": \"0px 0px 5px white\"\n      }}>\n        <h3>Leave checkout and return to {navString}?</h3>\n        <Link to={`/${navString}`}>\n          <button\n            type=\"button\"\n            className=\"itemOptionsModalButton button primary small\"\n            id=\"checkoutModalButtonYes\"\n            onClick={() => {\n              setLeaveCheckoutModal(false);\n            }}>Yes</button>\n        </Link>\n\n        <button\n          type=\"button\"\n          className=\"itemOptionsModalButton button primary small\"\n          id=\"checkoutModalButtonNo\"\n          onClick={() => {\n            setLeaveCheckoutModal(false);\n          }}>No</button>\n      </div>\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/blog\">\n          <Blog />\n        </Route>\n        <Route path=\"/checkout\">\n          <ShippingComponent />\n        </Route>\n        <Route path=\"/express-checkout\">\n          <Elements stripe={stripePromise}>\n            <ExpressCheckout />\n          </Elements>\n        </Route>\n        <Route exact path=\"/shop\">\n          <Shop />\n        </Route>\n        <Route path=\"/shop/full-sets\">\n          <FullSets />\n        </Route>\n        <Route path=\"/shop/tops\">\n          <Tops />\n        </Route>\n        <Route path=\"/shop/skirts\">\n          <Skirts />\n        </Route>\n        <Route path=\"/shop/belts\">\n          <Belts />\n        </Route>\n        {allProducts.map(product => {\n          let productPageLinkString = product[0].split(\" \").join(\"-\")\n          return (\n            <Route path={`/product/${productPageLinkString}`}>\n              <ProductPage item={product} />\n            </Route>\n          )\n        })}\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n        <Route path=\"cart-sign-in\">\n          <CartSignIn />\n        </Route>\n        <Route path=\"/account\">\n          <Account />\n        </Route>\n        <Route path=\"/contact\">\n          <Contact />\n        </Route>\n        <Route path=\"/sign-in-successful\">\n          <SignInSuccessful />\n        </Route>\n        <Route path=\"/privacy-policy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/terms-of-service\">\n          <TermsOfService />\n        </Route>\n        <Route path=\"/sign-in-success-email\">\n          <SignInSuccessEmail />\n        </Route>\n        <Route path='/sign-in-with-email'>\n          <SignInWithEmail />\n        </Route>\n        <Route path=\"/order-success\">\n          <OrderSuccess />\n        </Route>\n        <Route path=\"/my-orders\">\n          <MyOrders />\n        </Route>\n        <Route path=\"/favorites\">\n          <Favorites />\n        </Route>\n        <Route path=\"/return-policy\">\n          <ReturnPolicy />\n        </Route>\n      </Switch>\n\n\n      <div id=\"firebaseui-auth-container\" style={{\n        \"zIndex\": \"86\",\n        \"marginTop\": \"-.5em\",\n        \"position\": \"relative\",\n        \"bottom\": \"1.2em\"\n      }}></div>\n      <div>\n\n        {termsDisplay &&\n          <div>\n            <PrivacyAndTermsAgreement />\n            {(wishlistTempCache.length > 0) &&\n              <h4\n                style={{\n                  \"position\": \"relative\",\n                  \"background-color\": \"#565759\",\n                  \"padding\": \".25em\",\n                  \"border-radius\": \"13px\",\n                  \"width\": `${isLargeScreen ? \"30%\" : \"90%\"}`,\n                  \"left\": `${isLargeScreen ? \"35vw\" : \"5vw\"}`,\n                }}\n                classsName=\"grayblock centered\">Sign in to see your Favorites</h4>}\n            <RecentlyViewed />\n          </div>}\n      </div>\n      <br></br>\n      <nav className=\"footer\">\n\n        <h2 style={{\n          \"position\": \"relative\",\n          \"top\": \".5em\",\n          \"left\": \".25em\"\n        }} className=\"footItem\"><Link to=\"/privacy-policy\" className=\"li\">Privacy Policy</Link></h2>\n        <h2 className=\"footItem\"><Link to=\"/terms-of-service\" className=\"li\">Terms of Service</Link></h2>\n        <h2 className=\"footItem\"><Link to=\"/contact\" className=\"li\">Contact Us</Link></h2>\n        <a href=\"https://www.facebook.com/jivaoriginals\">\n          <img\n            src=\"https://firebasestorage.googleapis.com/v0/b/jiva-website-405ed.appspot.com/o/fb2.svg?alt=media&token=0cc8b80d-8da9-43d4-9767-0248c8669473\"\n            width=\"30em\"\n            height=\"auto\"></img>\n        </a>\n      </nav>\n    </div >\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch,\n  useParams\n} from \"react-router-dom\";\nimport './index.css';\n// import 'foundation-sites/dist/css/foundation.min.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as firebase from \"firebase\"\nimport { ContextProvider } from \"./Context\"\n\n\nconst config = {\n  apiKey: \"AIzaSyBpUcfYrQBi2hjFqG4yD5sXJxFfYP-BPt0\",\n  authDomain: \"jiva-website-405ed.firebaseapp.com\",\n  databaseURL: \"https://jiva-website-405ed.firebaseio.com\",\n  projectId: \"jiva-website-405ed\",\n  storageBucket: \"jiva-website-405ed.appspot.com\",\n  messagingSenderId: \"618010454010\",\n  appId: \"1:618010454010:web:5b7cdeb479f76f177ca643\",\n  measurementId: \"G-0DHGCGG5VX\"\n}\n\nfirebase.initializeApp(config)\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <Router>\n        <App />\n      </Router>\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useContext, useEffect } from \"react\"\r\n// import StripeCheckout from \"react-stripe-checkout\"\r\n\r\nimport { Elements } from \"@stripe/react-stripe-js\"\r\nimport { loadStripe } from \"@stripe/stripe-js\"\r\nimport { Context } from \"./Context\"\r\nimport CheckoutForm from \"./CheckoutForm\"\r\nimport firebase from \"firebase\"\r\nimport Flexbox from \"flexbox-react\"\r\n\r\n\r\n\r\n\r\nfunction Checkout() {\r\n\r\n\r\n    const {\r\n        stripePromise,\r\n        displayPayPal,\r\n        payPalHeightArr,\r\n        payPalCost,\r\n        setPayPalSuccess,\r\n        setItemList,\r\n        itemList,\r\n        setAnonList,\r\n        setFinalItemList,\r\n        setSpinnerDisplayed,\r\n        updateDatabaseOrders,\r\n        modifyTotalPrice,\r\n        modifyCartCount,\r\n        stripeDisplayed,\r\n        setStripeDisplayed,\r\n        displayStripe,\r\n        isLargeScreen,\r\n        storeCreditExceedsCost,\r\n        setStoreCreditExceedsCost,\r\n        totalCost,\r\n        storeCredit,\r\n        changeAmount,\r\n        setChangeAmount,\r\n        handleAllCredit,\r\n        modStoreCredit,\r\n    } = useContext(Context)\r\n\r\n\r\n\r\n    function closeStoreCreditModal() {\r\n        setChangeAmount(false)\r\n        document.getElementById('storeCreditModal').style.display = \"none\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"centered graded\">\r\n            <div className=\"centered\" style={{\r\n                \"width\": \"50vw\",\r\n                \"right\": \"5em\"\r\n            }}>\r\n                <br></br>\r\n                <br></br>\r\n                <Elements className=\"centered\" style={{ \"width\": \"99%\" }} stripe={stripePromise}>\r\n                    <div\r\n                        className=\"addressModal\"\r\n                        style={{\r\n                            \"width\": `${isLargeScreen ? \"45%\" : \"99%\"}`,\r\n                            \"top\": `${isLargeScreen ? \"5%\" : \"30%\"}`,\r\n                            \"height\": \"35em\",\r\n                            \"right\": \"110%\",\r\n                            \"zIndex\": \"99\",\r\n                            \"left\": `${isLargeScreen ? \"30vw\" : \"2vw\"}`\r\n                            // \"paddingRight\": \"-6vw\"\r\n                            // \"margin-bottom\": \"5em\",\r\n                            // \"bottom\": \"5em\"\r\n                        }}\r\n                    >\r\n                        <Flexbox\r\n                            style={{\r\n                                \"margin-left\": \"11vw\",\r\n                                \"position\": \"relative\"\r\n                            }}\r\n                            flexDirection=\"column\">\r\n                            <button\r\n                                style={{\r\n                                    \"fontSize\": \"small\",\r\n                                    \"right\": `${isLargeScreen ? \"2vw\" : \"50vw\"}`\r\n                                }}\r\n                                onClick={() => { setStripeDisplayed(false) }}\r\n                                type=\"button\"\r\n                                className=\"close-button\">X</button>\r\n                            <CheckoutForm className=\"centered\" style={{\r\n                                \"width\": \"100%\",\r\n                                \"left\": \"10vw\",\r\n                                \"position\": 'relative'\r\n                            }} />\r\n                        </Flexbox>\r\n                    </div>\r\n                </Elements>\r\n                <div className={`storeCreditModal ${!isLargeScreen && \"centered\"}`} id=\"storeCreditModal\" style={{\r\n                    \"display\": \"none\",\r\n                    \"box-shadow\": \"0px 0px 5px white\",\r\n                    \"maxWidth\": `${window.innerWidth}`,\r\n                    \"zIndex\": \"99\",\r\n                    \"top\": `${isLargeScreen ? \"16.5vw\" : \"50vw\"}`,\r\n                    \"left\": `${isLargeScreen ? \"30vw\" : \"5vw\"}`,\r\n                }}>\r\n                    {(!storeCreditExceedsCost) &&\r\n                        <p>Would you like to use your store credit of ${(Number(storeCredit) / 100).toFixed(2)}?</p>}\r\n                    {(storeCreditExceedsCost) &&\r\n                        <p>Would you like to use ${(Number(totalCost) / 100).toFixed(2)} of your store credit?</p>}\r\n                    {(changeAmount) &&\r\n                        <div>\r\n                            <input\r\n                                id=\"modStoreCreditInput\"\r\n                                type=\"number\" min=\"0\" max={`${(Number(storeCredit) / 100)}`}></input>\r\n                        </div>}\r\n                    {(!changeAmount) && <button\r\n                        type=\"button\"\r\n                        style={{ \"width\": \"3em\", \"margin\": \"1em\" }}\r\n                        className=\"storeCreditModalButton button primary\"\r\n                        id=\"storeCreditModalButton\"\r\n                        onClick={() => {\r\n                            handleAllCredit();\r\n                            closeStoreCreditModal()\r\n                        }}>Yes</button>}\r\n                    {(changeAmount) &&\r\n                        <div style={{ \"width\": \"6em\" }}>\r\n                            <button type=\"button\" onClick={() => {\r\n                                modStoreCredit();\r\n                                closeStoreCreditModal();\r\n                            }}>Accept Amount</button>\r\n                        </div>}\r\n                    {(!changeAmount) && <button\r\n                        type=\"button\"\r\n                        style={{ \"width\": \"6em\", \"margin\": \"1em\" }}\r\n                        className=\"storeCreditModalButton button primary\"\r\n                        id=\"storeCreditModalButton\"\r\n                        onClick={() => { setChangeAmount(true) }}>Change Amount</button>}\r\n                    <button\r\n                        type=\"button\"\r\n                        style={{ \"width\": \"3em\", \"margin\": \"1em\" }}\r\n                        className=\"storeCreditModalButton button primary\"\r\n                        id=\"storeCreditModalButton\"\r\n                        onClick={() => { closeStoreCreditModal() }}>No</button>\r\n                </div>\r\n                <br></br>\r\n                <br></br>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout","import React, { useState, useEffect } from \"react\"\r\nimport Images from \"./images\"\r\nimport firebase from \"firebase\"\r\nimport { jQuery } from \"jquery\"\r\nimport { loadStripe } from \"@stripe/stripe-js\"\r\nimport windowSize from \"react-window-size\"\r\n\r\n\r\n\r\nconst Context = React.createContext(\r\n    { cartCount: 0, contextTotalPrice: 0 }\r\n)\r\n\r\nfunction ContextProvider({ children }) {\r\n\r\n\r\n\r\n    ////////////// Payment API:\r\n    // const [applePayDevice, setApplePayDevice] = useState(false)\r\n\r\n    // useEffect(() => {\r\n    //     if (window.ApplePaySession) {\r\n    //         setApplePayDevice(true)\r\n\r\n    //         // The Apple Pay JS API is available.\r\n    //     }\r\n    // }, [])\r\n\r\n\r\n\r\n\r\n    // Navbar, change active CSS classes:\r\n\r\n    function handleLocation(locus) {\r\n        if (locus == \"Home\") {\r\n            document.getElementById(\"home\").className += \" activeLocus\";\r\n            document.getElementById(\"shop\").className -= \" activeLocus\";\r\n            document.getElementById(\"cart\").className -= \" activeLocus\";\r\n            document.getElementById(\"about\").className -= \" activeLocus\";\r\n            document.getElementById(\"account\").className -= \" activeLocus\";\r\n            document.getElementById(\"contact\").className -= \" activeLocus\";\r\n\r\n        } else if (locus == \"Shop\") {\r\n            document.getElementById(\"home\").className -= \" activeLocus\";\r\n            document.getElementById(\"shop\").className += \" activeLocus\";\r\n            document.getElementById(\"cart\").className -= \" activeLocus\";\r\n            document.getElementById(\"about\").className -= \" activeLocus\";\r\n            document.getElementById(\"account\").className -= \" activeLocus\";\r\n            document.getElementById(\"contact\").className -= \" activeLocus\";\r\n        } else if (locus == \"Cart\") {\r\n            document.getElementById(\"home\").className -= \" activeLocus\";\r\n            document.getElementById(\"shop\").className -= \" activeLocus\";\r\n            document.getElementById(\"cart\").className += \" activeLocus\";\r\n            document.getElementById(\"about\").className -= \" activeLocus\";\r\n            document.getElementById(\"account\").className -= \" activeLocus\";\r\n            document.getElementById(\"contact\").className -= \" activeLocus\";\r\n        } else if (locus == \"About\") {\r\n            document.getElementById(\"home\").className -= \" activeLocus\";\r\n            document.getElementById(\"shop\").className -= \" activeLocus\";\r\n            document.getElementById(\"cart\").className -= \" activeLocus\";\r\n            document.getElementById(\"about\").className += \" activeLocus\";\r\n            document.getElementById(\"account\").className -= \" activeLocus\";\r\n            document.getElementById(\"contact\").className -= \" activeLocus\";\r\n        } else if (locus == \"Account\") {\r\n            document.getElementById(\"home\").className -= \" activeLocus\";\r\n            document.getElementById(\"shop\").className -= \" activeLocus\";\r\n            document.getElementById(\"cart\").className -= \" activeLocus\";\r\n            document.getElementById(\"about\").className -= \" activeLocus\";\r\n            document.getElementById(\"account\").className += \" activeLocus\";\r\n            document.getElementById(\"contact\").className -= \" activeLocus\";\r\n        } else if (locus == \"Contact\") {\r\n            document.getElementById(\"home\").className -= \" activeLocus\";\r\n            document.getElementById(\"shop\").className -= \" activeLocus\";\r\n            document.getElementById(\"cart\").className -= \" activeLocus\";\r\n            document.getElementById(\"about\").className -= \" activeLocus\";\r\n            document.getElementById(\"account\").className -= \" activeLocus\";\r\n            document.getElementById(\"contact\").className += \" activeLocus\";\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    // router state, for use with ui (deprecated):\r\n    const [routerString, setRouterString] = useState(\"\")\r\n\r\n    // for productPage component:\r\n    const [productPageComponent, setProductPageComponent] = useState([])\r\n    const [productsLoaded, setProductsLoaded] = useState(false)\r\n\r\n\r\n    // image url storage\r\n    const storage = firebase.storage()\r\n    const storageRef = storage.ref()\r\n\r\n\r\n\r\n\r\n    ///// User Context:\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        genericKey: \"value\"\r\n    })\r\n    const [signInDisplayed, setSignInDisplayed] = useState(false)\r\n    const [addressSaved, setAddressSaved] = useState(false)\r\n    const [prevAddressBilling, setPrevAddressBilling] = useState([])\r\n    const [prevAddressShipping, setPrevAddressShipping] = useState([])\r\n\r\n    const [addressShipResultData, setAddressShipResultData] = useState([])\r\n    const [addressBillResultData, setAddressBillResultData] = useState([])\r\n\r\n\r\n\r\n    const [tempShipAddress, setTempShipAddress] = useState([])\r\n    const [tempBillAddress, setTempBillAddress] = useState([])\r\n\r\n\r\n\r\n    const [itemsMerged, setItemsMerged] = useState(false)\r\n\r\n    // Wishlist variables:\r\n    const [wishlistItems, setWishlistItems] = useState([])\r\n    const [normalWishlistCount, setNormalWishlistCount] = useState([])\r\n    // const [wishlistCount, setWishlistCount] = useState([])\r\n    const [contextWishlistCount, setContextWishlistCount] = useState(0)\r\n\r\n\r\n    const [allowNotify, setAllowNotify] = useState(true)\r\n    const [notifyUpdated, setNotifyUpdated] = useState(false)\r\n\r\n    const [categorySearch, setCategorySearch] = useState(\"\")\r\n\r\n    const [addressHandled, setAddressHandled] = useState(true)\r\n\r\n    const [searchString, setSearchString] = useState(\"\")\r\n\r\n\r\n    function getUserAddress() {\r\n        setAddressHandled(false)\r\n        let address = firebase.functions().httpsCallable('getUserAddress')()\r\n            .then(result => {\r\n                const newShippingArr = []\r\n                const newBillingArr = []\r\n\r\n                console.log(result.data)\r\n\r\n                let addressValues = result.data._fieldsProto.address_shipping.arrayValue.values\r\n\r\n                if (addressValues.includes(undefined)) {\r\n                    setTimeout(() => {\r\n                        let address = firebase.functions().httpsCallable('getUserAddress')()\r\n                            .then(result => {\r\n                                result.data._fieldsProto.address_shipping.arrayValue.values.forEach(obj => {\r\n                                    if (obj.stringValue) {\r\n                                        newShippingArr.push(obj.stringValue)\r\n                                        console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.stringValue}`)\r\n                                        console.log(newShippingArr)\r\n                                    } else if (obj.booleanValue) {\r\n                                        newShippingArr.push(obj.booleanValue)\r\n                                        console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.booleanValue}`)\r\n                                        console.log(newShippingArr)\r\n                                    }\r\n                                })\r\n                                result.data._fieldsProto.address_billing.arrayValue.values.forEach(obj => {\r\n                                    if (obj.stringValue) {\r\n                                        newBillingArr.push(obj.stringValue)\r\n                                        console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.stringValue}`)\r\n                                        console.log(newBillingArr)\r\n                                    } else if (obj.booleanValue) {\r\n                                        newBillingArr.push(obj.booleanValue)\r\n                                        console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.booleanValue}`)\r\n                                        console.log(newBillingArr)\r\n                                    }\r\n                                })\r\n                            })\r\n                        return address\r\n                    }, 10000)\r\n                } else {\r\n\r\n                    result.data._fieldsProto.address_shipping.arrayValue.values.forEach(obj => {\r\n                        if (obj.stringValue) {\r\n                            newShippingArr.push(obj.stringValue)\r\n                            console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.stringValue}`)\r\n                            console.log(newShippingArr)\r\n                        } else if (obj.booleanValue) {\r\n                            newShippingArr.push(obj.booleanValue)\r\n                            console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.booleanValue}`)\r\n                            console.log(newShippingArr)\r\n                        }\r\n                    })\r\n                    result.data._fieldsProto.address_billing.arrayValue.values.forEach(obj => {\r\n                        if (obj.stringValue) {\r\n                            newBillingArr.push(obj.stringValue)\r\n                            console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.stringValue}`)\r\n                            console.log(newBillingArr)\r\n                        } else if (obj.booleanValue) {\r\n                            newBillingArr.push(obj.booleanValue)\r\n                            console.log(`obj: ${obj} obj.data: ${obj.data} stringValue: ${obj.booleanValue}`)\r\n                            console.log(newBillingArr)\r\n                        }\r\n                    })\r\n                }\r\n\r\n\r\n                let allowNotifications = result.data._fieldsProto.allowNotify\r\n                console.log(allowNotifications)\r\n                console.log(allowNotifications.booleanValue)\r\n\r\n                let notifyBool = allowNotifications.booleanValue\r\n\r\n                setAllowNotify(notifyBool)\r\n\r\n                // let addressValues = result.data._fieldsProto.address_shipping.arrayValue.values\r\n\r\n                setPrevAddressShipping(newShippingArr)\r\n                setPrevAddressBilling(newBillingArr)\r\n                console.log(newShippingArr)\r\n                console.log(newBillingArr)\r\n                setAddressHandled(true)\r\n                return result.data\r\n            })\r\n        return address\r\n    }\r\n\r\n\r\n    ////////////////////////////////////////////////\r\n\r\n    useEffect(() => {\r\n        console.log(prevAddressBilling)\r\n\r\n\r\n        if (prevAddressBilling !== undefined) {\r\n            setUserInfo({ ...userInfo, prevAddressBilling })\r\n        }\r\n        if (prevAddressBilling[1] && prevAddressShipping[1]) {\r\n            setAddressSaved(true)\r\n        }\r\n\r\n    }, [prevAddressBilling])\r\n\r\n    useEffect(() => {\r\n        console.log(prevAddressShipping)\r\n\r\n        if (prevAddressShipping !== undefined) {\r\n            setUserInfo({ ...userInfo, prevAddressShipping })\r\n        }\r\n        if (prevAddressBilling[1] && prevAddressShipping[1]) {\r\n            setAddressSaved(true)\r\n        }\r\n\r\n    }, [prevAddressShipping])\r\n\r\n    useEffect(() => {\r\n        console.log(userInfo)\r\n    }, [userInfo])\r\n\r\n    //// Account:\r\n    const [providerId, setProviderId] = useState(\"\")\r\n    const [uid, setUid] = useState(\"\")\r\n    const [displayName, setDisplayName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [photoURL, setPhotoURL] = useState(\"\")\r\n    const [anonUser, setAnonUser] = useState(true)\r\n    const [userSignedInCount, setUserSignedInCount] = useState(0)\r\n\r\n    const [signInUiLoaded, setSignInUiLoaded] = useState(false)\r\n    const [termsDisplay, setTermsDisplay] = useState(false)\r\n\r\n\r\n    const [receiptEmail, setReceiptEmail] = useState(\"\")\r\n\r\n    const [accountName, setAccountName] = useState('')\r\n    const [twitterUser, setTwitterUser] = useState(false)\r\n\r\n\r\n    const [staySignedIn, setStaySignedIn] = useState(true)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n\r\n        ///\r\n        firebase.auth().onAuthStateChanged(function (user) {\r\n            setAnonUser(true)\r\n            if (user && !user.isAnonymous) {\r\n                // User is signed in.\r\n                console.log(user)\r\n                user.providerData.forEach(function (profile) {\r\n                    setProviderId(profile.providerId);\r\n                    setUid(profile.uid);\r\n                    setDisplayName(profile.displayName);\r\n                    setUserEmail(profile.email);\r\n                    setPhotoURL(profile.photoURL);\r\n\r\n                    if (profile.displayName !== null) {\r\n                        setAccountName(profile.displayName)\r\n                    }\r\n\r\n                    if (profile.providerId == \"twitter.com\") {\r\n                        setTwitterUser(true)\r\n                    }\r\n                    // setReceiptEmail(profile.receipt_email)\r\n                    // receipt email is technically not a part of firebase profile, but in docs\r\n                })\r\n                console.log(\"user.isAnonymous: \" + user.isAnonymous)\r\n\r\n                setAnonUser(false)\r\n                setUserInfo({\r\n                    providerId,\r\n                    uid,\r\n                    displayName,\r\n                    userEmail,\r\n                    photoURL,\r\n                    anonUser,\r\n                    // receiptEmail\r\n                })\r\n                getUserAddress()\r\n\r\n\r\n            } else if (user.isAnonymous) {\r\n                console.log(\"user.isAnonymous: \" + user.isAnonymous)\r\n                console.log(user)\r\n                setAnonUser(true)\r\n                setItemList([])\r\n                setUserInfo(user)\r\n                setTotalCost(0)\r\n                setItemCount(0)\r\n                setItemsMerged(false)\r\n                setAccountName(\"\")\r\n            }\r\n            else if (!user) {\r\n                firebase.auth().signInAnonymously()\r\n                    .then((anon) => {\r\n                        console.log(user + \" \" + anon)\r\n                        console.log(anon.data)\r\n                        setAnonUser(true)// so that the prompt will definitely load\r\n                        setItemList([])\r\n                        setUserInfo(anon)\r\n                        setTotalCost(0)\r\n                        setItemCount(0)\r\n                        setItemsMerged(false)\r\n                        setAccountName(\"\")\r\n\r\n                    })\r\n                // No user is signed in\r\n                console.log(\"No user was signed in. Now anon guest session.\")\r\n            } else {\r\n                firebase.auth().signInAnonymously()\r\n                    .then((anon) => {\r\n                        console.log(user + \" \" + anon)\r\n                        console.log(anon.data)\r\n                        setAnonUser(true)// so that the prompt will definitely load\r\n                        setItemList([])\r\n                        setUserInfo(anon)\r\n                        setTotalCost(0)\r\n                        setItemCount(0)\r\n                        setItemsMerged(false)\r\n                        setAccountName(\"\")\r\n\r\n                    })\r\n                // No user is signed in\r\n                console.log(\"user could not be accessed. Anon guest session started.\")\r\n            }\r\n            console.log(`user: ${user}, ${JSON.stringify(user)}`)\r\n        });\r\n        console.log(`userInfo: ${userInfo} userInfo.data: ${JSON.stringify(userInfo)}`)\r\n\r\n        let user = firebase.auth().currentUser;\r\n\r\n        if (user) {\r\n            console.log(user.displayName);\r\n            console.log(user.email);\r\n            console.log(user.photoURL);\r\n            console.log(user.emailVerified);\r\n            console.log(user.uid);\r\n            console.log(user.providerId)\r\n            console.log(user)\r\n            // User is signed in.\r\n\r\n            if ((user.providerId.includes(\"twitter\")) && (!user.email)) {\r\n                console.log(\"make user provide email to verify. Save email to user.\")\r\n            }\r\n        } else {\r\n            console.log(\"no user\")\r\n            // No user is signed in.\r\n        }\r\n\r\n        if (!userInfo.uid) {\r\n            firebase.auth().signInAnonymously()\r\n                .then((anon) => {\r\n                    console.log(user + \" \" + anon)\r\n                    console.log(anon.data)\r\n                    setAnonUser(true)// so that the prompt will definitely load\r\n                    setUserInfo(anon)\r\n                    setItemList([])\r\n                    setTotalCost(0)\r\n                    setItemCount(0)\r\n                    setItemsMerged(false)\r\n                    setAccountName(\"\")\r\n\r\n                })\r\n        }\r\n\r\n    }, [userSignedInCount])\r\n\r\n    useEffect(() => {\r\n        if (!anonUser) {\r\n            setUserInfo({\r\n                providerId,\r\n                uid,\r\n                displayName,\r\n                userEmail,\r\n                photoURL,\r\n                anonUser,\r\n                prevAddressShipping,\r\n                prevAddressBilling\r\n            })\r\n        }\r\n        // console.log(`userInfo: ${userInfo} userInfo.data: ${JSON.stringify(userInfo)}`)\r\n    }, [anonUser])\r\n\r\n    useEffect(() => {\r\n        console.log(`userInfo: ${userInfo} userInfo.data: ${JSON.stringify(userInfo)}`)\r\n    }, [])\r\n\r\n\r\n    //// Cart Context:\r\n\r\n    const [contextPrice, setContextPrice] = useState(0)\r\n    const [contextCount, setContextCount] = useState(0)\r\n    const [cartInfo, setCartInfo] = useState({})\r\n    const [costTallyFinished, setCostTallyFinished] = useState(false)\r\n\r\n    // From Cart Item List:\r\n    const [itemList, setItemList] = useState([])\r\n    const [itemsPurchased, setItemsPurchased] = useState(\"\")\r\n\r\n    // set up anonCart temp list for merging:\r\n    const [anonCart, setAnonCart] = useState([])\r\n\r\n    useEffect(() => {\r\n        // initialize app with an empty cart;\r\n        setItemList([])\r\n        setAnonCart([])\r\n    }, [])\r\n\r\n\r\n    const itemArray = []\r\n    const wishlistArray = []\r\n\r\n\r\n\r\n\r\n    const cartCost = []\r\n    const [totalCount, setTotalCount] = useState(0)\r\n    const [itemCost, setItemCost] = useState(0)\r\n    const [totalCost, setTotalCost] = useState(0)\r\n    const [costTaxShipping, setCostTaxShipping] = useState(0)\r\n    const [taxAmount, setTaxAmount] = useState(0)\r\n    const [normalCost, setNormalCost] = useState(0)\r\n    const [normalCount, setNormalCount] = useState(0)\r\n    const [itemCount, setItemCount] = useState(0)\r\n    const [wishlistItemCount, setWishlistItemCount] = useState(0)\r\n    const count = []\r\n    const wishlistCount = []\r\n    const [itemNumberString, setItemNumberString] = useState(\"\")\r\n    const [cartLoaded, setCartLoaded] = useState(false)\r\n    const [wishlistLoaded, setWishlistLoaded] = useState(false)\r\n\r\n\r\n    // changes made to cart are saved to context, cost and count are changed at that time.\r\n    useEffect(() => {\r\n        if (cartLoaded) {\r\n            setTotalCost((normalCost + contextPrice))\r\n            setItemCount((normalCount + contextCount))\r\n        }\r\n    }, [contextCount])\r\n\r\n    useEffect(() => {\r\n        if (wishlistLoaded) {\r\n            setWishlistItemCount((normalWishlistCount + contextWishlistCount))\r\n        }\r\n    }, [contextWishlistCount])\r\n\r\n\r\n    useEffect(() => {\r\n        if (totalCost < 0) {\r\n            setTotalCost(0)\r\n            setContextPrice(0)\r\n        }\r\n    }, [totalCost])\r\n\r\n    useEffect(() => {\r\n        if (itemCount < 0) {\r\n            setItemCount(0)\r\n            setContextCount(0)\r\n        }\r\n    }, [itemCount])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if ((anonCart.length > 0) && !itemsMerged) {\r\n\r\n            firebase.auth().onAuthStateChanged(function (user) {\r\n                if (user && !user.isAnonymous) {\r\n                    setAnonUser(false)\r\n                    anonCart.map(item => {\r\n                        let cartItem = [\r\n                            item[0],\r\n                            [],\r\n                            (Number(item[2]) / 100),\r\n                            [],\r\n                            [],\r\n                            item[1]\r\n\r\n\r\n                        ]\r\n                        let colorArr = item[4].split(\"_\")\r\n\r\n                        let options = [item[3], colorArr[0], colorArr[1], 1]\r\n                        // name - url - price - size - color\r\n\r\n                        modifyTotalPrice(\r\n                            (Number(item[2]) * 1)\r\n                        )\r\n\r\n                        console.log(item)\r\n                        modifyCartCount(1);\r\n                        return addToCart(cartItem, options)\r\n                    })\r\n                    setItemList([...itemList, ...anonCart])\r\n\r\n                    if (anonCart.length > 0) {\r\n                        activateMergeCartModal(anonCart)\r\n                    }\r\n                    setAnonCart([])\r\n                    setItemsMerged(true)\r\n                }\r\n            })\r\n\r\n        }\r\n        // if (anonUser && !itemsMerged) {\r\n\r\n        // let newArray = []\r\n\r\n        // const newCart = itemList.filter(item => !(\r\n        //     (item[0] == cartItem[0]) &&\r\n        //     (item[1] == cartItem[1]) &&\r\n        //     (item[2] == cartItem[2]) &&\r\n        //     (item[3] == cartItem[3]) &&\r\n        //     (item[4] == cartItem[4])\r\n        // )\r\n        // )\r\n\r\n        // setAnonCart([...anonCart, ...itemList])\r\n        //     setAnonCart(itemList)\r\n        //     console.log(anonCart)\r\n        // }\r\n        // itemList\r\n    }, [userInfo])\r\n\r\n\r\n\r\n    // get the list of all products\r\n\r\n    const [allProducts, setAllProducts] = useState([])\r\n\r\n    useEffect(() => {\r\n        return firebase.functions().httpsCallable('getAllProducts')()\r\n            .then(result => {\r\n                const newArr = []\r\n\r\n                result.data.forEach(item => {\r\n                    // console.log(`name: ${item.productName} url: ${item.imageURL} price: ${item.Price}`)\r\n                    newArr.push([\r\n                        item.productName,\r\n                        item.imageURL,\r\n                        item.Price,\r\n                        item.descriptBrief,\r\n                        item.descriptLong,\r\n                        item.imageTrueUrl,\r\n                        item.colors,\r\n                        item.sizes,\r\n                        item.categories,\r\n                        item.boughtWith,\r\n                        item.Stock,\r\n                        item.Bestseller,\r\n                        item.Sale,\r\n                        item.moreImages\r\n                    ])\r\n                })\r\n                // console.log(`result: ${result} result.data: ${result.data}`)\r\n                console.log(newArr)\r\n                setAllProducts(newArr)\r\n                setProductsLoaded(true)\r\n\r\n\r\n\r\n\r\n            })\r\n    }, [])\r\n\r\n\r\n    const [beltCategory, setBeltCategory] = useState([])\r\n    const [topCategory, setTopCategory] = useState([])\r\n    const [skirtCategory, setSkirtCategory] = useState([])\r\n    const [fullSetCategory, setFullSetCategory] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (productsLoaded) {\r\n            let beltsArray = []\r\n            let fullSetsArr = []\r\n            let topsArray = []\r\n            let skirtsArray = []\r\n\r\n            allProducts.forEach(item => {\r\n                console.log(item)\r\n                console.log(item[8])\r\n                if (item[8].includes(\"Belt\")) {\r\n                    beltsArray.push(item)\r\n                }\r\n                if (item[8].includes(\"Full Set\")) {\r\n                    fullSetsArr.push(item)\r\n                }\r\n                if (item[8].includes(\"Top\")) {\r\n                    topsArray.push(item)\r\n                }\r\n                if (item[8].includes(\"Skirt\")) {\r\n                    skirtsArray.push(item)\r\n                }\r\n            })\r\n\r\n            console.log(beltsArray)\r\n            console.log(topsArray)\r\n            console.log(skirtsArray)\r\n            console.log(fullSetsArr)\r\n\r\n\r\n            setBeltCategory([...beltsArray])\r\n            setTopCategory([...topsArray])\r\n            setSkirtCategory([...skirtsArray])\r\n            setFullSetCategory([...fullSetsArr])\r\n        }\r\n    }, [productsLoaded])\r\n\r\n    const [itemCategory, setItemCategory] = useState(\"\")\r\n\r\n\r\n    // get the items in cart and tally cost, count\r\n    useEffect(() => {\r\n\r\n        setContextCount(0)\r\n        setContextPrice(0)\r\n        setNormalCost(0)\r\n        setNormalCount(0)\r\n        setCartLoaded(true)\r\n\r\n        firebase.functions().httpsCallable('viewCart')()\r\n            .then(result => {\r\n                console.log(result)\r\n                if (result.data._fieldsProto !== null) {\r\n                    const items = result.data._fieldsProto.items.arrayValue.values\r\n\r\n                    // get product data for each item in cart\r\n                    const itemStringMap = items.map(item =>\r\n                        item.stringValue\r\n                    )\r\n                    console.log(itemStringMap)\r\n\r\n                    itemStringMap.forEach(item => {\r\n                        const newItem = item.split('%%')\r\n                        const itemCost = Number(newItem[2])\r\n                        cartCost.push(itemCost)\r\n                        count.push(1)\r\n\r\n\r\n                        itemArray.push(newItem)\r\n                        console.log(newItem)\r\n                        console.log(itemArray)\r\n                        console.log(itemList)\r\n                    })\r\n                    console.log(itemArray)\r\n\r\n                    setItemList(itemArray)\r\n\r\n\r\n                    console.log(itemList)\r\n\r\n                    console.log(cartCost)\r\n                    const addedCost = cartCost.reduce((a, b) => a + b, 0)\r\n                    setTotalCost(addedCost)\r\n                    setNormalCost(addedCost)\r\n                    setPriceAfterStoreCredit(addedCost)\r\n                    console.log(\"totalCost \" + totalCost)\r\n\r\n                    const addedCount = count.reduce((a, b) => a + b, 0)\r\n                    setItemCount(addedCount)\r\n                    setNormalCount(addedCount)\r\n                    console.log(count)\r\n                    console.log(itemCount)\r\n\r\n                    // if (anonCart.length > 0) {\r\n\r\n                    //     setItemsMerged(true)\r\n\r\n                    //     anonCart.forEach(item => {\r\n                    //         let cartItem = [\r\n                    //             item[0],\r\n                    //             [],\r\n                    //             (Number(item[2]) / 100),\r\n                    //             [],\r\n                    //             [],\r\n                    //             item[1]\r\n\r\n\r\n                    //         ]\r\n                    //         let colorArr = item[4].split(\"_\")\r\n\r\n                    //         let options = [item[3], colorArr[0], colorArr[1], 1]\r\n                    //         // name - url - price - size - color\r\n                    //         addToCart(cartItem, options)\r\n\r\n                    //         modifyCartCount(1);\r\n                    //         modifyTotalPrice(\r\n                    //             (Number(item[2]))\r\n                    //         )\r\n                    //     })\r\n                    //     setAnonCart([])\r\n                    // }\r\n\r\n                    setCostTallyFinished(true)\r\n                }\r\n            })\r\n    }, [userInfo])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        setContextWishlistCount(0)\r\n        setNormalWishlistCount(0)\r\n\r\n        firebase.functions().httpsCallable('viewWishlist')()\r\n            .then(result => {\r\n                console.log(result)\r\n                if (result.data._fieldsProto !== null) {\r\n                    const items = result.data._fieldsProto.items.arrayValue.values\r\n\r\n                    // get product data for each item in cart\r\n                    const itemStringMap = items.map(item =>\r\n                        item.stringValue\r\n                    )\r\n                    console.log(itemStringMap)\r\n\r\n                    itemStringMap.forEach(item => {\r\n                        const newItem = item.split('%%')\r\n                        wishlistCount.push(1)\r\n\r\n\r\n                        wishlistArray.push(newItem)\r\n                        console.log(newItem)\r\n                        console.log(wishlistArray)\r\n                    })\r\n                    console.log(wishlistArray)\r\n                    setWishlistItems(wishlistArray)\r\n\r\n\r\n                    let wishlistLengthArray = []\r\n                    if (wishlistTempCache.length > 0) {\r\n\r\n                        let newWishlistArray = []\r\n\r\n                        wishlistTempCache.map(item => {\r\n                            if (!itemStringMap.includes(item)) {\r\n                                let newerItem = item.split('%%')\r\n                                newWishlistArray.push(newerItem)\r\n                                firebase.functions().httpsCallable('addToWishlist')({ item })\r\n                                modifyWishlistCount(1)\r\n                                wishlistLengthArray.push(1)\r\n                            }\r\n                        })\r\n\r\n                        let finalArray = [...wishlistArray, ...newWishlistArray]\r\n                        setWishlistItems(finalArray)\r\n\r\n                        setWishlistTempCache([])\r\n\r\n                        console.log(\"items merged to wishlist.\")\r\n                    }\r\n\r\n\r\n                    const addedCount = wishlistCount.reduce((a, b) => a + b, 0)\r\n                    const secondAddedCount = wishlistLengthArray.reduce((a, b) => a + b, 0)\r\n\r\n                    setWishlistItemCount(addedCount + secondAddedCount)\r\n                    setNormalWishlistCount(addedCount)\r\n                    console.log(count)\r\n                    console.log(itemCount)\r\n                    setWishlistLoaded(true)\r\n\r\n                }\r\n            })\r\n    }, [userInfo])\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(itemList)\r\n    }, [itemList])\r\n\r\n    useEffect(() => {\r\n        console.log(totalCost)\r\n    }, [totalCost, setCostTallyFinished])\r\n    // when remove from cart is clicked, subtract 1 from count and price from price\r\n\r\n    // use proper english plurals for itemCount\r\n    useEffect(() => {\r\n        if (itemCount == 0 || itemCount > 1) {\r\n            setItemNumberString(\"Items\")\r\n        } else {\r\n            setItemNumberString(\"Item\")\r\n        }\r\n    }, [itemCount])\r\n\r\n\r\n    const [loaderOn, setLoaderOn] = useState(true)\r\n\r\n    const [loadedCount, setLoadedCount] = useState(0)\r\n\r\n    useEffect(() => {\r\n\r\n        if (loadedCount == allProducts.length) {\r\n            setLoaderOn(false)\r\n        } else {\r\n            setLoaderOn(true)\r\n        }\r\n\r\n\r\n    }, [loadedCount])\r\n\r\n\r\n    ////\r\n    //// display changes to cart instantly:\r\n\r\n    function modifyCartCount(itemNumber) {\r\n        console.log(\"ContextCount: \" + contextCount + \" itemNumber (-1): \" + itemNumber)\r\n        setContextCount((contextCount + itemNumber))\r\n    }\r\n\r\n    function modifyWishlistCount(itemNumber) {\r\n        setContextWishlistCount((contextWishlistCount + itemNumber))\r\n    }\r\n\r\n    function modifyTotalPrice(priceNumber) {\r\n        console.log(\"ContextPrice: \" + contextPrice + \" priceNumber: \" + priceNumber)\r\n        setContextPrice((contextPrice + priceNumber))\r\n    }\r\n\r\n    function modifyAddressSaved(bool) {\r\n        setAddressSaved(bool)\r\n    }\r\n\r\n    // sign out:\r\n    function handleSignOut() {\r\n        firebase.auth().signOut().then(function () {\r\n            setUserInfo({})\r\n            setUserSignedInCount(userSignedInCount + 1)\r\n            setTotalCost(0)\r\n            setItemCount(0)\r\n            setItemList([])\r\n            setAccountName(\"\")\r\n            setTwitterUser(false)\r\n            document.getElementById(\"firebaseui-auth-container\").style.display = \"initial\"\r\n\r\n\r\n            // (function ($) {\r\n\r\n            //     $(\"#firebaseui-auth-container\").load(document.URL + \" #firebaseui-auth-container\");\r\n            // })(jQuery)\r\n\r\n            // Sign-out successful.\r\n        }).catch(function (error) {\r\n            // An error happened.\r\n        });\r\n        window.location.reload()\r\n    }\r\n\r\n\r\n    ///////////////////// increment products in Db when they are ordered:\r\n    function updateDatabaseOrders(item) {\r\n\r\n        firebase.functions().httpsCallable('updateOrders')({ item })\r\n\r\n    }\r\n\r\n\r\n    const [wishlistTempCache, setWishlistTempCache] = useState([])\r\n\r\n\r\n    //////////////// to streamline cart and wishlist functions across app\r\n    function addToWishlist(item) {\r\n        const user = firebase.auth().currentUser.email\r\n        console.log(item + \" Added to wishlist under \" + user)\r\n\r\n        let sale = item[12]\r\n\r\n        if (!sale) {\r\n            let wishlistCache = `${item[0]}%%${item[5]}%%${item[2]}00`\r\n            firebase.functions().httpsCallable('addToWishlist')({ wishlistCache })\r\n            const newItem = [item[0], item[5], (Number(item[2]) * 100)]\r\n\r\n            setWishlistItems([...wishlistItems, newItem])\r\n\r\n            setWishlistTempCache([...wishlistTempCache, wishlistCache])\r\n        } else {\r\n            let wishlistCache = `${item[0]}%%${item[5]}%%${item[12]}00`\r\n            firebase.functions().httpsCallable('addToWishlist')({ wishlistCache })\r\n            const newItem = [item[0], item[5], (Number(item[12]) * 100)]\r\n\r\n            setWishlistItems([...wishlistItems, newItem])\r\n\r\n            setWishlistTempCache([...wishlistTempCache, wishlistCache])\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function removeFromWishlist(item) {\r\n        console.log(\"item removed from wishlist \" + item)\r\n        firebase.functions().httpsCallable('removeFromWishlist')({ item })\r\n        const newList = wishlistItems.filter(i => !i.includes(item))\r\n        setWishlistItems(newList)\r\n    }\r\n\r\n    // saving item info to cart\r\n    function addToCart(item, options) {\r\n        const user = firebase.auth().currentUser.email\r\n        console.log(item + \" Added to cart under \" + user)\r\n\r\n        let colorArr = [options[1], options[2]]\r\n        let colorString = colorArr.join(\"_\")\r\n        console.log(options)\r\n        console.log(colorString)\r\n\r\n        // options0 is size\r\n        // options1 and 2 are color name and hex\r\n        // options3 is quantity\r\n\r\n        let itemAlreadyInCartArray = itemList.filter(i => i === item)\r\n        let prevItemCartCount = itemAlreadyInCartArray.length\r\n\r\n        let quant = Number(options[3])\r\n        let quantDifference = Number(quant - prevItemCartCount)\r\n\r\n        let sale = item[12]\r\n\r\n\r\n        let tempArray = []\r\n\r\n        if (quantDifference > 0) {\r\n            let i;\r\n            for (i = 0; i < quantDifference; i++) {\r\n\r\n\r\n                if (!sale) {\r\n\r\n                    let cartCache = `${item[0]}%%${item[5]}%%${item[2]}00%%${options[0]}%%${colorString}`\r\n                    firebase.functions().httpsCallable('addToCart')({ cartCache })\r\n\r\n                    const newItem = [\r\n                        item[0],\r\n                        item[5],\r\n                        (Number(item[2]) * 100),\r\n                        options[0],\r\n                        colorString\r\n                    ]\r\n\r\n                    tempArray.push(newItem)\r\n\r\n                } else {\r\n                    let cartCache = `${item[0]}%%${item[5]}%%${sale}00%%${options[0]}%%${colorString}`\r\n                    firebase.functions().httpsCallable('addToCart')({ cartCache })\r\n\r\n                    const newItem = [\r\n                        item[0],\r\n                        item[5],\r\n                        (Number(sale) * 100),\r\n                        options[0],\r\n                        colorString\r\n                    ]\r\n\r\n                    tempArray.push(newItem)\r\n                }\r\n            }\r\n            setItemList([...itemList, ...tempArray])\r\n            if (anonUser) {\r\n                setAnonCart([...anonCart, ...tempArray])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////\r\n    function fromWishlistToCart(item) {\r\n        const user = firebase.auth().currentUser.email\r\n        console.log(item + \" Added to cart under \" + user)\r\n\r\n        let sale = item[12]\r\n        let normalPrice = item[2]\r\n\r\n        if (!sale) {\r\n\r\n            let cartCache = `${item[0]}%%${item[1]}%%${normalPrice}00`\r\n            firebase.functions().httpsCallable('addToCart')({ cartCache })\r\n\r\n            const newItem = [item[0], item[1], (Number(item[2]) * 100)]\r\n\r\n            setItemList([...itemList, newItem])\r\n\r\n\r\n        } else {\r\n\r\n            let cartCache = `${item[0]}%%${item[1]}%%${sale}00`\r\n            firebase.functions().httpsCallable('addToCart')({ cartCache })\r\n\r\n            const newItem = [item[0], item[1], (Number(sale) * 100)]\r\n\r\n            setItemList([...itemList, newItem])\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function removeFromCart(cartItem, amount) {\r\n        // to remove an item, split all items of that name into an array, remove one from it,\r\n        // and pass it back.\r\n        console.log(\"Item removed from cart \" + cartItem)\r\n\r\n        // let sale = cartItem[12]\r\n        let normalPrice = cartItem[2]\r\n\r\n        // if (!sale) {\r\n        let cartCache = `${cartItem[0]}%%${cartItem[1]}%%${normalPrice}%%${cartItem[3]}%%${cartItem[4]}`\r\n        const newCart = itemList.filter(item => !(\r\n            (item[0] == cartItem[0]) &&\r\n            (item[1] == cartItem[1]) &&\r\n            (item[2] == cartItem[2]) &&\r\n            (item[3] == cartItem[3]) &&\r\n            (item[4] == cartItem[4])\r\n        )\r\n        )\r\n        const arrayOfGivenItem = itemList.filter(item => (\r\n            (item[0] == cartItem[0]) &&\r\n            (item[1] == cartItem[1]) &&\r\n            (item[2] == cartItem[2]) &&\r\n            (item[3] == cartItem[3]) &&\r\n            (item[4] == cartItem[4])\r\n        )\r\n        )\r\n\r\n        let i;\r\n        for (i = 0; i < amount; i++) {\r\n            firebase.functions().httpsCallable('removeFromCart')({ cartCache })\r\n            // newArr.push([item[0], item[1], item[2], item[3], item[4]])\r\n            arrayOfGivenItem.pop()\r\n\r\n        }\r\n\r\n        console.log(newCart)\r\n        console.log(arrayOfGivenItem)\r\n\r\n        if (arrayOfGivenItem.length > 0) {\r\n            let finalCart = [...newCart, ...arrayOfGivenItem]\r\n\r\n            setItemList([...finalCart])\r\n\r\n            if (anonUser) {\r\n                setAnonCart([...finalCart])\r\n            }\r\n            return console.log(finalCart)\r\n\r\n        } else {\r\n\r\n            setItemList([...newCart])\r\n            if (anonUser) {\r\n                setAnonCart([...newCart])\r\n            }\r\n\r\n            return console.log(newCart)\r\n        }\r\n\r\n\r\n        // } else {\r\n\r\n        // let cartCache = `${cartItem[0]}%%${cartItem[1]}%%${sale}%%${cartItem[3]}%%${cartItem[4]}`\r\n        // const newCart = itemList.filter(item => !(\r\n        //     (item[0] == cartItem[0]) &&\r\n        //     (item[1] == cartItem[1]) &&\r\n        //     (item[2] == cartItem[2]) &&\r\n        //     (item[3] == cartItem[3]) &&\r\n        //     (item[4] == cartItem[4])\r\n        // )\r\n        // )\r\n        // const arrayOfGivenItem = itemList.filter(item => (\r\n        //     (item[0] == cartItem[0]) &&\r\n        //     (item[1] == cartItem[1]) &&\r\n        //     (item[2] == cartItem[2]) &&\r\n        //     (item[3] == cartItem[3]) &&\r\n        //     (item[4] == cartItem[4])\r\n        // )\r\n        // )\r\n\r\n        // let i;\r\n        // for (i = 0; i < amount; i++) {\r\n        //     firebase.functions().httpsCallable('removeFromCart')({ cartCache })\r\n        //     // newArr.push([item[0], item[1], item[2], item[3], item[4]])\r\n        //     arrayOfGivenItem.pop()\r\n\r\n        // }\r\n\r\n        // console.log(newCart)\r\n        // console.log(arrayOfGivenItem)\r\n\r\n        // if (arrayOfGivenItem.length > 0) {\r\n        //     let finalCart = [...newCart, ...arrayOfGivenItem]\r\n\r\n        //     setItemList([...finalCart])\r\n\r\n        //     if (anonUser) {\r\n        //         setAnonCart([...finalCart])\r\n        //     }\r\n        //     return console.log(finalCart)\r\n\r\n        // } else {\r\n\r\n        //     setItemList([...newCart])\r\n        //     if (anonUser) {\r\n        //         setAnonCart([...newCart])\r\n        //     }\r\n\r\n        //     return console.log(newCart)\r\n        // }\r\n\r\n\r\n        // }\r\n\r\n    }\r\n\r\n    const [ordersLoaded, setOrdersLoaded] = useState(false)\r\n    const [prevOrders, setPrevOrders] = useState([])\r\n\r\n    const [payMethod, setPayMethod] = useState([])\r\n\r\n    const [storeCredit, setStoreCredit] = useState(0)\r\n\r\n    const [darkMode, setDarkMode] = useState(true)\r\n    /////////////////////// get user orders info to view in their account section.\r\n    ///// .... as well as a bunch of additional info\r\n    useEffect(() => {\r\n\r\n        if ((userInfo.userEmail && !anonUser) || twitterUser) {\r\n            let ordersArray = []\r\n\r\n            let emailArray = []\r\n            let email = emailArray[0]\r\n\r\n            let userEmail = userInfo.userEmail\r\n            if (twitterUser) {\r\n                firebase.functions().httpsCallable('getTwitterUserEmail')()\r\n                    .then(result => {\r\n                        let theEmail = result.data._fieldsProto.customer_email.stringValue\r\n                        console.log(theEmail)\r\n                        return emailArray.push(theEmail)\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(\"error getting twitter email: \" + error)\r\n                    })\r\n            } else {\r\n                emailArray.push(userEmail)\r\n            }\r\n\r\n\r\n            firebase.functions().httpsCallable('getUserOrders')({ email })\r\n                .then(result => {\r\n                    console.log(result)\r\n                    console.log(result.data)\r\n\r\n                    result.data.forEach(order => {\r\n\r\n                        // let itemsAndUrls = []\r\n                        let date = order[0]\r\n                        let orderAmount = order[2]\r\n                        let orderItems = order[1]\r\n                        let orderType = order[3]\r\n                        let orderCreditUsed = order[4]\r\n                        let orderStatus = order[5]\r\n                        let orderTracking = order[6]\r\n\r\n                        // orderItems.forEach(product => {\r\n                        //     console.log(product)\r\n                        //     let urlQuery = allProducts.filter(item => (item[0].includes(product)))\r\n                        //     console.log(urlQuery)\r\n                        //     let urlSingleObject = urlQuery[0]\r\n                        //     console.log(urlSingleObject)\r\n                        //     // console.log(urlSingleObject[5])\r\n                        //     // let url = urlSingleObject[5]\r\n\r\n                        //     return itemsAndUrls.push(urlSingleObject)\r\n                        // })\r\n\r\n\r\n\r\n                        let fullOrderData = [\r\n                            date,\r\n                            orderItems,\r\n                            orderAmount,\r\n                            orderType,\r\n                            orderCreditUsed,\r\n                            orderStatus,\r\n                            orderTracking]\r\n                        console.log(fullOrderData)\r\n\r\n                        ordersArray.push(fullOrderData)\r\n                    })\r\n                    console.log(ordersArray)\r\n                })\r\n            // ordersArray.sort(function (a, b) { return (Number(b[0]) - Number(a[0])) })\r\n\r\n            setPrevOrders(ordersArray)\r\n            setOrdersLoaded(true)\r\n            // phase 2 of this effect: get pay method:\r\n            firebase.functions().httpsCallable('getPayMethod')()\r\n                .then(result => {\r\n                    console.log(result)\r\n                    console.log(result.data)\r\n                    let newArr = []\r\n                    let paymentMethod = result.data._fieldsProto.payMethod.arrayValue.values\r\n                    paymentMethod.forEach(item => {\r\n                        newArr.push(item.stringValue)\r\n                    })\r\n                    console.log(newArr)\r\n                    console.log(paymentMethod)\r\n                    setPayMethod(newArr)\r\n\r\n                    // this function gets the entire customer document, so it also retrieves store credit\r\n                    console.log(result.data._fieldsProto.storeCredit)\r\n                    let store_credit = result.data._fieldsProto.storeCredit.integerValue\r\n                    setStoreCredit(Number(store_credit) * 100)\r\n                    setModdedStoreCredit(Number(store_credit) * 100)\r\n\r\n                    let staySigned = result.data._fieldsProto.staySignedIn.booleanValue\r\n                    console.log(staySigned)\r\n\r\n                    if (staySigned == true) {\r\n\r\n                        setStaySignedIn(true)\r\n                    } else {\r\n                        setStaySignedIn(false)\r\n                    }\r\n\r\n\r\n                    let notify = result.data._fieldsProto.allowNotify.booleanValue\r\n\r\n                    console.log(notify)\r\n\r\n                    if (notify == true) {\r\n                        setUpdatesChoice(true)\r\n                        setAllowNotify(true)\r\n\r\n                    } else {\r\n                        setUpdatesChoice(false)\r\n                        setAllowNotify(false)\r\n                    }\r\n\r\n                    let dark = result.data._fieldsProto.darkMode.booleanValue\r\n                    console.log(dark)\r\n                    if (dark === false) {\r\n                        setDarkMode(false)\r\n                    } else {\r\n                        setDarkMode(true)\r\n                    }\r\n\r\n                })\r\n            console.log(payMethod)\r\n            console.log(storeCredit)\r\n\r\n\r\n        }\r\n\r\n    }, [userInfo])\r\n\r\n\r\n\r\n    ////////////////////////////// < Modals code >\r\n\r\n    const [modalTempItem, setModalTempItem] = useState([])\r\n    const [modalTempOptions, setModalTempOptions] = useState([])\r\n    const [modalTempProductQuant, setModalTempProductQuant] = useState(0)\r\n\r\n    const [modalFunction, setModalFunction] = useState(\"\")\r\n    const [modalText, setModalText] = useState(\"\")\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        if (modalOpen) {\r\n            document.getElementById('functionalModalButton').disabled = false\r\n        }\r\n    }, [modalText])\r\n\r\n\r\n    function activateAddToWishlistModal(item) {\r\n        setModalTempItem(item)\r\n        setModalText(`Added ${item} to Favorites`)\r\n        setModalFunction(\"removeWishlist\")\r\n\r\n\r\n        setModalOpen(false)\r\n        setModalOpen(true)\r\n        ////\r\n\r\n\r\n    }\r\n\r\n    function activateRemoveFromWishlistModal(item) {\r\n        setModalTempItem(item)\r\n        setModalText(`Removed ${item[0]} from Favorites`)\r\n        setModalFunction(\"addWishlist\")\r\n\r\n\r\n        setModalOpen(false) // so that modal 5 second limit is reset\r\n        setModalOpen(true)\r\n        ////\r\n\r\n\r\n    }\r\n\r\n    function activateAddToCartModal(item, options) {\r\n        setModalTempItem(item)\r\n        setModalTempOptions(options)\r\n        setModalText(`Added ${item[0]} to Cart`)\r\n        setModalFunction(\"removeCart\")\r\n\r\n\r\n        setModalOpen(false)\r\n        setModalOpen(true)\r\n        ////\r\n\r\n\r\n    }\r\n\r\n    function activateRemoveFromCartModal(item, options) {\r\n        setModalTempItem(item)\r\n        setModalTempOptions(options)\r\n        setModalText(`Removed ${item[0]} from Cart`)\r\n        setModalFunction(\"addCart\")\r\n\r\n\r\n        setModalOpen(false)\r\n        setModalOpen(true)\r\n        ////\r\n\r\n\r\n    }\r\n\r\n    function activateMergeCartModal(itemsArray) {\r\n        setModalTempItem(itemsArray)\r\n        // setModalTempOptions(options)\r\n        let itemNameArray = itemsArray.map(item => item[0])\r\n        let itemNames = itemNameArray.join(\", \")\r\n        // let namesAndCommas = itemNames.split(\" \")\r\n\r\n        // if (itemNameArray.length > 0) {\r\n\r\n\r\n        //     let lastItem = namesAndCommas.pop()\r\n        //     namesAndCommas.push(\"and\")\r\n        //     namesAndCommas.push(lastItem)\r\n\r\n        // }\r\n        // let newItemNames = namesAndCommas.join(\" \")\r\n\r\n\r\n\r\n        setModalText(`${itemNames} ${(itemNameArray.length > 1) ? \"were\" : \"was\"} merged to Cart`)\r\n        setModalFunction(\"mergeCart\")\r\n\r\n\r\n        setModalOpen(false)\r\n        setModalOpen(true)\r\n        ////\r\n\r\n\r\n    }\r\n\r\n    const [wishListDisplayed, setWishlistDisplayed] = useState(false)\r\n\r\n    const [finalItemList, setFinalItemList] = useState([])\r\n\r\n    function handleRemoveMultipleFromCart(item, amount) {\r\n        let newArr = []\r\n        let i;\r\n        // for (i = 0; i < amount; i++) {\r\n        //     removeFromCart(item, amount)\r\n        //     // newArr.push([item[0], item[1], item[2], item[3], item[4]])\r\n\r\n        // }\r\n\r\n        removeFromCart(item, amount)\r\n\r\n        const newFinalList = finalItemList.filter(i => !(\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        const arrayOfGivenItem = itemList.filter(i => (\r\n            (i[0] == item[0]) &&\r\n            (i[1] == item[1]) &&\r\n            (i[2] == item[2]) &&\r\n            (i[3] == item[3]) &&\r\n            (i[4] == item[4]) &&\r\n            (i[5]) == item[5]\r\n        )\r\n        )\r\n        arrayOfGivenItem.pop()\r\n\r\n        let finalList = [...newFinalList, ...arrayOfGivenItem]\r\n        setFinalItemList([...finalList])\r\n        setItemList(finalList)\r\n        // setItemList()\r\n    }\r\n\r\n\r\n    function modalExecute() {\r\n\r\n        document.getElementById(\"functionalModalButton\").disabled = true\r\n\r\n        let item = modalTempItem\r\n        let options = modalTempOptions\r\n        let itemQuant = Number(modalTempOptions[3]);\r\n\r\n        console.log(modalTempItem)\r\n        console.log(modalTempOptions)\r\n        console.log(itemQuant)\r\n\r\n        if (modalFunction == \"removeCart\") {\r\n\r\n            removeFromCart(item, options)\r\n            modifyCartCount((Number(options) * -1));\r\n            modifyTotalPrice(\r\n                (Number(item[2]) * (Number(options) * -1))\r\n            );\r\n\r\n\r\n        } else if (modalFunction == \"addCart\") {\r\n\r\n\r\n            addToCart(item, options);\r\n            modifyCartCount(itemQuant);\r\n            modifyTotalPrice(\r\n                (Number(item[2]) * 100 * itemQuant)\r\n            )\r\n\r\n        } else if (modalFunction == \"removeWishlist\") {\r\n            removeFromWishlist(item)\r\n            modifyWishlistCount(-1)\r\n        } else if (modalFunction == \"addWishlist\") {\r\n            addToWishlist(item)\r\n            modifyWishlistCount(1)\r\n        } else if (modalFunction == \"mergeCart\") {\r\n\r\n            let storageArr = []\r\n\r\n            let parseItemList = item.map(i => {\r\n\r\n                // let similarItemArray = item.filter(j => j == i)\r\n                // let itemQuant = similarItemArray.length\r\n                console.log(item)\r\n                console.log(itemList)\r\n                // if (!storageArr.includes(i)) {\r\n\r\n                modifyCartCount((Number(1) * -1));\r\n                modifyTotalPrice(\r\n                    (Number(i[2]) * (Number(1) * -1))\r\n                );\r\n                return handleRemoveMultipleFromCart(i, 1)\r\n                // }\r\n\r\n                // storageArr.push(i)\r\n\r\n\r\n            })\r\n            return parseItemList\r\n            // \"item\" is the array of all cart items.\r\n            // removeFromCart expects (itemSingular, amount)\r\n\r\n        }\r\n        else {\r\n            console.log(\"improper modal function!\")\r\n        }\r\n\r\n        console.log(itemList)\r\n\r\n\r\n    }\r\n\r\n\r\n    //// the options modal:\r\n\r\n    const [optionsModalText, setOptionsModalText] = useState(\"\")\r\n    const [optionsModalDisplayed, setOptionsModalDisplayed] = useState(false)\r\n\r\n    function activateOptionsModal(text) {\r\n        setOptionsModalDisplayed(false)\r\n        if (text == \"color\") {\r\n            setOptionsModalText(\"Please select a color\")\r\n        } else if (text == \"size\") {\r\n            setOptionsModalText(\"Please select a size\")\r\n        } else if (text == \"colorSize\") {\r\n            setOptionsModalText(\"Please select a size and color\")\r\n        }\r\n\r\n        setOptionsModalDisplayed(true)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (optionsModalDisplayed) {\r\n            document.getElementById('itemOptionsModal').style.display = \"initial\"\r\n            setTimeout(() => {\r\n                document.getElementById('itemOptionsModal').style.display = \"none\"\r\n                setOptionsModalDisplayed(false)\r\n            }, 5000)\r\n        } else {\r\n            document.getElementById('itemOptionsModal').style.display = \"none\"\r\n        }\r\n    }, [optionsModalDisplayed])\r\n\r\n    function closeOptionsModal() {\r\n        document.getElementById('itemOptionsModal').style.display = \"none\"\r\n    }\r\n\r\n\r\n\r\n    ///////////////////////////// </ Modals code >\r\n\r\n\r\n    // for moderating number of products in shop pages:\r\n    const [productOnPageCount, setProductOnPageCount] = useState(0)\r\n\r\n    const [accountTitleString, setAccountTitleString] = useState(\"Your Account\")\r\n\r\n    /////////////////// For handling store credit...\r\n\r\n    function handleStoreCreditPrompt() {\r\n        document.getElementById('storeCreditModal').style.display = \"initial\"\r\n    }\r\n\r\n    const [moddedStoreCredit, setModdedStoreCredit] = useState(0)\r\n    const [priceAfterStoreCredit, setPriceAfterStoreCredit] = useState(0)\r\n    const [storeCreditUsed, setStoreCreditUsed] = useState(0)\r\n\r\n    const [exchangePurchase, setExchangePurchase] = useState(false)\r\n\r\n    function handleAllCredit() {\r\n\r\n        // if ((storeCredit * 100) >= totalCost) {\r\n        //     setPriceAfterStoreCredit(0)\r\n        //     setStoreCreditUsed(totalCost)\r\n        // }\r\n        // else {\r\n        if ((storeCredit) >= totalCost) {\r\n            setPriceAfterStoreCredit(0)\r\n            setStoreCreditUsed(totalCost)\r\n            setExchangePurchase(true)\r\n        } else {\r\n            setPriceAfterStoreCredit(totalCost - (storeCredit))\r\n            setStoreCreditUsed(storeCredit)\r\n\r\n\r\n\r\n            let moddedCost = Number(totalCost - (storeCredit))\r\n            console.log(moddedCost)\r\n            if (moddedCost > 50) {\r\n\r\n                firebase.functions().httpsCallable('createPaymentIntent')({ moddedCost })\r\n                    .then(result => {\r\n                        // setPaymentInt(result.data)\r\n                        return console.log(\"paymentIntent created using store credit\" + result.data)\r\n                    })\r\n                    .catch(error => {\r\n                        return console.log(\"no response from callable \" + error)\r\n                    })\r\n            } else {\r\n                setExchangePurchase(true)\r\n            }\r\n        }\r\n        // }\r\n    }\r\n    function modStoreCredit() {\r\n        let chosenCreditProto = document.getElementById(\"modStoreCreditInput\").value\r\n        console.log(chosenCreditProto)\r\n        let chosenCredit = (Number(chosenCreditProto) * 100)\r\n        let moddedCost = Number(totalCost - chosenCredit)\r\n        setStoreCreditUsed(chosenCredit)\r\n        setPriceAfterStoreCredit(moddedCost)\r\n        if (moddedCost > 50) {\r\n            firebase.functions().httpsCallable('createPaymentIntent')({ moddedCost })\r\n                .then(result => {\r\n                    // setPaymentInt(result.data)\r\n                    return console.log(\"paymentIntent created using store credit\" + result.data)\r\n                })\r\n                .catch(error => {\r\n                    return console.log(\"no response from callable \" + error)\r\n                })\r\n        } else {\r\n            setExchangePurchase(true)\r\n        }\r\n    }\r\n\r\n\r\n    const [exchangePurchaseComplete, setExchangePurchaseComplete] = useState(false)\r\n    const [lastExchangeOrderCreditUsed, setLastExchangeOrderCreditUsed] = useState(0)\r\n\r\n\r\n    useEffect(() => {\r\n        if (itemList.length > 0) {\r\n            setExchangePurchaseComplete(false)\r\n            setExchangePurchase(false)\r\n        }\r\n    }, [itemList])\r\n\r\n    function confirmExchangeOrder(orderString, itemList, deliverDate) {\r\n\r\n        // let timeStamp = new Date(Date.now())\r\n\r\n        let exchangeNote = document.getElementById('exchangeNote').value\r\n        // callable('exchangeOrder')\r\n        firebase.functions().httpsCallable('exchangeOrder')\r\n            ({ itemList, orderString, deliverDate, exchangeNote })\r\n\r\n            .then(result => {\r\n                console.log(result)\r\n                // cartItems, cost, lastFour, deliverDate\r\n\r\n                // setOrderComplete(true)\r\n                // setProcessError(false)\r\n                let itemNameArray = itemList.map(item => {\r\n                    return item[0]\r\n                })\r\n\r\n                let nameArrayJoined = itemNameArray.join(\", \")\r\n                setItemsPurchased(nameArrayJoined)\r\n                // send receipt email:\r\n                // if (userInfo.userEmail) {\r\n                console.log(\"normal email sent\")\r\n            })\r\n            .then(result => {\r\n                itemList.forEach(i => {\r\n\r\n\r\n                    // let singleItem = fullItem[0]\r\n                    // let itemPrice = singleItem[2]\r\n\r\n                    let item = i[0]\r\n                    let itemPrice = i[2]\r\n\r\n                    console.log(\"item: \" + item)\r\n                    console.log(\"itemPrice: \" + itemPrice)\r\n\r\n                    updateDatabaseOrders(item)\r\n                    modifyTotalPrice(\r\n                        (Number(itemPrice) * -1)\r\n                    )\r\n                    modifyCartCount(-1);\r\n                })\r\n                let newArr = []\r\n                setItemList([])\r\n                // setAnonList([])\r\n                setFinalItemList(newArr)\r\n                // setSpinnerDisplayed(false)\r\n                setExchangePurchaseComplete(true)\r\n\r\n                if (storeCreditUsed > 0) {\r\n                    firebase.functions().httpsCallable('updateCredit')\r\n                        ({ storeCreditUsed })\r\n                        .then(result => {\r\n                            setLastExchangeOrderCreditUsed(storeCreditUsed)\r\n                            setStoreCredit(storeCredit - (storeCreditUsed))\r\n                            setStoreCreditUsed(0)\r\n                            setPriceAfterStoreCredit(0)\r\n                            return console.log(\"credit updated \" + result)\r\n                        })\r\n                        .catch(error => {\r\n                            return console.log(\"error updating credit \" + error)\r\n                        })\r\n                }\r\n\r\n\r\n\r\n                return console.log(result)\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                return console.log(\"Error sending receipt email: \" + error)\r\n            })\r\n    }\r\n\r\n    ////////////////////// Bool for loading a modal on checkout page\r\n\r\n    const [onCheckout, setOnCheckout] = useState(false)\r\n    const [updatesChoice, setUpdatesChoice] = useState(false)\r\n\r\n    const [allNumber, setAllNumber] = useState(0)\r\n    const [displayNumber, setDisplayNumber] = useState(false)\r\n    const [itemString, setItemString] = useState(\"\")\r\n\r\n\r\n    const [wishlistString, setWishlistString] = useState('Favorites')\r\n\r\n    const [itemLoadedCount, setItemLoadedCount] = useState(0)\r\n\r\n    window.onbeforeunload = function () {\r\n        if (!staySignedIn) {\r\n            handleSignOut()\r\n        }\r\n        setAllNumber(0)\r\n        setDisplayNumber(0)\r\n        setItemList([])\r\n        setFinalItemList([])\r\n        setUserInfo([])\r\n    }\r\n\r\n\r\n    const [expressCheckoutOn, setExpressCheckoutOn] = useState(false)\r\n\r\n\r\n    function handleExpressModal() {\r\n        if (!expressCheckoutOn) {\r\n            document.getElementById('expressModal').style.display = \"initial\"\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (accountTitleString == \"Your Account\" || (!userInfo.userEmail)) {\r\n            setExpressCheckoutOn(false)\r\n        } else if ((accountTitleString !== \"Your Account\") && userInfo.userEmail) {\r\n            setExpressCheckoutOn(true)\r\n        }\r\n    }, [accountTitleString, userInfo])\r\n\r\n\r\n    const [orderComplete, setOrderComplete] = useState(false)\r\n    const [orderFinished, setOrderFinished] = useState(false)\r\n\r\n    const [useExpressMode, setUseExpressMode] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (orderFinished) {\r\n            setFinalItemList([])\r\n            setItemList([])\r\n        }\r\n    }, [orderFinished])\r\n    // ///////////////\r\n    //////////////////\r\n    const stripePromise = loadStripe(\"pk_live_jEO9oUQ2IJ2pZ2NiOsloU4ag00KAuGAjPB\")\r\n    ///////////////////////////\r\n\r\n    //// Screen size hook:\r\n\r\n    const isClient = typeof window === 'object';\r\n\r\n    function getSize() {\r\n        return {\r\n            width: isClient ? window.innerWidth : undefined,\r\n            height: isClient ? window.innerHeight : undefined\r\n        };\r\n    }\r\n\r\n    const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n    function useWindowSize() {\r\n\r\n\r\n        useEffect(() => {\r\n            if (!isClient) {\r\n                return false;\r\n            }\r\n            function handleResize() {\r\n                setWindowSize(getSize());\r\n            }\r\n\r\n            window.addEventListener('resize', handleResize);\r\n            return () => window.removeEventListener('resize', handleResize);\r\n        }, []); // Empty array ensures that effect is only run on mount and unmount\r\n\r\n        return windowSize;\r\n    }\r\n\r\n    const screenSize = useWindowSize()\r\n\r\n    const [isLargeScreen, setIsLargeScreen] = useState(true)\r\n    const [canResize, setCanResize] = useState(true)\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        if (canResize) {\r\n\r\n            // 16:9 is the common aspect ratio\r\n            let aspectRatio = Number(16 / 9)\r\n            if (Number(windowSize.width / windowSize.height) >= aspectRatio) {\r\n                setIsLargeScreen(true)\r\n            } else {\r\n                setIsLargeScreen(false)\r\n            }\r\n        }\r\n    }, [windowSize, homeLoaded])\r\n\r\n    useEffect(() => {\r\n\r\n        // locOrientation = window.screen.lockOrientation || window.screen.mozLockOrientation || window.screen.msLockOrientation || window.screen.orientation.lock;\r\n\r\n\r\n        if (isLargeScreen) {\r\n            if (window.screen.lockOrientation) {\r\n                window.screen.lockOrientation(\"landscape\")\r\n            } else if (window.screen.mozLockOrientation) {\r\n                window.screen.mozLockOrientation(\"landscape\")\r\n            } else if (window.screen.msLockOrientation) {\r\n                window.screen.msLockOrientation(\"landscape\")\r\n            } else if (window.screen.orientation.lock) {\r\n                window.screen.orientation.lock(\"landscape\")\r\n            }\r\n            // locOrientation(\"landscape\")\r\n        } else {\r\n            // locOrientation(\"portrait\")\r\n            if (window.screen.lockOrientation) {\r\n                window.screen.lockOrientation(\"portrait\")\r\n            } else if (window.screen.mozLockOrientation) {\r\n                window.screen.mozLockOrientation(\"portrait\")\r\n            } else if (window.screen.msLockOrientation) {\r\n                window.screen.msLockOrientation(\"portrait\")\r\n            } else if (window.screen.orientation.lock) {\r\n                window.screen.orientation.lock(\"portrait\")\r\n            }\r\n        }\r\n    }, [isLargeScreen])\r\n\r\n\r\n\r\n    const [homeLoaded, setHomeLoaded] = useState(0)\r\n\r\n    function incrementHome() {\r\n        setHomeLoaded(homeLoaded + 1)\r\n    }\r\n\r\n\r\n    const [displayPayPal, setDisplayPayPal] = useState(false)\r\n    const [payPalHeightArr, setPayPalHeightArr] = useState([])\r\n\r\n    const [stripeDisplayed, setStripeDisplayed] = useState(false)\r\n\r\n    function displayStripe() {\r\n        // document.getElementById(\"shipRush\").setAttribute('disabled', \"true\")\r\n        // document.getElementById(\"shipRush\").disabled = true\r\n        // document.getElementById(\"shipExpedited\").setAttribute('disabled', \"true\")\r\n        // document.getElementById(\"shipExpedited\").disabled = true\r\n        // document.getElementById(\"shipStandard\").setAttribute('disabled', \"true\")\r\n        // document.getElementById(\"shipStandard\").disabled = true\r\n        // document.getElementById(\"shippingInput\").setAttribute('display', 'none')\r\n\r\n        setStripeDisplayed(true)\r\n\r\n    }\r\n\r\n    const [storeCreditExceedsCost, setStoreCreditExceedsCost] = useState(false)\r\n\r\n\r\n    const [onProductPage, setOnProductPage] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if ((storeCredit) >= totalCost) {\r\n            setStoreCreditExceedsCost(true)\r\n        }\r\n        else {\r\n            setStoreCreditExceedsCost(false)\r\n        }\r\n\r\n    }, [storeCredit, totalCost])\r\n\r\n    const [changeAmount, setChangeAmount] = useState(false)\r\n\r\n    const [previouslyViewed, setPreviouslyViewed] = useState([])\r\n\r\n    const [sidebarOpen, setSidebarOpen] = useState(false)\r\n\r\n    const [navString, setNavString] = useState(\"\")\r\n    const [leaveCheckoutModal, setLeaveCheckoutModal] = useState(false)\r\n\r\n    const [toggleMenu, setToggleMenu] = useState(false)\r\n    const [toggleString, setToggleString] = useState(\"none\")\r\n    // false here means not opened.\r\n\r\n    function handleToggleMenu() {\r\n        if (!toggleMenu) {\r\n            setToggleMenu(true)\r\n            setToggleString(\"initial\")\r\n            // document.getElementById('accordionMenu').foundation('showAll');\r\n        } else {\r\n            setToggleMenu(false)\r\n            setToggleString(\"none\")\r\n            // document.getElementById('accordionMenu').foundation('hideAll');\r\n        }\r\n    }\r\n    ////////\r\n\r\n    const [enterPaymentAllowed, setEnterPaymentAllowed] = useState(true)\r\n\r\n\r\n\r\n    /// \r\n\r\n    const [responsiveEmail, setResponsiveEmail] = useState(\"\")\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        window.mobileCheck = function () {\r\n            let check = false;\r\n            (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n            if (check == true) {\r\n                setIsLargeScreen(false)\r\n            }\r\n            return check;\r\n        };\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    ////\r\n    return (\r\n        <Context.Provider value={{\r\n\r\n            setContextCount,\r\n            setContextPrice,\r\n\r\n            contextCount,\r\n            contextPrice,\r\n\r\n            modifyCartCount,\r\n            modifyTotalPrice,\r\n            modifyWishlistCount,\r\n\r\n            cartInfo,\r\n            userInfo,\r\n\r\n            setCartInfo,\r\n            setUserInfo,\r\n\r\n            addressSaved,\r\n            modifyAddressSaved,\r\n            setAddressSaved,\r\n\r\n            itemList,\r\n            setItemList,\r\n            itemArray,\r\n\r\n            itemNumberString,\r\n            setItemNumberString,\r\n\r\n            itemCount,\r\n            totalCount,\r\n\r\n            itemCost,\r\n            totalCost,\r\n\r\n\r\n            providerId,\r\n            uid,\r\n            displayName,\r\n            userEmail,\r\n            photoURL,\r\n            anonUser,\r\n            setAnonUser,\r\n\r\n            signInUiLoaded,\r\n            setSignInUiLoaded,\r\n\r\n            handleSignOut,\r\n\r\n            userSignedInCount,\r\n            setUserSignedInCount,\r\n\r\n            costTallyFinished,\r\n            setCostTallyFinished,\r\n\r\n            itemsPurchased,\r\n            setItemsPurchased,\r\n\r\n            wishlistItems,\r\n            setWishlistItems,\r\n            wishlistItemCount,\r\n\r\n            addToWishlist,\r\n            addToCart,\r\n            fromWishlistToCart,\r\n\r\n            removeFromWishlist,\r\n            removeFromCart,\r\n\r\n            allProducts,\r\n\r\n            routerString,\r\n            setRouterString,\r\n\r\n            productPageComponent,\r\n            setProductPageComponent,\r\n\r\n            productsLoaded,\r\n            setProductsLoaded,\r\n\r\n            termsDisplay,\r\n            setTermsDisplay,\r\n\r\n            handleLocation,\r\n\r\n            itemsMerged,\r\n            setItemsMerged,\r\n\r\n            updateDatabaseOrders,\r\n\r\n            prevOrders,\r\n            ordersLoaded,\r\n\r\n            costTaxShipping,\r\n            setCostTaxShipping,\r\n\r\n            taxAmount,\r\n            setTaxAmount,\r\n\r\n            itemCategory,\r\n            setItemCategory,\r\n\r\n            beltCategory,\r\n            skirtCategory,\r\n            topCategory,\r\n            fullSetCategory,\r\n\r\n            activateAddToCartModal,\r\n            activateAddToWishlistModal,\r\n\r\n            activateRemoveFromCartModal,\r\n            activateRemoveFromWishlistModal,\r\n\r\n            activateMergeCartModal,\r\n\r\n            modalTempItem,\r\n            modalExecute,\r\n            modalText,\r\n            modalOpen,\r\n\r\n            setModalOpen,\r\n\r\n            finalItemList,\r\n            setFinalItemList,\r\n\r\n            optionsModalText,\r\n            activateOptionsModal,\r\n            closeOptionsModal,\r\n\r\n            receiptEmail,\r\n            setReceiptEmail,\r\n\r\n            prevAddressBilling,\r\n            prevAddressShipping,\r\n\r\n            payMethod,\r\n            setPayMethod,\r\n\r\n            uid,\r\n\r\n            productOnPageCount,\r\n            setProductOnPageCount,\r\n\r\n            accountName,\r\n            accountTitleString,\r\n            setAccountTitleString,\r\n\r\n            storeCredit,\r\n            setStoreCredit,\r\n\r\n            handleStoreCreditPrompt,\r\n\r\n            moddedStoreCredit,\r\n            setModdedStoreCredit,\r\n\r\n            priceAfterStoreCredit,\r\n            setPriceAfterStoreCredit,\r\n\r\n            handleAllCredit,\r\n            modStoreCredit,\r\n            storeCreditUsed,\r\n\r\n            exchangePurchase,\r\n            confirmExchangeOrder,\r\n            exchangePurchaseComplete,\r\n            lastExchangeOrderCreditUsed,\r\n\r\n            onCheckout,\r\n            setOnCheckout,\r\n\r\n            wishlistTempCache,\r\n            allowNotify,\r\n            setAllowNotify,\r\n            notifyUpdated,\r\n            setNotifyUpdated,\r\n            updatesChoice,\r\n            setUpdatesChoice,\r\n\r\n            categorySearch,\r\n            setCategorySearch,\r\n            displayNumber,\r\n            allNumber,\r\n            itemString,\r\n            setAllNumber,\r\n            setDisplayNumber,\r\n            setItemString,\r\n\r\n            itemLoadedCount,\r\n            setItemLoadedCount,\r\n\r\n            setStaySignedIn,\r\n            staySignedIn,\r\n\r\n            darkMode,\r\n            setDarkMode,\r\n\r\n            wishListDisplayed,\r\n            setWishlistDisplayed,\r\n            wishlistString,\r\n            setWishlistString,\r\n\r\n            expressCheckoutOn,\r\n            setExpressCheckoutOn,\r\n\r\n            handleExpressModal,\r\n\r\n            addressHandled,\r\n\r\n            orderComplete,\r\n            setOrderComplete,\r\n\r\n            tempShipAddress,\r\n            setTempShipAddress,\r\n\r\n            tempBillAddress,\r\n            setTempBillAddress,\r\n\r\n            setOrderFinished,\r\n\r\n            useExpressMode,\r\n            setUseExpressMode,\r\n\r\n            stripePromise,\r\n\r\n            isLargeScreen,\r\n\r\n            loaderOn,\r\n            setLoaderOn,\r\n            loadedCount,\r\n            setLoadedCount,\r\n\r\n            displayPayPal,\r\n            payPalHeightArr,\r\n\r\n            setDisplayPayPal,\r\n            setPayPalHeightArr,\r\n\r\n            searchString,\r\n            setSearchString,\r\n\r\n            stripeDisplayed,\r\n            setStripeDisplayed,\r\n            displayStripe,\r\n\r\n            storeCreditExceedsCost,\r\n            setStoreCreditExceedsCost,\r\n\r\n            changeAmount,\r\n            setChangeAmount,\r\n\r\n            previouslyViewed,\r\n            setPreviouslyViewed,\r\n\r\n            sidebarOpen,\r\n            setSidebarOpen,\r\n\r\n            toggleMenu,\r\n            setToggleMenu,\r\n            toggleString,\r\n            setToggleString,\r\n            handleToggleMenu,\r\n\r\n            enterPaymentAllowed,\r\n            setEnterPaymentAllowed,\r\n\r\n            onProductPage,\r\n            setOnProductPage,\r\n\r\n            responsiveEmail,\r\n            setResponsiveEmail,\r\n\r\n            homeLoaded,\r\n            setHomeLoaded,\r\n            incrementHome,\r\n\r\n            canResize,\r\n            setCanResize\r\n        }}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport { ContextProvider, Context }"],"sourceRoot":""}